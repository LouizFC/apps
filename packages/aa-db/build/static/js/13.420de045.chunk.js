(this["webpackJsonpaa-db"]=this["webpackJsonpaa-db"]||[]).push([[13],{104:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(104);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(104);var r=a(106);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},109:function(e,t,a){"use strict";var n=a(11),r=a(12),c=a(19),s=a(18),i=a(0),u=a.n(i),o=new Map([[1,"./assets/star1.png"],[2,"./assets/star2.png"],[3,"./assets/star3.png"],[4,"./assets/star4.png"],[5,"./assets/star5.png"]]),l=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e;return u.a.createElement("span",null,o.has(this.props.rarity)?u.a.createElement("img",{alt:"".concat(this.props.rarity," star(s)"),src:o.get(this.props.rarity),style:{height:null!==(e=this.props.height)&&void 0!==e?e:18}}):null)}}]),a}(u.a.Component);t.a=l},121:function(e,t,a){"use strict";var n;!function(e){e.SABER="saber",e.ARCHER="archer",e.LANCER="lancer",e.RIDER="rider",e.CASTER="caster",e.ASSASSIN="assassin",e.BERSERKER="berserker",e.SHIELDER="shielder",e.RULER="ruler",e.ALTER_EGO="alterEgo",e.AVENGER="avenger",e.GRAND_CASTER="grandCaster",e.BEAST_II="beastII",e.BEAST_I="beastI",e.MOON_CANCER="moonCancer",e.BEAST_IIIR="beastIIIR",e.FOREIGNER="foreigner",e.BEAST_IIIL="beastIIIL",e.BEAST_UNKNOWN="beastUnknown",e.ALL="ALL",e.EXTRA="EXTRA"}(n||(n={})),t.a=n},130:function(e,t,a){"use strict";var n=a(11),r=a(12),c=a(19),s=a(18),i=a(0),u=a.n(i),o=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement("img",{alt:"",src:this.props.location,style:this.props.height?{height:this.props.height}:void 0})}}]),a}(u.a.Component);t.a=o},131:function(e,t,a){"use strict";var n=a(11),r=a(12),c=a(19),s=a(18),i=a(0),u=a.n(i),o=a(121),l=new Map([[0,0],[1,1],[2,1],[3,2],[4,3],[5,3]]),f=new Map([[o.a.SABER,1],[o.a.ARCHER,2],[o.a.LANCER,3],[o.a.RIDER,4],[o.a.CASTER,5],[o.a.ASSASSIN,6],[o.a.BERSERKER,7],[o.a.SHIELDER,8],[o.a.RULER,9],[o.a.ALTER_EGO,10],[o.a.AVENGER,11],[o.a.MOON_CANCER,23],[o.a.FOREIGNER,25],[o.a.GRAND_CASTER,5],[o.a.BEAST_I,20],[o.a.BEAST_II,20],[o.a.BEAST_IIIL,20],[o.a.BEAST_IIIR,20],[o.a.BEAST_UNKNOWN,20],[o.a.ALL,1001],[o.a.EXTRA,1002]]),p=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e;return u.a.createElement("img",{alt:"",src:this.location(),style:{height:null!==(e=this.props.height)&&void 0!==e?e:24}})}},{key:"location",value:function(){var e,t=f.has(this.props.className)?f.get(this.props.className):12,a=null!==(e=this.props.rarity)&&void 0!==e?e:5,n=l.has(a)?l.get(a):3;return"https://assets.atlasacademy.io/GameData/NA/ClassIcons/class".concat(n,"_").concat(t,".png")}}]),a}(u.a.Component);t.a=p},183:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(108),r=a(11),c=a(12),s=a(19),i=a(18),u=a(0),o=a.n(u),l=a(95),f=a(185),p=a(13),v=a(97),h=a(121),g=a(131),m=a(54),E=a(130),d=a(9),b=a(109),y=(a(183),[h.a.SABER,h.a.ARCHER,h.a.LANCER,h.a.RIDER,h.a.CASTER,h.a.ASSASSIN,h.a.BERSERKER,h.a.EXTRA]),C=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={loading:!0,servants:[],activeClassFilters:[],activeRarityFilters:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{v.a.servantList(this.props.region).then((function(t){e.setState({loading:!1,servants:t})}))}catch(t){this.setState({error:t})}}},{key:"isClassFilterActive",value:function(e){return-1!==this.state.activeClassFilters.indexOf(e)}},{key:"isExtra",value:function(e){return!(e===h.a.SABER||e===h.a.ARCHER||e===h.a.LANCER||e===h.a.RIDER||e===h.a.CASTER||e===h.a.ASSASSIN||e===h.a.BERSERKER)}},{key:"toggleClassFilter",value:function(e){var t=!1,a=this.state.activeClassFilters.filter((function(a){return a!==h.a.ALL&&(a!==e||(t=!0,!1))}));t||a.push(e),this.setState({activeClassFilters:a})}},{key:"toggleRarityFilter",value:function(e){-1!==this.state.activeRarityFilters.indexOf(e)?this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==h.a.ALL})),activeRarityFilters:this.state.activeRarityFilters.filter((function(t){return t!==e}))}):this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==h.a.ALL})),activeRarityFilters:[].concat(Object(n.a)(this.state.activeRarityFilters),[e])})}},{key:"servants",value:function(){var e=this,t=this.state.servants.slice().reverse();if(this.state.activeRarityFilters.length>0&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),this.state.activeClassFilters.length>0&&(t=t.filter((function(t){for(var a in e.state.activeClassFilters){var n=e.state.activeClassFilters[a];if(n===h.a.EXTRA&&e.isExtra(t.className))return!0;if(t.className===n)return!0}return!1}))),this.state.search){var a=this.state.search.split(" ").filter((function(e){return e})).map((function(e){return e.toLowerCase()}));t=t.filter((function(e){return a.every((function(t){return e.name.toLowerCase().includes(t)}))}))}return t}},{key:"render",value:function(){var e,t=this;return this.state.error?o.a.createElement(m.a,{error:this.state.error}):this.state.loading?o.a.createElement(d.a,null):o.a.createElement("div",{id:"servants"},o.a.createElement(l.a,{inline:!0,style:{justifyContent:"center"}},y.map((function(e){var a=t.isClassFilterActive(e);return o.a.createElement("span",{key:e,className:"filter",style:{opacity:a?1:.5},onClick:function(a){t.toggleClassFilter(e)}},o.a.createElement(g.a,{height:50,rarity:a?5:3,className:e}))})),o.a.createElement(l.a.Control,{style:{marginLeft:"auto"},placeholder:"Search",value:null!==(e=this.state.search)&&void 0!==e?e:"",onChange:function(e){t.setState({search:e.target.value})}})),o.a.createElement("hr",null),o.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),o.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Class"),o.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Rarity"))),o.a.createElement("tbody",null,this.servants().map((function(e,a){var n="/".concat(t.props.region,"/servant/").concat(e.collectionNo);return o.a.createElement("tr",{key:a},o.a.createElement("td",{align:"center"},o.a.createElement(p.b,{to:n},e.collectionNo)),o.a.createElement("td",{align:"center"},o.a.createElement(g.a,{className:e.className,rarity:e.rarity,height:50})),o.a.createElement("td",{align:"center"},o.a.createElement(p.b,{to:n},o.a.createElement(E.a,{type:e.type,rarity:e.rarity,location:e.face,height:50}))),o.a.createElement("td",null,o.a.createElement(p.b,{to:n},e.name)),o.a.createElement("td",null,o.a.createElement(b.a,{rarity:e.rarity})))})))))}}]),a}(o.a.Component);t.default=C},97:function(e,t,a){"use strict";var n=a(115),r=a(11),c=a(12),s=a(99),i=a.n(s),u=a(100),o=a(133),l=a.n(o),f=a(24),p=a(31),v=a(29),h=function(){function e(){Object(r.a)(this,e),this.cache=new Map,this.pending=new Map,this.pendingCatches=new Map}return Object(c.a)(e,[{key:"get",value:function(e,t,a){var n=this,r=this.cache.get(e);if(void 0!==r)return new Promise((function(e){e(r)}));var c=this.pending.get(e);return void 0!==c?new Promise((function(t,a){var r;c.push(t),(null!==(r=n.pendingCatches.get(e))&&void 0!==r?r:[]).push(a)})):(this.pending.set(e,[]),this.pendingCatches.set(e,[]),new Promise((function(r,c){t.call(null).then((function(t){var c;(null!==(c=n.pending.get(e))&&void 0!==c?c:[]).forEach((function(e){e.call(null,t)})),n.cache.set(e,t),n.pending.delete(e),n.pendingCatches.delete(e),null!==a&&window.setTimeout((function(){n.cache.delete(e)}),a),r(t)})).catch((function(t){var a;(null!==(a=n.pendingCatches.get(e))&&void 0!==a?a:[]).forEach((function(e){e.call(null,t)})),n.pending.delete(e),n.pendingCatches.delete(e),c(t)}))})))}}]),e}(),g="https://api.atlasacademy.io",m=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E={buff:new h,commandCode:new h,commandCodes:new h,craftEssence:new h,craftEssenceList:new h,func:new h,mysticCode:new h,mysticCodeList:new h,noblePhantasm:new h,quest:new h,servant:new h,servantList:new h,skill:new h,traitMap:new h},d=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"buff",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.buff.get(n,(function(){var n="?reverse=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/buff/").concat(t).concat(n))}),2e4)}},{key:"commandCode",value:function(e,t){var a="".concat(e,"-").concat(t);return E.commandCode.get(a,(function(){return m("".concat(g,"/nice/").concat(e,"/CC/").concat(t))}),2e4)}},{key:"commandCodeList",value:function(){var t=Object(u.a)(i.a.mark((function t(a){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==v.a.NA){t.next=4;break}return t.abrupt("return",e.getCommandCodeEssenceList(v.a.NA));case 4:if(a!==v.a.JP||f.a.language()!==p.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCommandCodeEssenceList(v.a.JP));case 6:return t.next=8,e.getCommandCodeEssenceList(v.a.JP);case 8:return r=t.sent,t.next=11,e.getCommandCodeEssenceList(v.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(n.a)(Object(n.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"craftEssence",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.craftEssence.get(n,(function(){var n="?lore=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/equip/").concat(t).concat(n))}),2e4)}},{key:"craftEssenceList",value:function(){var t=Object(u.a)(i.a.mark((function t(a){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==v.a.NA){t.next=4;break}return t.abrupt("return",e.getCacheableCraftEssenceList(v.a.NA));case 4:if(a!==v.a.JP||f.a.language()!==p.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableCraftEssenceList(v.a.JP));case 6:return t.next=8,e.getCacheableCraftEssenceList(v.a.JP);case 8:return r=t.sent,t.next=11,e.getCacheableCraftEssenceList(v.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(n.a)(Object(n.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"func",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.func.get(n,(function(){var n="?reverse=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/function/").concat(t).concat(n))}),2e4)}},{key:"mysticCode",value:function(e,t){var a="".concat(e,"-").concat(t);return E.mysticCode.get(a,(function(){return m("".concat(g,"/nice/").concat(e,"/MC/").concat(t))}),2e4)}},{key:"mysticCodeList",value:function(){var t=Object(u.a)(i.a.mark((function t(a){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==v.a.NA){t.next=4;break}return t.abrupt("return",e.getCacheableMysticCodeList(v.a.NA));case 4:if(a!==v.a.JP||f.a.language()!==p.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableMysticCodeList(v.a.JP));case 6:return t.next=8,e.getCacheableMysticCodeList(v.a.JP);case 8:return r=t.sent,t.next=11,e.getCacheableMysticCodeList(v.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(n.a)(Object(n.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"noblePhantasm",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.noblePhantasm.get(n,(function(){var n="?reverse=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/NP/").concat(t).concat(n))}),2e4)}},{key:"quest",value:function(e,t,a){var n="".concat(e,"-").concat(t,"-").concat(a);return E.quest.get(n,(function(){return m("".concat(g,"/nice/").concat(e,"/quest/").concat(t,"/").concat(a))}),2e4)}},{key:"servant",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.servant.get(n,(function(){var n="?lore=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/servant/").concat(t).concat(n))}),2e4)}},{key:"servantList",value:function(){var t=Object(u.a)(i.a.mark((function t(a){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==v.a.NA){t.next=4;break}return t.abrupt("return",e.getCacheableServantList(v.a.NA));case 4:if(a!==v.a.JP||f.a.language()!==p.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableServantList(v.a.JP));case 6:return t.next=8,e.getCacheableServantList(v.a.JP);case 8:return r=t.sent,t.next=11,e.getCacheableServantList(v.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(n.a)(Object(n.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"skill",value:function(e,t){var a=f.a.language(),n="".concat(e,"-").concat(a,"-").concat(t);return E.skill.get(n,(function(){var n="?reverse=true"+(a===p.a.ENGLISH?"&lang=en":"");return m("".concat(g,"/nice/").concat(e,"/skill/").concat(t).concat(n))}),2e4)}},{key:"traitMap",value:function(e){return E.traitMap.get(e,(function(){return m("".concat(g,"/export/").concat(e,"/nice_trait.json"))}),null)}},{key:"searchBuffs",value:function(e,t,a){var n="?reverse=true";return f.a.language()===p.a.ENGLISH&&(n+="&lang=en"),t&&(n+="&name="+encodeURI(t)),a&&(n+="&type="+a),m("".concat(g,"/nice/").concat(e,"/buff/search").concat(n))}},{key:"searchFuncs",value:function(e,t,a,n,r){var c="?reverse=true";return f.a.language()===p.a.ENGLISH&&(c+="&lang=en"),t&&(c+="&popupText="+encodeURI(t)),a&&(c+="&type="+a),n&&(c+="&targetType="+n),r&&(c+="&targetTeam="+r),m("".concat(g,"/nice/").concat(e,"/function/search").concat(c))}},{key:"getCommandCodeEssenceList",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.commandCodes.get(t,(function(){return m("".concat(g,"/export/").concat(t,"/nice_command_code.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableCraftEssenceList",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.craftEssenceList.get(t,(function(){return m("".concat(g,"/export/").concat(t,"/basic_equip.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableMysticCodeList",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.mysticCodeList.get(t,(function(){return m("".concat(g,"/export/").concat(t,"/nice_mystic_code.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableServantList",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.servantList.get(t,(function(){return m("".concat(g,"/export/").concat(t,"/basic_servant.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=d}}]);
//# sourceMappingURL=13.420de045.chunk.js.map