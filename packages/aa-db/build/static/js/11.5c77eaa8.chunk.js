(this["webpackJsonpaa-db"]=this["webpackJsonpaa-db"]||[]).push([[11],{102:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}n.d(e,"a",(function(){return a}))},103:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(102);function r(t,e){if(t){if("string"===typeof t)return Object(a.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(t,e):void 0}}},110:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(102);var r=n(103);function c(t){return function(t){if(Array.isArray(t))return Object(a.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},112:function(t,e,n){"use strict";var a=n(10),r=n(11),c=n(18),i=n(17),s=n(0),u=n.n(s),o=new Map([[1,"./assets/star1.png"],[2,"./assets/star2.png"],[3,"./assets/star3.png"],[4,"./assets/star4.png"],[5,"./assets/star5.png"]]),l=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t;return u.a.createElement("span",null,o.has(this.props.rarity)?u.a.createElement("img",{alt:"".concat(this.props.rarity," star(s)"),src:o.get(this.props.rarity),style:{height:null!==(t=this.props.height)&&void 0!==t?t:18}}):null)}}]),n}(u.a.Component);e.a=l},124:function(t,e,n){"use strict";var a=n(10),r=n(11),c=n(18),i=n(17),s=n(0),u=n.n(s),o=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return u.a.createElement("img",{alt:"",src:this.props.location,style:this.props.height?{height:this.props.height}:void 0})}}]),n}(u.a.Component);e.a=o},172:function(t,e,n){},181:function(t,e,n){"use strict";n.r(e);var a=n(110),r=n(10),c=n(11),i=n(18),s=n(17),u=n(0),o=n.n(u),l=n(180),f=n(19),p=n(95),h=n(52),v=n(124),g=n(12),b=n(112),d=(n(172),function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={loading:!0,craftEssences:[],activeRarityFilters:[1,2,3,4,5]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;try{p.a.craftEssenceList(this.props.region).then((function(e){t.setState({loading:!1,craftEssences:e})}))}catch(e){this.setState({error:e})}}},{key:"toggleRarityFilter",value:function(t){-1!==this.state.activeRarityFilters.indexOf(t)?this.setState({activeRarityFilters:this.state.activeRarityFilters.filter((function(e){return e!==t}))}):this.setState({activeRarityFilters:[].concat(Object(a.a)(this.state.activeRarityFilters),[t])})}},{key:"craftEssences",value:function(){var t=this,e=this.state.craftEssences.slice().reverse();return 5!==this.state.activeRarityFilters.length&&(e=e.filter((function(e){return-1!==t.state.activeRarityFilters.indexOf(e.rarity)}))),e}},{key:"render",value:function(){var t=this;return this.state.error?o.a.createElement(h.a,{error:this.state.error}):this.state.loading?o.a.createElement(g.a,null):o.a.createElement("div",{id:"craft-essences"},o.a.createElement("p",{className:"text-center"},[1,2,3,4,5].map((function(e){var n=-1!==t.state.activeRarityFilters.indexOf(e);return o.a.createElement("span",{key:e,className:"filter",style:{opacity:n?1:.5},onClick:function(n){t.toggleRarityFilter(e)}},o.a.createElement(b.a,{rarity:e,height:20}))}))),o.a.createElement("hr",null),o.a.createElement(l.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),o.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Rarity"))),o.a.createElement("tbody",null,this.craftEssences().map((function(e,n){var a="/".concat(t.props.region,"/craft-essence/").concat(e.collectionNo);return o.a.createElement("tr",{key:n},o.a.createElement("td",{align:"center"},o.a.createElement(f.b,{to:a},e.collectionNo)),o.a.createElement("td",{align:"center"},o.a.createElement(f.b,{to:a},o.a.createElement(v.a,{type:e.type,rarity:e.rarity,location:e.face,height:50}))),o.a.createElement("td",null,o.a.createElement(f.b,{to:a},e.name)),o.a.createElement("td",null,o.a.createElement(b.a,{rarity:e.rarity})))})))))}}]),n}(o.a.Component));e.default=d},95:function(t,e,n){"use strict";var a,r=n(115),c=n(10),i=n(11),s=n(97),u=n.n(s),o=n(98),l=n(121),f=n.n(l),p=n(24),h=n(30);!function(t){t.JP="JP",t.NA="NA"}(a||(a={}));var v=a,g=function(){function t(){Object(c.a)(this,t),this.cache=new Map,this.pending=new Map,this.pendingCatches=new Map}return Object(i.a)(t,[{key:"get",value:function(t,e,n){var a=this,r=this.cache.get(t);if(void 0!==r)return new Promise((function(t){t(r)}));var c=this.pending.get(t);return void 0!==c?new Promise((function(e,n){var r;c.push(e),(null!==(r=a.pendingCatches.get(t))&&void 0!==r?r:[]).push(n)})):(this.pending.set(t,[]),this.pendingCatches.set(t,[]),new Promise((function(r,c){e.call(null).then((function(e){var c;(null!==(c=a.pending.get(t))&&void 0!==c?c:[]).forEach((function(t){t.call(null,e)})),a.cache.set(t,e),a.pending.delete(t),a.pendingCatches.delete(t),null!==n&&window.setTimeout((function(){a.cache.delete(t)}),n),r(e)})).catch((function(e){var n;(null!==(n=a.pendingCatches.get(t))&&void 0!==n?n:[]).forEach((function(t){t.call(null,e)})),a.pending.delete(t),a.pendingCatches.delete(t),c(e)}))})))}}]),t}(),b="https://api.atlasacademy.io",d=function(){var t=Object(o.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y={buff:new g,craftEssence:new g,craftEssenceList:new g,func:new g,mysticCode:new g,mysticCodeList:new g,noblePhantasm:new g,quest:new g,servant:new g,servantList:new g,skill:new g,traitMap:new g},m=function(){function t(){Object(c.a)(this,t)}return Object(i.a)(t,null,[{key:"buff",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.buff.get(a,(function(){var a="?reverse=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/buff/").concat(e).concat(a))}),2e4)}},{key:"craftEssence",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.craftEssence.get(a,(function(){var a="?lore=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/equip/").concat(e).concat(a))}),2e4)}},{key:"craftEssenceList",value:function(){var e=Object(o.a)(u.a.mark((function e(n){var a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==v.NA){e.next=4;break}return e.abrupt("return",t.getCacheableCraftEssenceList(v.NA));case 4:if(n!==v.JP||p.a.language()!==h.a.DEFAULT){e.next=6;break}return e.abrupt("return",t.getCacheableCraftEssenceList(v.JP));case 6:return e.next=8,t.getCacheableCraftEssenceList(v.JP);case 8:return a=e.sent,e.next=11,t.getCacheableCraftEssenceList(v.NA);case 11:return c=e.sent,i=new Map(c.map((function(t){return[t.id,t.name]}))),e.abrupt("return",a.map((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{name:null!==(e=i.get(t.id))&&void 0!==e?e:t.name})})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"func",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.func.get(a,(function(){var a="?reverse=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/function/").concat(e).concat(a))}),2e4)}},{key:"mysticCode",value:function(t,e){var n="".concat(t,"-").concat(e);return y.mysticCode.get(n,(function(){return d("".concat(b,"/nice/").concat(t,"/MC/").concat(e))}),2e4)}},{key:"mysticCodeList",value:function(){var e=Object(o.a)(u.a.mark((function e(n){var a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==v.NA){e.next=4;break}return e.abrupt("return",t.getCacheableMysticCodeList(v.NA));case 4:if(n!==v.JP||p.a.language()!==h.a.DEFAULT){e.next=6;break}return e.abrupt("return",t.getCacheableMysticCodeList(v.JP));case 6:return e.next=8,t.getCacheableMysticCodeList(v.JP);case 8:return a=e.sent,e.next=11,t.getCacheableMysticCodeList(v.NA);case 11:return c=e.sent,i=new Map(c.map((function(t){return[t.id,t.name]}))),e.abrupt("return",a.map((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{name:null!==(e=i.get(t.id))&&void 0!==e?e:t.name})})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"noblePhantasm",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.noblePhantasm.get(a,(function(){var a="?reverse=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/NP/").concat(e).concat(a))}),2e4)}},{key:"quest",value:function(t,e,n){var a="".concat(t,"-").concat(e,"-").concat(n);return y.quest.get(a,(function(){return d("".concat(b,"/nice/").concat(t,"/quest/").concat(e,"/").concat(n))}),2e4)}},{key:"servant",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.servant.get(a,(function(){var a="?lore=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/servant/").concat(e).concat(a))}),2e4)}},{key:"servantList",value:function(){var e=Object(o.a)(u.a.mark((function e(n){var a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==v.NA){e.next=4;break}return e.abrupt("return",t.getCacheableServantList(v.NA));case 4:if(n!==v.JP||p.a.language()!==h.a.DEFAULT){e.next=6;break}return e.abrupt("return",t.getCacheableServantList(v.JP));case 6:return e.next=8,t.getCacheableServantList(v.JP);case 8:return a=e.sent,e.next=11,t.getCacheableServantList(v.NA);case 11:return c=e.sent,i=new Map(c.map((function(t){return[t.id,t.name]}))),e.abrupt("return",a.map((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{name:null!==(e=i.get(t.id))&&void 0!==e?e:t.name})})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"skill",value:function(t,e){var n=p.a.language(),a="".concat(t,"-").concat(n,"-").concat(e);return y.skill.get(a,(function(){var a="?reverse=true"+(n===h.a.ENGLISH?"&lang=en":"");return d("".concat(b,"/nice/").concat(t,"/skill/").concat(e).concat(a))}),2e4)}},{key:"traitMap",value:function(t){return y.traitMap.get(t,(function(){return d("".concat(b,"/export/").concat(t,"/nice_trait.json"))}),null)}},{key:"getCacheableCraftEssenceList",value:function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.craftEssenceList.get(e,(function(){return d("".concat(b,"/export/").concat(e,"/basic_equip.json"))}),null));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCacheableMysticCodeList",value:function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.mysticCodeList.get(e,(function(){return d("".concat(b,"/export/").concat(e,"/nice_mystic_code.json"))}),null));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCacheableServantList",value:function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.servantList.get(e,(function(){return d("".concat(b,"/export/").concat(e,"/basic_servant.json"))}),null));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}();e.a=m}}]);
//# sourceMappingURL=11.5c77eaa8.chunk.js.map