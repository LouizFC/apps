(this["webpackJsonpaa-db"]=this["webpackJsonpaa-db"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(33),s=a.n(i),l=a(2),o=a(3),u=a(6),p=a(5),E=(a(95),a(129)),m=a(11),h=a(12),f=["./assets/figure_016.png","./assets/figure_074.png","./assets/figure_127.png","./assets/figure_145.png","./assets/figure_150.png","./assets/figure_174.png","./assets/figure_189.png","./assets/figure_198.png","./assets/figure_241.png","./assets/figure_253.png"],v=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n,r;if(void 0===this.props.error)r="Not Found";else if(500===(null===(e=this.props.error.response)||void 0===e?void 0:e.status))r="Server Error";else if(404===(null===(t=this.props.error.response)||void 0===t?void 0:t.status))r="Not Found";else{var i;r="Code: "+(null===(i=this.props.error.response)||void 0===i?void 0:i.status)}"object"===typeof(null===(a=this.props.error)||void 0===a||null===(n=a.response)||void 0===n?void 0:n.data)&&void 0!==this.props.error.response.data.detail&&(r=this.props.error.response.data.detail);var s=Math.floor(Math.random()*f.length),l=f[s];return c.a.createElement("div",{id:"error-status"},c.a.createElement("img",{alt:"Error",src:l,style:{display:"block",height:300,margin:"0 auto"}}),c.a.createElement("p",{className:"text-center",style:{margin:50}},c.a.createElement("strong",null,"ERROR: ",r)))}}]),a}(c.a.Component),d=a(64),g=a(19),A=a(17),N=a(137),O=a(88),_=a(48),T=a(130),b=a(135),y=a(136);!function(e){e.DEFAULT="Default",e.ENGLISH="English"}(n||(n={}));var R,S=[],D=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"language",value:function(){var e=window.localStorage.getItem("language"),t=Object.values(n).find((function(t){return t===e}));return null!==t&&void 0!==t?t:n.DEFAULT}},{key:"setLanguage",value:function(t){var a=Object.values(n).find((function(e){return e===t}));void 0!==a&&(window.localStorage.setItem("language",a),e.triggerCallbacks())}},{key:"onUpdate",value:function(e){S.push(e)}},{key:"triggerCallbacks",value:function(){S.forEach((function(e){e.call(null)}))}}]),e}(),C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={language:D.language()},D.onUpdate((function(){return n.syncSettings()})),n}return Object(o.a)(a,[{key:"syncSettings",value:function(){this.setState({language:D.language()})}},{key:"updateLanguage",value:function(e){D.setLanguage(e)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(y.a,null,c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Label,null,"Language"),c.a.createElement(y.a.Control,{as:"select",value:this.state.language,onChange:function(t){return e.updateLanguage(t.target.value)}},Object.values(n).map((function(e){return c.a.createElement("option",{value:e},e)}))))))}}]),a}(c.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showSettings:!1},n}return Object(o.a)(a,[{key:"hideSettings",value:function(){this.setState({showSettings:!1})}},{key:"showSettings",value:function(){this.setState({showSettings:!0})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(N.a,{bg:"dark",variant:"dark",expand:"lg"},c.a.createElement(E.a,null,c.a.createElement(m.b,{to:"/",className:"navbar-brand"},"AA-DB"),c.a.createElement(N.a.Toggle,null),c.a.createElement(N.a.Collapse,null,c.a.createElement(O.a,null,c.a.createElement(m.b,{to:"/JP/servants",className:"nav-link"},c.a.createElement(_.a,null,"JP Servants"))),c.a.createElement(O.a,null,c.a.createElement(m.b,{to:"/NA/servants",className:"nav-link"},c.a.createElement(_.a,null,"NA Servants"))),c.a.createElement(O.a,null,c.a.createElement(m.b,{to:"/JP/craft-essences",className:"nav-link"},c.a.createElement(_.a,null,"JP CE"))),c.a.createElement(O.a,null,c.a.createElement(m.b,{to:"/NA/craft-essences",className:"nav-link"},c.a.createElement(_.a,null,"NA CE"))),c.a.createElement(O.a,{className:"ml-auto"},c.a.createElement(O.a.Link,{href:"https://discord.gg/TKJmuCR",target:"_blank"},c.a.createElement(A.a,{icon:d.a})),c.a.createElement(O.a.Link,{href:"https://github.com/atlasacademy/aa-db",target:"_blank"},c.a.createElement(A.a,{icon:d.b})),c.a.createElement(T.a,{variant:"primary",onClick:function(){return e.showSettings()}},c.a.createElement(A.a,{icon:g.a})))))),c.a.createElement(b.a,{show:this.state.showSettings,onHide:function(){return e.hideSettings()}},c.a.createElement(b.a.Header,{closeButton:!0},c.a.createElement(b.a.Title,null,"Settings")),c.a.createElement(b.a.Body,null,c.a.createElement(C,null))))}}]),a}(c.a.Component),P=a(10),k=a.n(P),L=a(14),j=a(30),M=a(86),U=a.n(M);!function(e){e.JP="JP",e.NA="NA"}(R||(R={}));var F=R,w=function(){function e(){Object(l.a)(this,e),this.cache=new Map([]),this.pending=new Map([])}return Object(o.a)(e,[{key:"get",value:function(e,t,a){var n=this,r=this.cache.get(e);if(void 0!==r)return new Promise((function(e){e(r)}));var c=this.pending.get(e);return void 0!==c?new Promise((function(e){c.push(e)})):(this.pending.set(e,[]),new Promise((function(r){t.call(null).then((function(t){var c;(null!==(c=n.pending.get(e))&&void 0!==c?c:[]).forEach((function(e){e.call(n,t)})),n.cache.set(e,t),n.pending.delete(e),null!==a&&window.setTimeout((function(){n.cache.delete(e)}),a),r(t)}))})))}}]),e}(),H="https://api.atlasacademy.io",G=function(){var e=Object(L.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={buff:new w,craftEssence:new w,craftEssenceList:new w,func:new w,noblePhantasm:new w,quest:new w,servant:new w,servantList:new w,skill:new w,traitMap:new w},V=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"buff",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.buff.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/buff/").concat(t).concat(r))}),2e4)}},{key:"craftEssence",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.craftEssence.get(r,(function(){var r="?lore=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/equip/").concat(t).concat(r))}),2e4)}},{key:"craftEssenceList",value:function(){var t=Object(L.a)(k.a.mark((function t(a){var r,c,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==F.NA){t.next=4;break}return t.abrupt("return",e.getCacheableCraftEssenceList(F.NA));case 4:if(a!==F.JP||D.language()!==n.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableCraftEssenceList(F.JP));case 6:return t.next=8,e.getCacheableCraftEssenceList(F.JP);case 8:return r=t.sent,t.next=11,e.getCacheableCraftEssenceList(F.NA);case 11:return c=t.sent,i=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(j.a)(Object(j.a)({},e),{},{name:null!==(t=i.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"func",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.func.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/function/").concat(t).concat(r))}),2e4)}},{key:"noblePhantasm",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.noblePhantasm.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/NP/").concat(t).concat(r))}),2e4)}},{key:"quest",value:function(e,t,a){var n="".concat(e,"-").concat(t,"-").concat(a);return x.quest.get(n,(function(){return G("".concat(H,"/nice/").concat(e,"/quest/").concat(t,"/").concat(a))}),2e4)}},{key:"servant",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.servant.get(r,(function(){var r="?lore=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/servant/").concat(t).concat(r))}),2e4)}},{key:"servantList",value:function(){var t=Object(L.a)(k.a.mark((function t(a){var r,c,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==F.NA){t.next=4;break}return t.abrupt("return",e.getCacheableServantList(F.NA));case 4:if(a!==F.JP||D.language()!==n.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableServantList(F.JP));case 6:return t.next=8,e.getCacheableServantList(F.JP);case 8:return r=t.sent,t.next=11,e.getCacheableServantList(F.NA);case 11:return c=t.sent,i=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(j.a)(Object(j.a)({},e),{},{name:null!==(t=i.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"skill",value:function(e,t){var a=D.language(),r="".concat(e,"-").concat(a,"-").concat(t);return x.skill.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return G("".concat(H,"/nice/").concat(e,"/skill/").concat(t).concat(r))}),2e4)}},{key:"traitMap",value:function(e){return x.traitMap.get(e,(function(){return G("".concat(H,"/export/").concat(e,"/nice_trait.json"))}),null)}},{key:"getCacheableCraftEssenceList",value:function(){var e=Object(L.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.craftEssenceList.get(t,(function(){return G("".concat(H,"/export/").concat(t,"/basic_equip.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableServantList",value:function(){var e=Object(L.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.servantList.get(t,(function(){return G("".concat(H,"/export/").concat(t,"/basic_servant.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return c.a.createElement("img",{alt:"",src:this.props.location,style:{height:null!==(e=this.props.height)&&void 0!==e?e:25,verticalAlign:"bottom"}})}}]),a}(c.a.Component),W=a(131),Y=(a(120),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.props.header?c.a.createElement("div",{className:"data-header"},this.props.header):null,c.a.createElement(W.a,{bordered:!0,hover:!0,className:"data-table"},c.a.createElement("tbody",null,Object.keys(this.props.data).map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("th",null,t),c.a.createElement("td",null,e.props.data[t]))})))))}}]),a}(c.a.Component));a(121);var K,J,q,Q,X,z=function(){return c.a.createElement("div",{id:"loading"},c.a.createElement("img",{alt:"",className:"fou f1",src:"./assets/load_icon_A01.png"}),c.a.createElement("img",{alt:"",className:"fou f2",src:"./assets/load_icon_A02.png"}),c.a.createElement("img",{alt:"",className:"fou f3",src:"./assets/load_icon_A03.png"}),c.a.createElement("img",{alt:"",className:"fou f4",src:"./assets/load_icon_A04.png"}))},$=a(87),Z=a.n($),ee=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showing:!1},n}return Object(o.a)(a,[{key:"hide",value:function(){this.setState({showing:!1})}},{key:"show",value:function(){this.setState({showing:!0})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){e.show()}},"View Raw \xa0",c.a.createElement(A.a,{icon:g.b})),c.a.createElement(b.a,{size:"lg",show:this.state.showing,onHide:function(){return e.hide()}},c.a.createElement(b.a.Header,{closeButton:!0},c.a.createElement(b.a.Title,null,"Raw Data Viewer")),c.a.createElement(b.a.Body,null,c.a.createElement(Z.a,{src:this.props.data,collapsed:1}))))}}]),a}(c.a.Component);function te(e,t){var a=(null!==e&&void 0!==e?e:0)/Math.pow(10,t);return"".concat(a,"%")}function ae(e){return e?c.a.createElement("span",null,ne(e.split("\n"),c.a.createElement("br",null))):""}function ne(e,t){var a=[],n=function(e){if(void 0!==e)if("object"!==typeof e)if(0!==a.length){var t=a[a.length-1];"string"===typeof t?a[a.length-1]=t+e.toString():a.push(e.toString())}else a.push(e.toString());else a.push(e)};return e.forEach((function(e,a){a>0&&n(t),n(e)})),a}!function(e){e.NONE="none",e.ADD_STATE="addState",e.SUB_STATE="subState",e.DAMAGE="damage",e.DAMAGE_NP="damageNp",e.GAIN_STAR="gainStar",e.GAIN_HP="gainHp",e.GAIN_NP="gainNp",e.LOSS_NP="lossNp",e.SHORTEN_SKILL="shortenSkill",e.EXTEND_SKILL="extendSkill",e.RELEASE_STATE="releaseState",e.LOSS_HP="lossHp",e.INSTANT_DEATH="instantDeath",e.DAMAGE_NP_PIERCE="damageNpPierce",e.DAMAGE_NP_INDIVIDUAL="damageNpIndividual",e.ADD_STATE_SHORT="addStateShort",e.GAIN_HP_PER="gainHpPer",e.DAMAGE_NP_STATE_INDIVIDUAL="damageNpStateIndividual",e.HASTEN_NPTURN="hastenNpturn",e.DELAY_NPTURN="delayNpturn",e.DAMAGE_NP_HPRATIO_HIGH="damageNpHpratioHigh",e.DAMAGE_NP_HPRATIO_LOW="damageNpHpratioLow",e.CARD_RESET="cardReset",e.REPLACE_MEMBER="replaceMember",e.LOSS_HP_SAFE="lossHpSafe",e.DAMAGE_NP_COUNTER="damageNpCounter",e.DAMAGE_NP_STATE_INDIVIDUAL_FIX="damageNpStateIndividualFix",e.DAMAGE_NP_SAFE="damageNpSafe",e.CALL_SERVANT="callServant",e.PT_SHUFFLE="ptShuffle",e.LOSS_STAR="lossStar",e.CHANGE_SERVANT="changeServant",e.CHANGE_BG="changeBg",e.DAMAGE_VALUE="damageValue",e.WITHDRAW="withdraw",e.FIX_COMMANDCARD="fixCommandcard",e.SHORTEN_BUFFTURN="shortenBuffturn",e.EXTEND_BUFFTURN="extendBuffturn",e.SHORTEN_BUFFCOUNT="shortenBuffcount",e.EXTEND_BUFFCOUNT="extendBuffcount",e.CHANGE_BGM="changeBgm",e.DISPLAY_BUFFSTRING="displayBuffstring",e.EXP_UP="expUp",e.QP_UP="qpUp",e.DROP_UP="dropUp",e.FRIEND_POINT_UP="friendPointUp",e.EVENT_DROP_UP="eventDropUp",e.EVENT_DROP_RATE_UP="eventDropRateUp",e.EVENT_POINT_UP="eventPointUp",e.EVENT_POINT_RATE_UP="eventPointRateUp",e.TRANSFORM_SERVANT="transformServant",e.QP_DROP_UP="qpDropUp",e.SERVANT_FRIENDSHIP_UP="servantFriendshipUp",e.USER_EQUIP_EXP_UP="userEquipExpUp",e.CLASS_DROP_UP="classDropUp",e.ENEMY_ENCOUNT_COPY_RATE_UP="enemyEncountCopyRateUp",e.ENEMY_ENCOUNT_RATE_UP="enemyEncountRateUp",e.ENEMY_PROB_DOWN="enemyProbDown"}(K||(K={})),function(e){e.SELF="self",e.PT_ONE="ptOne",e.PT_ANOTHER="ptAnother",e.PT_ALL="ptAll",e.ENEMY="enemy",e.ENEMY_ANOTHER="enemyAnother",e.ENEMY_ALL="enemyAll",e.PT_FULL="ptFull",e.ENEMY_FULL="enemyFull",e.PT_OTHER="ptOther",e.PT_ONE_OTHER="ptOneOther",e.PT_RANDOM="ptRandom",e.ENEMY_OTHER="enemyOther",e.ENEMY_RANDOM="enemyRandom",e.PT_OTHER_FULL="ptOtherFull",e.ENEMY_OTHER_FULL="enemyOtherFull",e.PTSELECT_ONE_SUB="ptselectOneSub",e.PTSELECT_SUB="ptselectSub",e.PT_ONE_ANOTHER_RANDOM="ptOneAnotherRandom",e.PT_SELF_ANOTHER_RANDOM="ptSelfAnotherRandom",e.ENEMY_ONE_ANOTHER_RANDOM="enemyOneAnotherRandom",e.PT_SELF_ANOTHER_FIRST="ptSelfAnotherFirst",e.PT_SELF_BEFORE="ptSelfBefore",e.PT_SELF_AFTER="ptSelfAfter",e.PT_SELF_ANOTHER_LAST="ptSelfAnotherLast",e.COMMAND_TYPE_SELF_TREASURE_DEVICE="commandTypeSelfTreasureDevice"}(J||(J={})),function(e){e.PLAYER="player",e.ENEMY="enemy",e.PLAYER_AND_ENEMY="playerAndEnemy"}(q||(q={})),function(e){e.RATE="Rate",e.TURN="Turn",e.COUNT="Count",e.VALUE="Value",e.VALUE2="Value2",e.USE_RATE="UseRate",e.TARGET="Target",e.CORRECTION="Correction",e.PARAM_ADD="ParamAdd",e.PARAM_MAX="ParamMax",e.HIDE_MISS="HideMiss",e.ON_FIELD="OnField",e.HIDE_NO_EFFECT="HideNoEffect",e.UNAFFECTED="Unaffected",e.SHOW_STATE="ShowState",e.AURA_EFFECT_ID="AuraEffectId",e.ACT_SET="ActSet",e.ACT_SET_WEIGHT="ActSetWeight",e.SHOW_QUEST_NO_EFFECT="ShowQuestNoEffect",e.CHECK_DEAD="CheckDead",e.RATIO_HP_HIGH="RatioHPHigh",e.RATIO_HP_LOW="RatioHPLow",e.SET_PASSIVE_FRAME="SetPassiveFrame",e.PROC_PASSIVE="ProcPassive",e.PROC_ACTIVE="ProcActive",e.HIDE_PARAM="HideParam",e.SKILL_ID="SkillID",e.SKILL_LV="SkillLV",e.SHOW_CARD_ONLY="ShowCardOnly",e.EFFECT_SUMMON="EffectSummon",e.RATIO_HP_RANGE_HIGH="RatioHPRangeHigh",e.RATIO_HP_RANGE_LOW="RatioHPRangeLow",e.TARGET_LIST="TargetList",e.OPPONENT_ONLY="OpponentOnly",e.TARGET_RARITY_LIST="TargetRarityList"}(Q||(Q={})),function(e){e.NONE="none",e.UP_COMMANDATK="upCommandatk",e.UP_STARWEIGHT="upStarweight",e.UP_CRITICALPOINT="upCriticalpoint",e.DOWN_CRITICALPOINT="downCriticalpoint",e.REGAIN_NP="regainNp",e.REGAIN_STAR="regainStar",e.REGAIN_HP="regainHp",e.REDUCE_HP="reduceHp",e.UP_ATK="upAtk",e.DOWN_ATK="downAtk",e.UP_DAMAGE="upDamage",e.DOWN_DAMAGE="downDamage",e.ADD_DAMAGE="addDamage",e.SUB_DAMAGE="subDamage",e.UP_NPDAMAGE="upNpdamage",e.DOWN_NPDAMAGE="downNpdamage",e.UP_DROPNP="upDropnp",e.UP_CRITICALDAMAGE="upCriticaldamage",e.DOWN_CRITICALDAMAGE="downCriticaldamage",e.UP_SELFDAMAGE="upSelfdamage",e.DOWN_SELFDAMAGE="downSelfdamage",e.ADD_SELFDAMAGE="addSelfdamage",e.SUB_SELFDAMAGE="subSelfdamage",e.AVOIDANCE="avoidance",e.BREAK_AVOIDANCE="breakAvoidance",e.INVINCIBLE="invincible",e.UP_GRANTSTATE="upGrantstate",e.DOWN_GRANTSTATE="downGrantstate",e.UP_TOLERANCE="upTolerance",e.DOWN_TOLERANCE="downTolerance",e.AVOID_STATE="avoidState",e.DONOT_ACT="donotAct",e.DONOT_SKILL="donotSkill",e.DONOT_NOBLE="donotNoble",e.DONOT_RECOVERY="donotRecovery",e.DISABLE_GENDER="disableGender",e.GUTS="guts",e.UP_HATE="upHate",e.ADD_INDIVIDUALITY="addIndividuality",e.SUB_INDIVIDUALITY="subIndividuality",e.UP_DEFENCE="upDefence",e.DOWN_DEFENCE="downDefence",e.UP_COMMANDSTAR="upCommandstar",e.UP_COMMANDNP="upCommandnp",e.UP_COMMANDALL="upCommandall",e.DOWN_COMMANDALL="downCommandall",e.DOWN_STARWEIGHT="downStarweight",e.REDUCE_NP="reduceNp",e.DOWN_DROPNP="downDropnp",e.UP_GAIN_HP="upGainHp",e.DOWN_GAIN_HP="downGainHp",e.DOWN_COMMANDATK="downCommandatk",e.DOWN_COMMANSTAR="downCommanstar",e.DOWN_COMMANDNP="downCommandnp",e.UP_CRITICALRATE="upCriticalrate",e.DOWN_CRITICALRATE="downCriticalrate",e.PIERCE_INVINCIBLE="pierceInvincible",e.AVOID_INSTANTDEATH="avoidInstantdeath",e.UP_RESIST_INSTANTDEATH="upResistInstantdeath",e.UP_NONRESIST_INSTANTDEATH="upNonresistInstantdeath",e.DELAY_FUNCTION="delayFunction",e.REGAIN_NP_USED_NOBLE="regainNpUsedNoble",e.DEAD_FUNCTION="deadFunction",e.UP_MAXHP="upMaxhp",e.DOWN_MAXHP="downMaxhp",e.ADD_MAXHP="addMaxhp",e.SUB_MAXHP="subMaxhp",e.BATTLESTART_FUNCTION="battlestartFunction",e.WAVESTART_FUNCTION="wavestartFunction",e.SELFTURNEND_FUNCTION="selfturnendFunction",e.UP_GIVEGAIN_HP="upGivegainHp",e.DOWN_GIVEGAIN_HP="downGivegainHp",e.COMMANDATTACK_FUNCTION="commandattackFunction",e.DEADATTACK_FUNCTION="deadattackFunction",e.UP_SPECIALDEFENCE="upSpecialdefence",e.DOWN_SPECIALDEFENCE="downSpecialdefence",e.UP_DAMAGEDROPNP="upDamagedropnp",e.DOWN_DAMAGEDROPNP="downDamagedropnp",e.ENTRY_FUNCTION="entryFunction",e.UP_CHAGETD="upChagetd",e.REFLECTION_FUNCTION="reflectionFunction",e.UP_GRANT_SUBSTATE="upGrantSubstate",e.DOWN_GRANT_SUBSTATE="downGrantSubstate",e.UP_TOLERANCE_SUBSTATE="upToleranceSubstate",e.DOWN_TOLERANCE_SUBSTATE="downToleranceSubstate",e.UP_GRANT_INSTANTDEATH="upGrantInstantdeath",e.DOWN_GRANT_INSTANTDEATH="downGrantInstantdeath",e.GUTS_RATIO="gutsRatio",e.DAMAGE_FUNCTION="damageFunction",e.UP_DEFENCECOMMANDALL="upDefencecommandall",e.DOWN_DEFENCECOMMANDALL="downDefencecommandall",e.OVERWRITE_BATTLECLASS="overwriteBattleclass",e.OVERWRITE_CLASSRELATIO_ATK="overwriteClassrelatioAtk",e.OVERWRITE_CLASSRELATIO_DEF="overwriteClassrelatioDef",e.UP_DAMAGE_INDIVIDUALITY="upDamageIndividuality",e.DOWN_DAMAGE_INDIVIDUALITY="downDamageIndividuality",e.UP_DAMAGE_INDIVIDUALITY_ACTIVEONLY="upDamageIndividualityActiveonly",e.DOWN_DAMAGE_INDIVIDUALITY_ACTIVEONLY="downDamageIndividualityActiveonly",e.UP_NPTURNVAL="upNpturnval",e.DOWN_NPTURNVAL="downNpturnval",e.MULTIATTACK="multiattack",e.UP_GIVE_NP="upGiveNp",e.DOWN_GIVE_NP="downGiveNp",e.UP_RESISTANCE_DELAY_NPTURN="upResistanceDelayNpturn",e.DOWN_RESISTANCE_DELAY_NPTURN="downResistanceDelayNpturn",e.PIERCE_DEFENCE="pierceDefence",e.UP_GUTS_HP="upGutsHp",e.DOWN_GUTS_HP="downGutsHp",e.UP_FUNCGAIN_NP="upFuncgainNp",e.DOWN_FUNCGAIN_NP="downFuncgainNp",e.UP_FUNC_HP_REDUCE="upFuncHpReduce",e.DOWN_FUNC_HP_REDUCE="downFuncHpReduce",e.UP_DEFENCECOMMAN_DAMAGE="upDefencecommanDamage",e.DOWN_DEFENCECOMMAN_DAMAGE="downDefencecommanDamage",e.NPATTACK_PREV_BUFF="npattackPrevBuff",e.FIX_COMMANDCARD="fixCommandcard",e.DONOT_GAINNP="donotGainnp",e.FIELD_INDIVIDUALITY="fieldIndividuality",e.DONOT_ACT_COMMANDTYPE="donotActCommandtype",e.UP_DAMAGE_EVENT_POINT="upDamageEventPoint"}(X||(X={}));var re=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a="";switch(this.props.buff.type){case X.UP_ATK:case X.DOWN_ATK:case X.UP_COMMANDALL:case X.DOWN_COMMANDALL:case X.UP_CRITICALDAMAGE:case X.DOWN_CRITICALDAMAGE:case X.UP_DEFENCE:case X.DOWN_DEFENCE:case X.UP_DROPNP:case X.DOWN_DROPNP:case X.UP_HATE:case X.UP_TOLERANCE:case X.DOWN_TOLERANCE:a=te(this.props.dataVal.Value,1);break;default:a=null!==(e=null===(t=this.props.dataVal.Value)||void 0===t?void 0:t.toString())&&void 0!==e?e:""}return a}}]),a}(c.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.region,t=this.props.func,a=this.props.dataVal,n=[];if(void 0!==a.Rate&&n.push(te(a.Rate,1)),void 0!==a.Value)switch(t.funcType){case K.ADD_STATE:case K.ADD_STATE_SHORT:n.push(c.a.createElement(re,{region:e,buff:t.buffs[0],dataVal:a}));break;case K.DAMAGE_NP:case K.DAMAGE_NP_INDIVIDUAL:case K.DAMAGE_NP_STATE_INDIVIDUAL_FIX:case K.DAMAGE_NP_PIERCE:n.push(te(a.Value,1));break;case K.GAIN_NP:case K.LOSS_NP:n.push(te(a.Value,2));break;default:n.push(a.Value.toString())}if(void 0!==a.Correction)switch(t.funcType){case K.DAMAGE_NP_INDIVIDUAL:case K.DAMAGE_NP_STATE_INDIVIDUAL_FIX:n.push(te(a.Correction,1));break;default:n.push(a.Correction.toString())}return n.length?c.a.createElement("span",null,ne(n," + ")):c.a.createElement("span",null,"-")}}]),a}(c.a.Component),ie=function(e){if(!e.length)return!1;for(var t=e[0],a=1;a<e.length;a++){if(JSON.stringify(t)!==JSON.stringify(e[a]))return!0;t=e[a]}return!1},se=function(e){return new Set(e).size>1};function le(e,t){var a=oe(t),n=ue(t);return function(e){if(!e.length)return[];var t=function(e){return Object.values(Q).filter((function(t){var a=e.map((function(e){return e[t]}));return se(a)}))}(e);return e.map((function(e){var a={};for(var n in t)a[t[n]]=e[t[n]];return a}))}(a&&n?Ee(t):n?me(t):pe(t)).map((function(a){return c.a.createElement(ce,{region:e,func:t,dataVal:a})}))}function oe(e){return ie(pe(e))}function ue(e){return ie(me(e))}function pe(e){var t;return null!==(t=e.svals)&&void 0!==t?t:[]}function Ee(e){for(var t=[],a=1;a<=5;a++){var n=fe(e,a,a);void 0!==n&&t.push(n)}return t}function me(e){for(var t=[],a=1;a<=5;a++){var n=fe(e,1,a);void 0!==n&&t.push(n)}return t}function he(e){if(!e.length)return{};var t=function(e){return Object.values(Q).filter((function(t){var a=e.map((function(e){return e[t]}));return!se(a)}))}(e),a={};for(var n in t)a[t[n]]=e[0][t[n]];return a}function fe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(void 0!==e.svals)return(2===a&&e.svals2?e.svals2:3===a&&e.svals3?e.svals3:4===a&&e.svals4?e.svals4:5===a&&e.svals5?e.svals5:e.svals)[t-1]}var ve,de=function e(t){Object(l.a)(this,e),this.showing=!0,this.parts=[],this.preposition=void 0,this.preposition=t},ge=function e(){Object(l.a)(this,e),this.chance=new de,this.action=new de,this.amount=new de("of"),this.affects=new de,this.target=new de("to"),this.duration=new de,this.scaling=new de},Ae=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.buff,t=e.name;return e.type===X.DONOT_ACT&&e.vals.filter((function(e){return 3012===e.id})).length>0&&(t="Charm"),c.a.createElement(m.b,{to:"/".concat(this.props.region,"/buff/").concat(e.id)},"[",t," ",c.a.createElement(B,{location:e.icon}),"]")}}]),a}(c.a.Component),Ne=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"number"===typeof e.trait?e.trait:e.trait.id,trait:"number"===typeof e.trait?void 0:e.trait},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.trait){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V.traitMap(this.props.region);case 4:void 0!==(t=e.sent)[this.state.id]&&this.setState({trait:{id:this.state.id,name:t[this.state.id]}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("span",null,"[",this.state.trait?this.state.trait.name:"unknown",void 0===this.state.trait||"unknown"===this.state.trait.name?"(".concat(this.state.id,")"):null,"]")}}]),a}(c.a.Component),Oe=new Map([[J.SELF,"self"],[J.PT_ONE,"party member"],[J.PT_ALL,"party"],[J.ENEMY,"enemy"],[J.ENEMY_ALL,"enemies"],[J.PT_FULL,"party (including reserve)"],[J.ENEMY_FULL,"enemies (including reserve)"],[J.PT_OTHER,"party except self"],[J.PT_ONE_OTHER,"other party member"],[J.PT_RANDOM,"random party member"],[J.ENEMY_OTHER,"other enemies"],[J.ENEMY_RANDOM,"random enemy"],[J.PT_OTHER_FULL,"party except self (including reserve)"],[J.ENEMY_OTHER_FULL,"other enemies (including reserve)"],[J.PTSELECT_ONE_SUB,"active party member and reserve party member"],[J.PTSELECT_SUB,"reserve party member"],[J.PT_ONE_ANOTHER_RANDOM,"other random party member"],[J.PT_SELF_ANOTHER_RANDOM,"other random party member (or self)"],[J.ENEMY_ONE_ANOTHER_RANDOM,"other random enemy"],[J.PT_SELF_ANOTHER_FIRST,"first other party member (or self)"],[J.COMMAND_TYPE_SELF_TREASURE_DEVICE,"target noble phantasm version"]]),_e=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.region,t=this.props.func,a=oe(t),n=ue(t),r=he(a&&n?Ee(t):n?me(t):pe(t)),i=new ge;!function(e,t,a,n){var r=t.chance,c=r.parts;n.Rate&&1e3!==n.Rate?c.push(n.Rate/10+"% Chance to"):n.Rate||a.funcType===K.NONE?r.showing=!1:c.push("Chance to")}(0,i,t,r),function(e,t,a,n){var r=t.action.parts;if(a.funcType===K.ADD_STATE||a.funcType===K.ADD_STATE_SHORT)r.push("Apply"),a.buffs.forEach((function(t,a){a>0&&r.push("&"),r.push(c.a.createElement(Ae,{region:e,buff:t}))})),t.target.preposition="on";else if(a.funcType===K.SUB_STATE){var i;r.push("Remove effects"),(null===(i=a.traitVals)||void 0===i?void 0:i.length)&&(r.push("with"),a.traitVals.forEach((function(t,a){a>0&&r.push("&"),r.push(c.a.createElement(Ne,{region:e,trait:t}))}))),t.target.preposition="for"}else a.funcType===K.DAMAGE_NP?(r.push("Deal damage"),t.amount.preposition="for"):a.funcType===K.DAMAGE_NP_INDIVIDUAL||a.funcType===K.DAMAGE_NP_STATE_INDIVIDUAL_FIX?(n.Target?r.push(c.a.createElement("span",null,"Deal damage (additional to targets with ",c.a.createElement(Ne,{region:e,trait:n.Target}),")")):r.push("Deal damage"),t.amount.preposition="for"):a.funcType===K.DAMAGE_NP_PIERCE?(r.push("Deal damage that pierces defence"),t.amount.preposition="for"):a.funcType===K.DELAY_NPTURN?(r.push("Drain Charge"),t.target.preposition="from"):a.funcType===K.GAIN_HP?(r.push("Gain HP"),t.target.preposition="on"):a.funcType===K.GAIN_NP?(r.push("Charge NP"),t.target.preposition="for"):a.funcType===K.GAIN_STAR?(r.push("Gain Critical Stars"),t.target.showing=!1):a.funcType===K.INSTANT_DEATH?r.push("Apply Death"):a.funcType===K.LOSS_HP_SAFE?(r.push("Lose HP"),t.target.showing=!1):a.funcType===K.NONE?(r.push("No Effect"),t.target.showing=!1):r.push(a.funcType)}(e,i,t,r),function(e,t,a,n){var r,i,s=t.amount,l=s.parts;if(n.Value)if((null===(r=a.buffs[0])||void 0===r?void 0:r.type)===X.COMMANDATTACK_FUNCTION)s.preposition="that triggers",l.push(c.a.createElement(m.b,{to:"/".concat(e,"/skill/").concat(n.Value)},"[Skill: ",n.Value,"]"));else if((null===(i=a.buffs[0])||void 0===i?void 0:i.type)===X.NPATTACK_PREV_BUFF)s.preposition="that triggers",l.push(c.a.createElement(m.b,{to:"/".concat(e,"/skill/").concat(n.SkillID)},"[Skill: ",n.SkillID,"]"));else if(a.buffs[0])l.push(c.a.createElement(re,{region:e,buff:a.buffs[0],dataVal:n}));else{Object(j.a)({},n).Rate=void 0,l.push(c.a.createElement(ce,{region:e,func:a,dataVal:n}))}else s.showing=!1}(e,i,t,r),function(e,t,a,n){var r=t.affects,i=r.parts;a.functvals.length?(i.push("for all"),a.functvals.forEach((function(t,a){a>0&&i.push("&"),i.push(c.a.createElement(Ne,{region:e,trait:t}))}))):r.showing=!1}(e,i,t),function(e,t,a,n){var r=t.target.parts;Oe.has(a.funcTargetType)?r.push(Oe.get(a.funcTargetType)):r.push(a.funcTargetType)}(0,i,t),function(e,t,a,n){var r=t.duration,c=r.parts;if(n.Count&&n.Count>0&&n.Turn&&n.Turn>0){var i=1===n.Count?"1 Time":"".concat(n.Count," Times"),s=1===n.Turn?"1 Turn":"".concat(n.Turn," Turns");c.push("(".concat(s,", ").concat(i,")"))}else n.Turn&&n.Turn>0?c.push(1===n.Turn?"(1 Turn)":"(".concat(n.Turn," Turns)")):n.Count&&n.Count>0?c.push(1===n.Count?"(1 Time)":"(".concat(n.Count," Times)")):r.showing=!1}(0,i,0,r),function(e,t,a,n){var r=t.scaling,c=r.parts,i=oe(a),s=ue(a);i||s?(i&&c.push("<LEVEL>"),s&&c.push("<OVERCHARGE>")):r.showing=!1}(0,i,t);var s=[];return Object.values(i).forEach((function(e){e.showing&&(e.preposition&&s.push(e.preposition),s=s.concat(e.parts))})),s.push(c.a.createElement(m.b,{to:"/".concat(e,"/func/").concat(t.funcId)},c.a.createElement(A.a,{icon:g.c}))),s=ne(s," "),c.a.createElement("span",null,s.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},e)})))}}]),a}(c.a.Component),Te=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadBuff()}},{key:"loadBuff",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.buff(this.props.region,this.props.id);case 2:t=e.sent,this.setState({loading:!1,buff:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.loading||!this.state.buff)return c.a.createElement(z,null);var t=this.state.buff;return c.a.createElement("div",null,c.a.createElement("h1",null,c.a.createElement(B,{location:t.icon,height:48}),"\xa0",t.name),c.a.createElement("br",null),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Detail:t.detail,Type:t.type,"Gained Traits":c.a.createElement("div",null,ne(t.vals.map((function(e){return e.name})),", "))}}),c.a.createElement("h3",null,"Related Functions"),t.reverseFunctions.map((function(t,a){return c.a.createElement("p",{key:a},c.a.createElement(_e,{region:e.props.region,func:t}))})))}}]),a}(c.a.Component),be=a(55),ye=a(133),Re=a(79),Se=new Map([[1,"./assets/star1.png"],[2,"./assets/star2.png"],[3,"./assets/star3.png"],[4,"./assets/star4.png"],[5,"./assets/star5.png"]]),De=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return c.a.createElement("span",null,Se.has(this.props.rarity)?c.a.createElement("img",{alt:"".concat(this.props.rarity," star(s)"),src:Se.get(this.props.rarity),style:{height:null!==(e=this.props.height)&&void 0!==e?e:18}}):null)}}]),a}(c.a.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.craftEssence;return c.a.createElement("div",null,c.a.createElement("h1",null,e.name),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:e}),ID:e.id,Collection:e.collectionNo,Name:e.name,Rarity:c.a.createElement(De,{rarity:e.rarity}),Cost:e.cost,"Max Lv.":e.lvMax,"Base Hp":e.hpBase,"Base Atk":e.atkBase,"Max Hp":e.hpMax,"Max Atk":e.atkMax}}))}}]),a}(c.a.Component),Ie=a(78),Pe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"changeCraftEssence",value:function(e){this.props.history.push("/".concat(this.props.region,"/craft-essence/").concat(e))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,"Jump to:",c.a.createElement(Ie.a,{as:"select",custom:!0,onChange:function(t){e.changeCraftEssence(parseInt(t.target.value))},value:this.props.id},this.props.craftEssences.slice().reverse().map((function(e,t){return c.a.createElement("option",{key:t,value:e.collectionNo},e.name)}))))}}]),a}(c.a.Component),ke=Object(h.f)(Pe),Le=(a(122),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,r;Object(l.a)(this,a),r=t.call(this,e);var c=null!==(n=e.craftEssence.extraAssets.charaGraph.ascension)&&void 0!==n?n:Object.values(e.craftEssence.extraAssets.charaGraph).shift(),i=void 0===c?void 0:Object.keys(c).shift();return r.state={assetMap:c,assetKey:i},r}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("img",{alt:this.props.craftEssence.name,id:"craft-essence-portrait",src:this.state.assetMap&&this.state.assetKey?this.state.assetMap[this.state.assetKey]:void 0}))}}]),a}(c.a.Component)),je=a(132),Me=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="";switch(Math.floor(this.props.questId/1e6)){case 91:e="Interlude";break;case 94:e="Strengthening";break;default:e="Main Quest"}return c.a.createElement(m.b,{to:"/".concat(this.props.region,"/quest/").concat(this.props.questId,"/").concat(this.props.questPhase)},e," Quest ",c.a.createElement(A.a,{icon:g.c}))}}]),a}(c.a.Component),Ue=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(m.b,{to:"/".concat(this.props.region,"/skill/").concat(this.props.skill.id)},c.a.createElement(B,{location:this.props.skill.icon,height:this.props.iconHeight})," ",this.props.skill.name," ",c.a.createElement(A.a,{icon:g.c}))}}]),a}(c.a.Component),Fe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.skill;return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(Ue,{region:this.props.region,skill:t,iconHeight:33})),t.condQuestId&&t.condQuestPhase?c.a.createElement(je.a,{variant:"primary"},"Available after ",c.a.createElement(Me,{region:this.props.region,questId:t.condQuestId,questPhase:t.condQuestPhase})):null,c.a.createElement("p",null,ae(t.detail)),c.a.createElement(W.a,{responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Effect"))),c.a.createElement("tbody",null,t.functions.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,c.a.createElement(_e,{region:e.props.region,func:t})))})))))}}]),a}(c.a.Component),we=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,id:n.props.id,craftEssences:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadServant()}},{key:"loadServant",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t,a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V.craftEssenceList(this.props.region),V.craftEssence(this.props.region,this.state.id),V.traitMap(this.props.region)]);case 2:t=e.sent,a=Object(be.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,craftEssences:n,craftEssence:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading||!this.state.craftEssence?c.a.createElement(z,null):c.a.createElement("div",null,c.a.createElement(ke,{region:this.props.region,craftEssences:this.state.craftEssences,id:this.state.craftEssence.collectionNo}),c.a.createElement("hr",null),c.a.createElement(ye.a,null,c.a.createElement(Re.a,{xs:{span:12,order:2},lg:{span:6,order:1}},c.a.createElement(Ce,{craftEssence:this.state.craftEssence})),c.a.createElement(Re.a,{xs:{span:12,order:1},lg:{span:6,order:2}},c.a.createElement(Le,{craftEssence:this.state.craftEssence}))),c.a.createElement("br",null),c.a.createElement(ye.a,null,this.state.craftEssence.skills.filter((function(e){return 1===e.num})).map((function(t,a){return c.a.createElement(Re.a,{key:a,xs:12,lg:6},c.a.createElement(Fe,{region:e.props.region,skill:t}))}))))}}]),a}(c.a.Component),He=a(56),Ge=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("img",{alt:"",src:this.props.location,style:this.props.height?{height:this.props.height}:void 0})}}]),a}(c.a.Component),xe=(a(123),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,craftEssences:[],activeRarityFilters:[1,2,3,4,5]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;V.craftEssenceList(this.props.region).then((function(t){e.setState({loading:!1,craftEssences:t})}))}},{key:"toggleRarityFilter",value:function(e){-1!==this.state.activeRarityFilters.indexOf(e)?this.setState({activeRarityFilters:this.state.activeRarityFilters.filter((function(t){return t!==e}))}):this.setState({activeRarityFilters:[].concat(Object(He.a)(this.state.activeRarityFilters),[e])})}},{key:"craftEssences",value:function(){var e=this,t=this.state.craftEssences.slice().reverse();return 5!==this.state.activeRarityFilters.length&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),t}},{key:"render",value:function(){var e=this;return this.state.loading?c.a.createElement(z,null):c.a.createElement("div",{id:"craft-essences"},c.a.createElement("p",{className:"text-center"},[1,2,3,4,5].map((function(t){var a=-1!==e.state.activeRarityFilters.indexOf(t);return c.a.createElement("span",{key:t,className:"filter",style:{opacity:a?1:.5},onClick:function(a){e.toggleRarityFilter(t)}},c.a.createElement(De,{rarity:t,height:20}))}))),c.a.createElement("hr",null),c.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),c.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Rarity"))),c.a.createElement("tbody",null,this.craftEssences().map((function(t,a){var n="/".concat(e.props.region,"/craft-essence/").concat(t.collectionNo);return c.a.createElement("tr",{key:a},c.a.createElement("td",{align:"center"},c.a.createElement(m.b,{to:n},t.collectionNo)),c.a.createElement("td",{align:"center"},c.a.createElement(m.b,{to:n},c.a.createElement(Ge,{type:t.type,rarity:t.rarity,location:t.face,height:50}))),c.a.createElement("td",null,c.a.createElement(m.b,{to:n},t.name)),c.a.createElement("td",null,c.a.createElement(De,{rarity:t.rarity})))})))))}}]),a}(c.a.Component)),Ve=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(m.b,{to:"/".concat(this.props.region,"/noble-phantasm/").concat(this.props.noblePhantasm.id)},this.props.noblePhantasm.name," ",c.a.createElement(A.a,{icon:g.c}))}}]),a}(c.a.Component),Be=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.func;return c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:a}),ID:a.funcId,Type:a.funcType,Target:a.funcTargetType,"Affects Players/Enemies":a.funcTargetTeam,"Popup Text":a.funcPopupText,"Affects Traits":c.a.createElement("div",null,null===(e=a.traitVals)||void 0===e?void 0:e.map((function(e,a){return c.a.createElement(Ne,{key:a,region:t.props.region,trait:e})}))),Buffs:c.a.createElement("div",null,a.buffs.map((function(e,a){return c.a.createElement(Ae,{key:a,region:t.props.region,buff:e})})))}})}}]),a}(c.a.Component),We=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadFunc()}},{key:"loadFunc",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.func(this.props.region,this.props.id);case 3:t=e.sent,this.setState({loading:!1,func:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return c.a.createElement(v,{error:this.state.error});if(this.state.loading||!this.state.func)return c.a.createElement(z,null);var t=this.state.func;return c.a.createElement("div",null,c.a.createElement("h1",null,t.funcPopupIcon?c.a.createElement("span",null,c.a.createElement(B,{location:t.funcPopupIcon,height:48}),"\xa0"):null,"Function: ",this.props.id),c.a.createElement("br",null),c.a.createElement(Be,{region:this.props.region,func:t}),c.a.createElement(ye.a,null,c.a.createElement(Re.a,{xs:12,lg:6},c.a.createElement("h3",null,"Related Skills"),t.reverseSkills.map((function(t,a){return c.a.createElement("p",{key:a},c.a.createElement(Ue,{region:e.props.region,skill:t}))}))),c.a.createElement(Re.a,{xs:12,lg:6},c.a.createElement("h3",null,"Related Noble Phantasms"),t.reverseTds.map((function(t,a){return c.a.createElement("p",{key:a},c.a.createElement(Ve,{region:e.props.region,noblePhantasm:t}))})))))}}]),a}(c.a.Component);!function(e){e.NORMAL="normal",e.HEROINE="heroine",e.COMBINE_MATERIAL="combineMaterial",e.ENEMY="enemy",e.ENEMY_COLLECTION="enemyCollection",e.SERVANT_EQUIP="servantEquip",e.STATUS_UP="statusUp",e.SVT_EQUIP_MATERIAL="svtEquipMaterial",e.ENEMY_COLLECTION_DETAIL="enemyCollectionDetail",e.ALL="all",e.COMMAND_CODE="commandCode"}(ve||(ve={}));var Ye,Ke=ve;!function(e){e.SABER="saber",e.ARCHER="archer",e.LANCER="lancer",e.RIDER="rider",e.CASTER="caster",e.ASSASSIN="assassin",e.BERSERKER="berserker",e.SHIELDER="shielder",e.RULER="ruler",e.ALTER_EGO="alterEgo",e.AVENGER="avenger",e.GRAND_CASTER="grandCaster",e.BEAST_II="beastII",e.BEAST_I="beastI",e.MOON_CANCER="moonCancer",e.BEAST_IIIR="beastIIIR",e.FOREIGNER="foreigner",e.BEAST_IIIL="beastIIIL",e.BEAST_UNKNOWN="beastUnknown",e.ALL="ALL",e.EXTRA="EXTRA"}(Ye||(Ye={}));var Je=Ye,qe=new Map([[1,1],[2,1],[3,2],[4,3],[5,3]]),Qe=new Map([[Je.SABER,1],[Je.ARCHER,2],[Je.LANCER,3],[Je.RIDER,4],[Je.CASTER,5],[Je.ASSASSIN,6],[Je.BERSERKER,7],[Je.SHIELDER,8],[Je.RULER,9],[Je.ALTER_EGO,10],[Je.AVENGER,11],[Je.MOON_CANCER,23],[Je.FOREIGNER,25],[Je.GRAND_CASTER,5],[Je.BEAST_I,20],[Je.BEAST_II,20],[Je.BEAST_IIIL,20],[Je.BEAST_IIIR,20],[Je.BEAST_UNKNOWN,20],[Je.ALL,1001],[Je.EXTRA,1002]]),Xe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return c.a.createElement("img",{alt:"",src:this.location(),style:{height:null!==(e=this.props.height)&&void 0!==e?e:24}})}},{key:"location",value:function(){var e,t=Qe.has(this.props.className)?Qe.get(this.props.className):12,a=null!==(e=this.props.rarity)&&void 0!==e?e:5,n=qe.has(a)?qe.get(a):3;return"https://assets.atlasacademy.io/GameData/NA/ClassIcons/class".concat(n,"_").concat(t,".png")}}]),a}(c.a.Component),ze=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(m.b,{to:"/".concat(this.props.region,"/servant/").concat(this.props.servant.id)},c.a.createElement(Xe,{className:this.props.servant.className,rarity:this.props.servant.rarity,height:this.props.iconHeight})," ",this.props.servant.name)}}]),a}(c.a.Component),$e=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(Y,{data:Object(j.a)({Raw:c.a.createElement(ee,{data:this.props.dataVal})},this.props.dataVal)})}}]),a}(c.a.Component),Ze=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.props.noblePhantasm.functions.map((function(t,a){var n=fe(t,e.props.level,e.props.overcharge);return c.a.createElement("div",{key:a},c.a.createElement("h3",null,"Effect #",a+1),c.a.createElement("p",null,c.a.createElement(_e,{region:e.props.region,func:t})),c.a.createElement(ye.a,null,c.a.createElement(Re.a,{xs:12,md:6},c.a.createElement("h5",null,"Function"),c.a.createElement(Be,{region:e.props.region,func:t})),c.a.createElement(Re.a,{xs:12,md:6},c.a.createElement("h5",null,"Values"),c.a.createElement($e,{dataVal:null!==n&&void 0!==n?n:{}}))),c.a.createElement("hr",null))})))}}]),a}(c.a.Component),et=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,level:1,overcharge:1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadNp()}},{key:"loadNp",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.noblePhantasm(this.props.region,this.props.id);case 2:t=e.sent,this.setState({loading:!1,noblePhantasm:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeLevel",value:function(e){this.setState({level:e})}},{key:"changeOvercharge",value:function(e){this.setState({overcharge:e})}},{key:"render",value:function(){var e=this;if(this.state.loading||!this.state.noblePhantasm)return c.a.createElement(z,null);var t=this.state.noblePhantasm;return c.a.createElement("div",null,c.a.createElement("h1",null,t.name),c.a.createElement("br",null),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Type:t.type,Rank:t.rank,Detail:t.detail,"Card Type":t.card,Owner:c.a.createElement("div",null,t.reverseServants.filter((function(e){return e.type===Ke.NORMAL||e.type===Ke.HEROINE})).map((function(t,a){return c.a.createElement("div",null,c.a.createElement(ze,{region:e.props.region,servant:t,iconHeight:24}))})))}}),c.a.createElement("br",null),c.a.createElement(ye.a,null,c.a.createElement(Re.a,null,c.a.createElement(y.a,{inline:!0,style:{justifyContent:"flex-end"}},c.a.createElement(y.a.Control,{as:"select",value:this.state.level,onChange:function(t){return e.changeLevel(parseInt(t.target.value))}},[1,2,3,4,5].map((function(e){return c.a.createElement("option",{key:e,value:e},"NP LEVEL ",e)}))))),c.a.createElement(Re.a,null,c.a.createElement(y.a,{inline:!0},c.a.createElement(y.a.Control,{as:"select",value:this.state.overcharge,onChange:function(t){return e.changeOvercharge(parseInt(t.target.value))}},[1,2,3,4,5].map((function(e){return c.a.createElement("option",{key:e,value:e},"OVERCHARGE ",e)})))))),c.a.createElement("br",null),c.a.createElement(Ze,{region:this.props.region,noblePhantasm:t,level:this.state.level,overcharge:this.state.overcharge}))}}]),a}(c.a.Component),tt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadQuest()}},{key:"loadQuest",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.quest(this.props.region,this.props.id,this.props.phase);case 2:t=e.sent,this.setState({loading:!1,quest:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.loading||!this.state.quest)return c.a.createElement(z,null);var e=this.state.quest;return c.a.createElement("div",null,c.a.createElement("h1",null,e.name),c.a.createElement("br",null),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:e}),ID:e.id,Phase:e.phase,Name:e.name,Type:e.type}}))}}]),a}(c.a.Component),at=a(138),nt=a(134),rt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.servant;return c.a.createElement("div",null,c.a.createElement("h1",null,c.a.createElement(Xe,{className:e.className,rarity:e.rarity,height:50}),"\xa0",e.name),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:e}),ID:e.id,Collection:e.collectionNo,Name:e.name,Class:e.className,Rarity:c.a.createElement(De,{rarity:e.rarity}),Cost:e.cost,Gender:e.gender,Attribute:e.attribute,"Max Lv.":e.lvMax,"Base Hp":e.hpBase,"Base Atk":e.atkBase,"Max Hp":e.hpMax,"Max Atk":e.atkMax}}))}}]),a}(c.a.Component),ct="https://assets.atlasacademy.io/GameData/JP/BuffIcons",it="".concat(ct,"/bufficon_337.png"),st="".concat(ct,"/bufficon_349.png"),lt="".concat(ct,"/bufficon_310.png"),ot=function(e){return void 0===e?"":c.a.createElement("span",null,e.map((function(e,t){return(t>0?", ":"")+te(e,0)})),"\xa0-\xa0",e.length," Hits")},ut=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"hitsColumn",value:function(){return c.a.createElement(Re.a,{xs:12,md:12,lg:6},c.a.createElement(Y,{header:c.a.createElement("div",null,c.a.createElement(B,{location:st}),"\xa0 Hit Count"),data:{Buster:ot(this.props.servant.hitsDistribution.buster),Arts:ot(this.props.servant.hitsDistribution.arts),Quick:ot(this.props.servant.hitsDistribution.quick),Extra:ot(this.props.servant.hitsDistribution.extra)}}))}},{key:"miscColumn",value:function(){return c.a.createElement(Re.a,{xs:12,md:12,lg:6},c.a.createElement(Y,{header:c.a.createElement("div",null,c.a.createElement(B,{location:lt}),"\xa0Crit Stars"),data:{"Star Absorb":this.props.servant.starAbsorb,"Star Gen":te(this.props.servant.starGen,1)}}),c.a.createElement(Y,{header:c.a.createElement("div",null,c.a.createElement(B,{location:it}),"\xa0Instant Death"),data:{"Death Chance":te(this.props.servant.instantDeathChance,1)}}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(ye.a,null,this.hitsColumn(),this.miscColumn()))}}]),a}(c.a.Component),pt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.noblePhantasm;return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(Ve,{region:this.props.region,noblePhantasm:t})),t.condQuestId&&t.condQuestPhase?c.a.createElement(je.a,{variant:"primary"},"Available after ",c.a.createElement(Me,{region:this.props.region,questId:t.condQuestId,questPhase:t.condQuestPhase})):null,c.a.createElement("p",null,ae(t.detail)),c.a.createElement(W.a,{responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Effect"),c.a.createElement("th",null,"1"),c.a.createElement("th",null,"2"),c.a.createElement("th",null,"3"),c.a.createElement("th",null,"4"),c.a.createElement("th",null,"5"))),c.a.createElement("tbody",null,t.functions.map((function(t,a){for(var n=le(e.props.region,t),r=0;r<5;r++)n[r]||n.push("-");return c.a.createElement("tr",{key:a},c.a.createElement("td",null,c.a.createElement(_e,{region:e.props.region,func:t})),n.map((function(e,t){return c.a.createElement("td",{key:t},e)})))})))))}}]),a}(c.a.Component),Et=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"changeServant",value:function(e){this.props.history.push("/".concat(this.props.region,"/servant/").concat(e))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,"Jump to:",c.a.createElement(Ie.a,{as:"select",custom:!0,onChange:function(t){e.changeServant(parseInt(t.target.value))},value:this.props.id},this.props.servants.slice().reverse().map((function(e,t){return c.a.createElement("option",{key:t,value:e.collectionNo},e.name)}))))}}]),a}(c.a.Component),mt=Object(h.f)(Et),ht=(a(124),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,r;Object(l.a)(this,a),r=t.call(this,e);var c=null!==(n=e.servant.extraAssets.charaGraph.ascension)&&void 0!==n?n:Object.values(e.servant.extraAssets.charaGraph).shift(),i=void 0===c?void 0:Object.keys(c).shift();return r.state={assetMap:c,assetKey:i},r}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("img",{alt:this.props.servant.name,id:"servant-portrait",src:this.state.assetMap&&this.state.assetKey?this.state.assetMap[this.state.assetKey]:void 0}))}}]),a}(c.a.Component)),ft=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.skill;return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(Ue,{region:this.props.region,skill:t,iconHeight:33})),t.condQuestId&&t.condQuestPhase?c.a.createElement(je.a,{variant:"primary"},"Available after ",c.a.createElement(Me,{region:this.props.region,questId:t.condQuestId,questPhase:t.condQuestPhase})):null,c.a.createElement("p",null,ae(t.detail)),c.a.createElement(W.a,{responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Effect"),c.a.createElement("th",null,"1"),c.a.createElement("th",null,"2"),c.a.createElement("th",null,"3"),c.a.createElement("th",null,"4"),c.a.createElement("th",null,"5"),c.a.createElement("th",null,"6"),c.a.createElement("th",null,"7"),c.a.createElement("th",null,"8"),c.a.createElement("th",null,"9"),c.a.createElement("th",null,"10"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Cooldown"),t.coolDown.map((function(e,t){return c.a.createElement("td",{key:t},e)}))),t.functions.map((function(t,a){for(var n=le(e.props.region,t),r=0;r<10;r++)n[r]||n.push("-");return c.a.createElement("tr",{key:a},c.a.createElement("td",null,c.a.createElement(_e,{region:e.props.region,func:t})),n.map((function(e,t){return c.a.createElement("td",{key:t},e)})))})))))}}]),a}(c.a.Component),vt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,ne(this.props.traits.map((function(t){return c.a.createElement(Ne,{region:e.props.region,trait:t})})),", ").map((function(e,t){return c.a.createElement("span",{key:t},e)})))}}]),a}(c.a.Component),dt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,id:n.props.id,servants:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadServant()}},{key:"loadServant",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t,a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([V.servantList(this.props.region),V.servant(this.props.region,this.state.id),V.traitMap(this.props.region)]);case 2:t=e.sent,a=Object(be.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,servants:n,servant:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading||!this.state.servant?c.a.createElement(z,null):c.a.createElement("div",{id:"servant"},c.a.createElement(mt,{region:this.props.region,servants:this.state.servants,id:this.state.servant.collectionNo}),c.a.createElement("hr",null),c.a.createElement(ye.a,null,c.a.createElement(Re.a,{xs:{span:12,order:2},lg:{span:6,order:1}},c.a.createElement(rt,{servant:this.state.servant})),c.a.createElement(Re.a,{xs:{span:12,order:1},lg:{span:6,order:2}},c.a.createElement(ht,{servant:this.state.servant}))),c.a.createElement(at.a,{id:"servant-tabs",defaultActiveKey:"skill-1",transition:!1},c.a.createElement(nt.a,{eventKey:"skill-1",title:"Skill 1"},c.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 1===e.num})).map((function(t,a){return c.a.createElement(ft,{region:e.props.region,key:a,skill:t})}))),c.a.createElement(nt.a,{eventKey:"skill-2",title:"Skill 2"},c.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 2===e.num})).map((function(t,a){return c.a.createElement(ft,{region:e.props.region,key:a,skill:t})}))),c.a.createElement(nt.a,{eventKey:"skill-3",title:"Skill 3"},c.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 3===e.num})).map((function(t,a){return c.a.createElement(ft,{region:e.props.region,key:a,skill:t})}))),c.a.createElement(nt.a,{eventKey:"nps",title:"Noble Phantasms"},c.a.createElement("br",null),this.state.servant.noblePhantasms.filter((function(e){return e.functions.length>0})).map((function(t,a){return c.a.createElement(pt,{region:e.props.region,key:a,noblePhantasm:t})}))),c.a.createElement(nt.a,{eventKey:"traits",title:"Traits"},c.a.createElement("br",null),c.a.createElement(vt,{region:this.props.region,traits:this.state.servant.traits})),c.a.createElement(nt.a,{eventKey:"misc",title:"Misc"},c.a.createElement("br",null),c.a.createElement(ut,{servant:this.state.servant}))))}}]),a}(c.a.Component),gt=(a(126),[Je.ALL,Je.SABER,Je.ARCHER,Je.LANCER,Je.RIDER,Je.CASTER,Je.ASSASSIN,Je.BERSERKER,Je.EXTRA]),At=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,servants:[],activeClassFilters:gt.slice(),activeRarityFilters:[1,2,3,4,5]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;V.servantList(this.props.region).then((function(t){e.setState({loading:!1,servants:t})}))}},{key:"isClassFilterActive",value:function(e){return-1!==this.state.activeClassFilters.indexOf(e)}},{key:"isExtra",value:function(e){return!(e===Je.SABER||e===Je.ARCHER||e===Je.LANCER||e===Je.RIDER||e===Je.CASTER||e===Je.ASSASSIN||e===Je.BERSERKER)}},{key:"toggleClassFilter",value:function(e){if(e===Je.ALL)this.isClassFilterActive(e)?this.setState({activeClassFilters:[],activeRarityFilters:[]}):this.setState({activeClassFilters:gt.slice(),activeRarityFilters:[1,2,3,4,5]});else{var t=!1,a=this.state.activeClassFilters.filter((function(a){return a!==Je.ALL&&(a!==e||(t=!0,!1))}));t||a.push(e),this.setState({activeClassFilters:a})}}},{key:"toggleRarityFilter",value:function(e){-1!==this.state.activeRarityFilters.indexOf(e)?this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==Je.ALL})),activeRarityFilters:this.state.activeRarityFilters.filter((function(t){return t!==e}))}):this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==Je.ALL})),activeRarityFilters:[].concat(Object(He.a)(this.state.activeRarityFilters),[e])})}},{key:"servants",value:function(){var e=this,t=this.state.servants.slice().reverse();return 5!==this.state.activeRarityFilters.length&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),this.isClassFilterActive(Je.ALL)||(t=t.filter((function(t){for(var a in e.state.activeClassFilters){var n=e.state.activeClassFilters[a];if(n===Je.EXTRA&&e.isExtra(t.className))return!0;if(t.className===n)return!0}return!1}))),t}},{key:"render",value:function(){var e=this;return this.state.loading?c.a.createElement(z,null):c.a.createElement("div",{id:"servants"},c.a.createElement("p",{className:"text-center"},gt.map((function(t){var a=e.isClassFilterActive(t);return c.a.createElement("span",{key:t,className:"filter",style:{opacity:a?1:.5},onClick:function(a){e.toggleClassFilter(t)}},c.a.createElement(Xe,{height:50,rarity:a?5:3,className:t}))}))),c.a.createElement("p",{className:"text-center"},[1,2,3,4,5].map((function(t){var a=-1!==e.state.activeRarityFilters.indexOf(t);return c.a.createElement("span",{key:t,className:"filter",style:{opacity:a?1:.5},onClick:function(a){e.toggleRarityFilter(t)}},c.a.createElement(De,{rarity:t,height:20}))}))),c.a.createElement("hr",null),c.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),c.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Class"),c.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Rarity"))),c.a.createElement("tbody",null,this.servants().map((function(t,a){var n="/".concat(e.props.region,"/servant/").concat(t.collectionNo);return c.a.createElement("tr",{key:a},c.a.createElement("td",{align:"center"},c.a.createElement(m.b,{to:n},t.collectionNo)),c.a.createElement("td",{align:"center"},c.a.createElement(Xe,{className:t.className,rarity:t.rarity,height:50})),c.a.createElement("td",{align:"center"},c.a.createElement(m.b,{to:n},c.a.createElement(Ge,{type:t.type,rarity:t.rarity,location:t.face,height:50}))),c.a.createElement("td",null,c.a.createElement(m.b,{to:n},t.name)),c.a.createElement("td",null,c.a.createElement(De,{rarity:t.rarity})))})))))}}]),a}(c.a.Component),Nt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(m.b,{to:"/".concat(this.props.region,"/craft-essence/").concat(this.props.craftEssence.id)},this.props.craftEssence.name," ",c.a.createElement(A.a,{icon:g.c}))}}]),a}(c.a.Component),Ot=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.props.skill.functions.map((function(t,a){var n=fe(t,e.props.level);return c.a.createElement("div",{key:a},c.a.createElement("h3",null,"Effect #",a+1),c.a.createElement("p",null,c.a.createElement(_e,{region:e.props.region,func:t})),c.a.createElement(ye.a,null,c.a.createElement(Re.a,{xs:12,md:6},c.a.createElement("h5",null,"Function"),c.a.createElement(Be,{region:e.props.region,func:t})),c.a.createElement(Re.a,{xs:12,md:6},c.a.createElement("h5",null,"Values"),c.a.createElement($e,{dataVal:null!==n&&void 0!==n?n:{}}))),c.a.createElement("hr",null))})))}}]),a}(c.a.Component),_t=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,levels:1,level:1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadSkill()}},{key:"loadSkill",value:function(){var e=Object(L.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.skill(this.props.region,this.props.id);case 2:n=e.sent,this.setState({loading:!1,skill:n,levels:null!==(t=null===(a=n.functions[0].svals)||void 0===a?void 0:a.length)&&void 0!==t?t:1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeLevel",value:function(e){this.setState({level:e})}},{key:"render",value:function(){var e=this;if(this.state.loading||!this.state.skill)return c.a.createElement(z,null);var t=this.state.skill;return c.a.createElement("div",null,c.a.createElement("h1",null,c.a.createElement(B,{location:t.icon,height:48}),"\xa0",t.name),c.a.createElement("br",null),c.a.createElement(Y,{data:{Raw:c.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Detail:t.detail,Owner:c.a.createElement("div",null,t.reverseServants.filter((function(e){return e.type===Ke.NORMAL||e.type===Ke.HEROINE||e.type===Ke.SERVANT_EQUIP})).map((function(t,a){return t.type===Ke.SERVANT_EQUIP?c.a.createElement("div",{key:a},c.a.createElement(Nt,{region:e.props.region,craftEssence:t})):c.a.createElement("div",{key:a},c.a.createElement(ze,{region:e.props.region,servant:t,iconHeight:24}))})))}}),c.a.createElement("br",null),c.a.createElement(y.a,{inline:!0,style:{justifyContent:"center"}},c.a.createElement(y.a.Control,{as:"select",value:this.state.level,onChange:function(t){return e.changeLevel(parseInt(t.target.value))}},Array.from(Array(this.state.levels).keys()).map((function(e){return e+1})).map((function(e){return c.a.createElement("option",{key:e,value:e},"LEVEL ",e)})))),c.a.createElement("br",null),c.a.createElement(Ot,{region:this.props.region,skill:t,level:this.state.level}))}}]),a}(c.a.Component),Tt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={language:D.language()},D.onUpdate((function(){return n.updateSettings()})),n}return Object(o.a)(a,[{key:"updateSettings",value:function(){this.setState({language:D.language()})}},{key:"render",value:function(){return c.a.createElement(m.a,null,c.a.createElement(I,null),c.a.createElement("br",null),c.a.createElement(E.a,{key:"".concat(this.state.language)},c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/buff/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(Te,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/craft-essence/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(we,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/func/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(We,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/noble-phantasm/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(et,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/quest/:id([0-9]+)/:phase([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n=e.match.params.phase,r="".concat(t,"-").concat(a,"-").concat(n);return c.a.createElement(tt,{key:r,region:t,id:a,phase:n})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/servant/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(dt,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/skill/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return c.a.createElement(_t,{key:n,region:t,id:a})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/craft-essences",render:function(e){var t=e.match.params.region;return c.a.createElement(xe,{key:t,region:t})}}),c.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/servants",render:function(e){var t=e.match.params.region;return c.a.createElement(At,{key:t,region:t})}}),c.a.createElement(h.a,{path:"/",exact:!0,render:function(e){return""}}),c.a.createElement(h.a,{path:"*",exact:!0,render:function(e){return c.a.createElement(v,null)}}))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(127)}},[[90,1,2]]]);
//# sourceMappingURL=main.139a17e7.chunk.js.map