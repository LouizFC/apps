{"version":3,"sources":["Component/FaceIcon.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","Descriptor/RarityDescriptor.tsx","Component/ClassIcon.tsx","../node_modules/react-bootstrap/esm/PageItem.js","../node_modules/react-bootstrap/esm/Pagination.js","Page/ServantsPage.tsx"],"names":["FaceIcon","alt","src","this","props","location","style","height","React","Component","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","test","assetMap","Map","RarityDescriptor","has","rarity","get","classTypes","classIds","ClassName","SABER","ARCHER","LANCER","RIDER","CASTER","ASSASSIN","BERSERKER","SHIELDER","RULER","ALTER_EGO","AVENGER","MOON_CANCER","FOREIGNER","GRAND_CASTER","BEAST_I","BEAST_II","BEAST_IIIL","BEAST_IIIR","BEAST_UNKNOWN","ALL","EXTRA","ClassIcon","classId","className","type","PageItem","forwardRef","_ref","ref","active","disabled","activeLabel","children","_objectWithoutPropertiesLoose","SafeAnchor","createElement","classNames","_extends","defaultProps","displayName","createButton","defaultValue","label","_class","_temp","_React$Component","apply","arguments","_inheritsLoose","render","_this$props","First","Prev","Ellipsis","Next","Last","Pagination","bsPrefix","size","decoratedBsPrefix","useBootstrapPrefix","Item","classFilters","ServantsPage","state","loading","servants","activeClassFilters","activeRarityFilters","perPage","page","Manager","setRegion","region","Api","servantList","then","setState","e","error","indexOf","key","onClick","setPage","count","items","maxPage","Math","ceil","nearbyPrev","nearbyNext","bounds","prev","unshift","next","push","pop","shift","pages","concat","pageItem","map","marginBottom","exists","activeFilters","filter","activeClassName","activeClass","activeRarity","list","reverse","entity","x","isExtra","search","glob","diacritics","remove","toLowerCase","split","word","join","normalizedName","minimatch","hasPaginator","results","id","inline","justifyContent","isClassFilterActive","opacity","ev","toggleClassFilter","Control","marginLeft","placeholder","value","onChange","target","paginator","undefined","striped","bordered","hover","responsive","textAlign","width","servant","index","route","collectionNo","align","to","face"],"mappings":"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","file":"static/js/13.1e4c15d0.chunk.js","sourcesContent":["import {Entity} from \"@atlasacademy/api-connector\";\nimport React from \"react\";\n\ninterface IProps {\n    type?: Entity.EntityType;\n    rarity?: number;\n    location: string;\n    height?: number | string;\n}\n\nclass FaceIcon extends React.Component<IProps> {\n\n    render() {\n        return (\n            <img alt={''} src={this.props.location}\n                 style={{height: this.props.height ?? '2em'}}/>\n        );\n    }\n\n}\n\nexport default FaceIcon;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import React from \"react\";\n\nconst assetMap = new Map<number, string>([\n    [1, './assets/star1.png'],\n    [2, './assets/star2.png'],\n    [3, './assets/star3.png'],\n    [4, './assets/star4.png'],\n    [5, './assets/star5.png'],\n]);\n\ninterface IProps {\n    rarity: number;\n    height?: number;\n}\n\nclass RarityDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <span>\n                {assetMap.has(this.props.rarity) ? (\n                    <img alt={`${this.props.rarity} star(s)`}\n                         src={assetMap.get(this.props.rarity)}\n                         style={{height: this.props.height ?? 18}}/>\n                ) : null}\n            </span>\n        );\n    }\n}\n\nexport default RarityDescriptor;\n","import {ClassName} from \"@atlasacademy/api-connector\";\nimport React from \"react\";\n\nconst classTypes = new Map<number, number>([\n    [0, 0],\n    [1, 1],\n    [2, 1],\n    [3, 2],\n    [4, 3],\n    [5, 3],\n]);\nconst unknownClassType = 3;\nconst classIds = new Map<ClassName, number>([\n    [ClassName.SABER, 1],\n    [ClassName.ARCHER, 2],\n    [ClassName.LANCER, 3],\n    [ClassName.RIDER, 4],\n    [ClassName.CASTER, 5],\n    [ClassName.ASSASSIN, 6],\n    [ClassName.BERSERKER, 7],\n    [ClassName.SHIELDER, 8],\n    [ClassName.RULER, 9],\n    [ClassName.ALTER_EGO, 10],\n    [ClassName.AVENGER, 11],\n    [ClassName.MOON_CANCER, 23],\n    [ClassName.FOREIGNER, 25],\n    [ClassName.GRAND_CASTER, 5],\n    [ClassName.BEAST_I, 20],\n    [ClassName.BEAST_II, 20],\n    [ClassName.BEAST_IIIL, 20],\n    [ClassName.BEAST_IIIR, 20],\n    [ClassName.BEAST_UNKNOWN, 20],\n\n    [ClassName.ALL, 1001],\n    [ClassName.EXTRA, 1002],\n]);\nconst unknownClassId = 12;\n\ninterface IProps {\n    className: ClassName;\n    rarity?: number;\n    height?: number;\n}\n\nclass ClassIcon extends React.Component<IProps> {\n    render() {\n        return (\n            <img alt={''} src={this.location()}\n                 style={{height: this.props.height ?? 24}}/>\n        );\n    }\n\n    private location(): string {\n        let classId = classIds.has(this.props.className) ? classIds.get(this.props.className) : unknownClassId,\n            rarity = this.props.rarity ?? 5,\n            type = classTypes.has(rarity) ? classTypes.get(rarity) : unknownClassType;\n\n        return `https://assets.atlasacademy.io/GameData/NA/ClassIcons/class${type}_${classId}.png`;\n    }\n}\n\nexport default ClassIcon;\n","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  var _class, _temp;\n\n  if (label === void 0) {\n    label = name;\n  }\n\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(_class, _React$Component);\n\n    function _class() {\n      return _React$Component.apply(this, arguments) || this;\n    }\n\n    var _proto = _class.prototype;\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"children\"]);\n\n      delete props.active;\n      return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": \"true\"\n      }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sr-only\"\n      }, label));\n    };\n\n    return _class;\n  }(React.Component), _class.displayName = name, _temp;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { First, Prev, Ellipsis, Next, Last } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import {ClassName, Region, Servant} from \"@atlasacademy/api-connector\";\nimport {AxiosError} from \"axios\";\nimport diacritics from 'diacritics';\nimport minimatch from \"minimatch\";\nimport React from \"react\";\nimport {Form, Pagination, Table} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\nimport Api from \"../Api\";\nimport ClassIcon from \"../Component/ClassIcon\";\nimport ErrorStatus from \"../Component/ErrorStatus\";\nimport FaceIcon from \"../Component/FaceIcon\";\nimport Loading from \"../Component/Loading\";\nimport RarityDescriptor from \"../Descriptor/RarityDescriptor\";\nimport Manager from \"../Setting/Manager\";\n\nimport './ServantsPage.css';\n\nconst classFilters: ClassName[] = [\n    ClassName.SABER,\n    ClassName.ARCHER,\n    ClassName.LANCER,\n    ClassName.RIDER,\n    ClassName.CASTER,\n    ClassName.ASSASSIN,\n    ClassName.BERSERKER,\n    ClassName.EXTRA,\n];\n\ninterface ChangeEvent extends React.ChangeEvent<HTMLInputElement> {\n\n}\n\ninterface MouseEvent extends React.MouseEvent<HTMLInputElement> {\n\n}\n\ninterface IProps {\n    region: Region,\n}\n\ninterface IState {\n    error?: AxiosError;\n    loading: boolean;\n    servants: Servant.ServantBasic[];\n    activeClassFilters: ClassName[];\n    activeRarityFilters: number[];\n    perPage: number;\n    page: number;\n    search?: string;\n}\n\nclass ServantsPage extends React.Component<IProps, IState> {\n\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            servants: [],\n            activeClassFilters: [],\n            activeRarityFilters: [],\n            perPage: 100,\n            page: 0,\n        };\n    }\n\n    componentDidMount() {\n        try {\n            Manager.setRegion(this.props.region);\n            Api.servantList().then(servantList => {\n                this.setState({\n                    loading: false,\n                    servants: servantList\n                });\n            });\n        } catch (e) {\n            this.setState({\n                error: e\n            });\n        }\n    }\n\n    private isClassFilterActive(className: ClassName): boolean {\n        return this.state.activeClassFilters.indexOf(className) !== -1;\n    }\n\n    private isExtra(className: ClassName): boolean {\n        return !(className === ClassName.SABER\n            || className === ClassName.ARCHER\n            || className === ClassName.LANCER\n            || className === ClassName.RIDER\n            || className === ClassName.CASTER\n            || className === ClassName.ASSASSIN\n            || className === ClassName.BERSERKER);\n    }\n\n    private pageItem(label: string, page: number, key: string | number, active: boolean, disabled: boolean) {\n        return <li key={key} className={'page-item' + (active ? ' active' : '') + (disabled ? ' disabled' : '')}>\n            {\n                disabled\n                    ? <span className={'page-link'}>{label}</span>\n                    : <button className={'page-link'} onClick={() => this.setPage(page)}>{label}</button>\n            }\n        </li>\n    }\n\n    private paginator(count: number): JSX.Element {\n        const items = [],\n            maxPage = Math.ceil(count / this.state.perPage) - 1,\n            bounds = 2,\n            nearbyPrev = [],\n            nearbyNext = [],\n            nearbyCount = bounds * 2 + 1;\n\n        for (let i = 0; i < bounds * 2; i++) {\n            const prev = this.state.page - i - 1;\n            if (prev >= 0) {\n                nearbyPrev.unshift(prev);\n            }\n\n            const next = this.state.page + i + 1;\n            if (next <= maxPage) {\n                nearbyNext.push(next);\n            }\n        }\n\n        while (nearbyPrev.length + nearbyNext.length + 1 > nearbyCount) {\n            if (nearbyNext.length > nearbyPrev.length) {\n                nearbyNext.pop();\n            } else {\n                nearbyPrev.shift();\n            }\n        }\n\n        const pages = nearbyPrev.concat([this.state.page], nearbyNext);\n\n        items.push(this.pageItem('<', this.state.page - 1, 'prev', false, this.state.page <= 0));\n\n        if (pages[0] > 0) {\n            items.push(this.pageItem('1', 0, 'first', false, false));\n\n            if (pages[0] > 1)\n                items.push(this.pageItem('…', 0, 'firstEllipsis', false, true));\n        }\n\n        items.push(...pages.map(i => this.pageItem((i + 1).toString(), i, i, i === this.state.page, false)));\n\n        if (pages[pages.length - 1] < maxPage) {\n            items.push(this.pageItem('…', maxPage, 'lastEllipsis', false, true));\n\n            if (pages[pages.length - 1] < maxPage)\n                items.push(this.pageItem((maxPage + 1).toString(), maxPage, 'last', false, false));\n        }\n\n        items.push(this.pageItem('>', this.state.page + 1, 'next', false, this.state.page >= maxPage));\n\n        return <div style={{marginBottom: 20}}>\n            <Pagination>{items}</Pagination>\n        </div>;\n    }\n\n    private setPage(page: number) {\n        this.setState({page});\n    }\n\n    private toggleClassFilter(className: ClassName): void {\n        let exists = false,\n            activeFilters = this.state.activeClassFilters.filter(activeClassName => {\n                if (activeClassName === ClassName.ALL)\n                    return false;\n\n                if (activeClassName === className) {\n                    exists = true;\n                    return false;\n                }\n\n                return true;\n            });\n\n        if (!exists)\n            activeFilters.push(className);\n\n        this.setState({activeClassFilters: activeFilters});\n    }\n\n    private toggleRarityFilter(rarity: number): void {\n        const exists = this.state.activeRarityFilters.indexOf(rarity) !== -1;\n\n        if (exists) {\n            this.setState({\n                activeClassFilters: this.state.activeClassFilters.filter(activeClass => activeClass !== ClassName.ALL),\n                activeRarityFilters: this.state.activeRarityFilters.filter(activeRarity => activeRarity !== rarity)\n            });\n        } else {\n            this.setState({\n                activeClassFilters: this.state.activeClassFilters.filter(activeClass => activeClass !== ClassName.ALL),\n                activeRarityFilters: [\n                    ...this.state.activeRarityFilters,\n                    rarity\n                ]\n            });\n        }\n    }\n\n    private servants(): Servant.ServantBasic[] {\n        let list = this.state.servants.slice().reverse();\n\n        if (this.state.activeRarityFilters.length > 0) {\n            list = list.filter(entity => {\n                return this.state.activeRarityFilters.indexOf(entity.rarity) !== -1;\n            });\n        }\n\n        if (this.state.activeClassFilters.length > 0) {\n            list = list.filter(entity => {\n                for (let x in this.state.activeClassFilters) {\n                    const className = this.state.activeClassFilters[x];\n\n                    if (className === ClassName.EXTRA && this.isExtra(entity.className)) {\n                        return true;\n                    } else if (entity.className === className) {\n                        return true;\n                    }\n                }\n\n                return false;\n            });\n        }\n\n        if (this.state.search) {\n            const glob = diacritics.remove(this.state.search.toLowerCase())\n                .split(' ')\n                .filter(word => word)\n                .join('*');\n\n            list = list.filter(\n                entity => {\n                    const normalizedName = diacritics.remove(entity.name.toLowerCase());\n\n                    return minimatch(normalizedName, `*${glob}*`);\n                }\n            );\n        }\n\n        return list;\n    }\n\n    render() {\n        if (this.state.error)\n            return <ErrorStatus error={this.state.error}/>;\n\n        if (this.state.loading)\n            return <Loading/>;\n\n        const servants = this.servants(),\n            hasPaginator = servants.length > this.state.perPage,\n            results = servants.slice(\n                this.state.perPage * this.state.page,\n                this.state.perPage * (this.state.page + 1)\n            );\n\n        return (\n            <div id=\"servants\">\n                <Form inline style={{justifyContent: 'center'}}>\n                    {classFilters.map(className => {\n                        const active = this.isClassFilterActive(className);\n                        return (\n                            <span key={className}\n                                  className={'filter'}\n                                  style={{opacity: active ? 1 : 0.5}}\n                                  onClick={(ev: MouseEvent) => {\n                                      this.toggleClassFilter(className);\n                                  }}>\n                                <ClassIcon height={50} rarity={active ? 5 : 3} className={className}/>\n                            </span>\n                        );\n                    })}\n                    <Form.Control style={{marginLeft: 'auto'}} placeholder={'Search'} value={this.state.search ?? ''}\n                                  onChange={(ev: ChangeEvent) => {\n                                      this.setState({search: ev.target.value});\n                                  }}/>\n                </Form>\n\n                <br/>\n\n                {hasPaginator\n                    ? <div>{this.paginator(servants.length)}</div>\n                    : undefined}\n\n                <hr/>\n\n                <Table striped bordered hover responsive>\n                    <thead>\n                    <tr>\n                        <th style={{textAlign: \"center\", width: '1px'}}>#</th>\n                        <th style={{textAlign: \"center\", width: '1px'}}>Class</th>\n                        <th style={{textAlign: \"center\", width: '1px'}}>Thumbnail</th>\n                        <th>Name</th>\n                        <th>Rarity</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {results.map((servant, index) => {\n                        const route = `/${this.props.region}/servant/${servant.collectionNo}`;\n\n                        return <tr key={index}>\n                            <td align={\"center\"}>\n                                <Link to={route}>\n                                    {servant.collectionNo}\n                                </Link>\n                            </td>\n                            <td align={\"center\"}>\n                                <ClassIcon className={servant.className} rarity={servant.rarity} height={50}/>\n                            </td>\n                            <td align={\"center\"}>\n                                <Link to={route}>\n                                    <FaceIcon type={servant.type}\n                                              rarity={servant.rarity}\n                                              location={servant.face}\n                                              height={50}/>\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={route}>\n                                    {servant.name}\n                                </Link>\n                            </td>\n                            <td>\n                                <RarityDescriptor rarity={servant.rarity}/>\n                            </td>\n                        </tr>\n                    })\n                    }\n                    </tbody>\n                </Table>\n\n                {hasPaginator ? this.paginator(servants.length) : undefined}\n            </div>\n        );\n    }\n\n}\n\nexport default ServantsPage;\n"],"sourceRoot":""}