{"version":3,"sources":["Helper/OutputHelper.tsx","Component/FaceIcon.tsx","Descriptor/TraitDescription.tsx","../../aa-api-descriptor/dist/Descriptor.js","../../aa-api-descriptor/dist/Buff/BuffReferencePartial.js","../../aa-api-descriptor/dist/Helpers.js","../../aa-api-descriptor/dist/Trait/TraitReferencePartial.js","../../aa-api-descriptor/dist/Buff/BuffTypes.js","../../aa-api-descriptor/dist/Buff/BuffHelpers.js","../../aa-api-descriptor/dist/Buff/describe.js","../../aa-api-descriptor/dist/Buff/index.js","../../aa-api-descriptor/dist/Buff/describeType.js","../../aa-api-descriptor/dist/Trait/TraitOverrideNames.js","../../aa-api-descriptor/dist/Trait/index.js","../../aa-api-descriptor/dist/Trait/describe.js","Descriptor/Description.tsx","Component/SearchableSelect.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/react-bootstrap/esm/Table.js","../node_modules/react-bootstrap/esm/Badge.js","Page/Entities/TraitsSelector.tsx","Page/EntitiesPage.tsx"],"names":["asPercent","value","pow","parseInt","decimal","Math","formatNumber","String","replace","handleNewLine","text","mergeElements","split","joinElements","elements","separator","parts","pushElement","element","undefined","length","previous","toString","push","forEach","index","seperator","Fragment","map","key","FaceIcon","alt","src","this","props","location","style","height","React","Component","TraitDescription","state","id","trait","Api","traitList","i","setState","descriptor","TraitDescriptor","describe","region","disableLink","getDescription","to","getLocation","Description","renderAsString","PartialType","ReferenceType","ValueType","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","BasePartial","type","ParticlePartial","_super","call","PARTICLE","ReferencePartial","referenceType","_this","REFERENCE","TextPartial","TEXT","ValuePartial","valueType","VALUE","Descriptor","partials","_partials","references","filter","partial","BuffReferencePartial","buff","BUFF","toTitleCase","matches","match","word","charAt","toUpperCase","slice","join","TraitReferencePartial","TRAIT","upDownBuffs","up","Buff","BuffType","ADD_MAXHP","down","SUB_MAXHP","description","UP_ATK","DOWN_ATK","UP_CHAGETD","UP_COMMANDALL","DOWN_COMMANDALL","UP_COMMANDATK","DOWN_COMMANDATK","UP_CRITICALDAMAGE","DOWN_CRITICALDAMAGE","UP_CRITICALPOINT","DOWN_CRITICALPOINT","UP_CRITICALRATE","DOWN_CRITICALRATE","UP_CRITICAL_RATE_DAMAGE_TAKEN","DOWN_CRITICAL_RATE_DAMAGE_TAKEN","UP_DAMAGE","DOWN_DAMAGE","UP_DAMAGEDROPNP","DOWN_DAMAGEDROPNP","UP_DEFENCE","DOWN_DEFENCE","UP_DEFENCECOMMANDALL","DOWN_DEFENCECOMMANDALL","UP_DROPNP","DOWN_DROPNP","UP_FUNC_HP_REDUCE","DOWN_FUNC_HP_REDUCE","UP_GRANT_INSTANTDEATH","DOWN_GRANT_INSTANTDEATH","UP_GRANTSTATE","DOWN_GRANTSTATE","UP_NONRESIST_INSTANTDEATH","UP_NPDAMAGE","DOWN_NPDAMAGE","UP_SPECIALDEFENCE","DOWN_SPECIALDEFENCE","UP_STARWEIGHT","DOWN_STARWEIGHT","UP_TOLERANCE","DOWN_TOLERANCE","UP_TOLERANCE_SUBSTATE","DOWN_TOLERANCE_SUBSTATE","buffTraitDescriptions","Map","buffTypeDescriptions","AVOID_INSTANTDEATH","AVOID_STATE","ADD_DAMAGE","ADD_INDIVIDUALITY","AVOIDANCE","CHANGE_COMMAND_CARD_TYPE","COMMANDCODEATTACK_FUNCTION","BREAK_AVOIDANCE","DELAY_FUNCTION","DONOT_NOBLE","DONOT_NOBLE_COND_MISMATCH","DONOT_RECOVERY","DONOT_SELECT_COMMANDCARD","DONOT_SKILL","FIELD_INDIVIDUALITY","FIX_COMMANDCARD","GUTS","GUTS_FUNCTION","INVINCIBLE","MULTIATTACK","PIERCE_INVINCIBLE","REGAIN_HP","REGAIN_NP","REGAIN_STAR","SELFTURNEND_FUNCTION","SPECIAL_INVINCIBLE","SUB_SELFDAMAGE","TD_TYPE_CHANGE","TD_TYPE_CHANGE_ARTS","TD_TYPE_CHANGE_BUSTER","TD_TYPE_CHANGE_QUICK","UP_HATE","buffTriggerTypes","ATTACK_FUNCTION","after","event","COMMANDATTACK_FUNCTION","COMMANDATTACK_BEFORE_FUNCTION","DAMAGE_FUNCTION","when","DEAD_FUNCTION","NPATTACK_PREV_BUFF","getUpDownBuffType","x","appendTraitFilters","selfTraits","targetTraits","selfTraitFilters","traitReferences","targetTraitFilters","apply","traits","particle","newPartialList","insertParticles","upDownBuffType","triggerType","get","traitDescription","traitIds","vals","traitId","getTraitDescription","typeDescription","ckSelfIndv","ckOpIndv","describeType","TraitOverrideNames","overrideName","name","UNKNOWN","fragments","renderParticle","renderReference","renderText","renderValue","PERCENT","SearchableSelect","ref","createRef","selected","focused","results","current","clear","labels","disableLabelStyling","label","hideAll","getOption","concat","options","onChange","getOptions","placeholder","ignoreDiacritics","maxResults","onBlur","resetInput","selectOption","onFocus","hideReset","className","onClick","e","preventDefault","clearSelection","onMouseDown","icon","faTimes","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","arguments","source","getOwnPropertyDescriptors","defineProperties","Table","forwardRef","_ref","bsPrefix","striped","bordered","borderless","hover","size","variant","responsive","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","Badge","pill","_ref$as","as","prefix","displayName","defaultProps","TraitsSelector","padStart","resetField","input","addTrait","onUpdate","console","log","_trait","cursor","removeTrait","faTimesCircle","onInputChange","onKeyDown","keyCode","addInputTrait","attributeDescriptions","classNameDescriptions","entityTypeDescriptions","Entity","EntityType","NORMAL","HEROINE","COMBINE_MATERIAL","ENEMY","ENEMY_COLLECTION","ENEMY_COLLECTION_DETAIL","SERVANT_EQUIP","STATUS_UP","genderDescriptions","stateCache","EntitiesPage","defaultState","loading","searching","entities","traitSelected","Manager","setRegion","search","history","error","set","entity","collectionNo","gender","attribute","alert","searchEntity","ErrorStatus","Loading","onSubmit","ev","Form","Group","Label","Control","values","ClassName","EXTRA","Gender","Attribute","Button","faSearch","route","face","withRouter"],"mappings":"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","file":"static/js/13.49accdaf.chunk.js","sourcesContent":["import React from \"react\";\n\nexport type Renderable = (\n    JSX.Element\n    | string\n    | number\n    | undefined\n    )\n\nexport function asPercent(value: number | string | undefined, pow: number): string {\n    if (typeof value === \"string\")\n        return asPercent(parseInt(value), pow);\n\n    const decimal = (value ?? 0) / Math.pow(10, pow);\n\n    return `${decimal}%`;\n}\n\nexport function formatNumber(value: number): string {\n    return String(value).replace(/(.)(?=(\\d{3})+$)/g, '$1,');\n}\n\nexport function handleNewLine(text?: string): Renderable {\n    if (!text)\n        return \"\";\n\n    return (\n        <span>\n            {mergeElements(text.split(\"\\n\"), <br/>)}\n        </span>\n    );\n}\n\nexport function joinElements(elements: Renderable[], separator: Renderable): Renderable[] {\n    const parts: Renderable[] = [],\n        pushElement = function (element: Renderable) {\n            if (element === undefined)\n                return;\n\n            if (typeof element === 'object') {\n                parts.push(element);\n                return;\n            }\n\n            if (parts.length === 0) {\n                parts.push(element.toString());\n                return;\n            }\n\n            const previous = parts[parts.length - 1];\n            if (typeof previous !== 'string') {\n                parts.push(element.toString());\n                return;\n            }\n\n            parts[parts.length - 1] = previous + element.toString();\n        };\n\n    elements.forEach((element, index) => {\n        if (index > 0)\n            pushElement(separator);\n\n        pushElement(element);\n    });\n\n    return parts;\n}\n\nexport function mergeElements(elements: Renderable[], seperator: Renderable): Renderable {\n    return <React.Fragment>\n        {joinElements(elements, seperator).map((element, index) => {\n            return <React.Fragment key={index}>{element}</React.Fragment>;\n        })}\n    </React.Fragment>\n}\n","import {Entity} from \"@atlasacademy/api-connector\";\nimport React from \"react\";\n\ninterface IProps {\n    type?: Entity.EntityType;\n    rarity?: number;\n    location: string;\n    height?: number | string;\n}\n\nclass FaceIcon extends React.Component<IProps> {\n\n    render() {\n        return (\n            <img alt={''} src={this.props.location}\n                 style={{height: this.props.height ?? '2em'}}/>\n        );\n    }\n\n}\n\nexport default FaceIcon;\n","import {Region, Trait} from \"@atlasacademy/api-connector\";\nimport {TraitDescriptor} from \"@atlasacademy/api-descriptor\";\nimport React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Api from \"../Api\";\nimport Description from \"./Description\";\n\ninterface IProps {\n    region: Region;\n    trait: Trait.Trait | number;\n    disableLink?: boolean;\n}\n\ninterface IState {\n    id: number;\n    trait?: Trait.Trait;\n}\n\nclass TraitDescription extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            id: typeof props.trait === \"number\" ? props.trait : props.trait.id,\n            trait: typeof props.trait === \"number\" ? undefined : props.trait,\n        };\n    }\n\n    static renderAsString(trait: Trait.Trait | number): string {\n        const descriptor = TraitDescriptor.describe(trait);\n\n        return Description.renderAsString(descriptor);\n    }\n\n    async componentDidMount() {\n        if (this.state.trait)\n            return;\n\n        const traitList = await Api.traitList();\n\n        for (let i = 0; i < traitList.length; i++) {\n            const trait = traitList[i];\n\n            if (trait.id === this.state.id) {\n                this.setState({trait});\n\n                return;\n            }\n        }\n    }\n\n    private getDescription(trait: Trait.Trait | number) {\n        const descriptor = TraitDescriptor.describe(trait);\n\n        return <Description region={this.props.region} descriptor={descriptor}/>;\n    }\n\n    private getLocation(): string {\n        return `/${this.props.region}/entities/trait/${this.state.id}`;\n    }\n\n    render() {\n        const trait = this.state.trait ?? this.state.id;\n\n        return (\n            this.props.disableLink\n                ? <span>[{this.getDescription(trait)}]</span>\n                : <Link to={this.getLocation()}>[{this.getDescription(trait)}]</Link>\n        );\n    }\n}\n\nexport default TraitDescription;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport var PartialType;\n(function (PartialType) {\n    PartialType[\"PARTICLE\"] = \"particle\";\n    PartialType[\"REFERENCE\"] = \"reference\";\n    PartialType[\"TEXT\"] = \"text\";\n    PartialType[\"VALUE\"] = \"value\";\n})(PartialType || (PartialType = {}));\nexport var ReferenceType;\n(function (ReferenceType) {\n    ReferenceType[\"BUFF\"] = \"buff\";\n    ReferenceType[\"TRAIT\"] = \"trait\";\n})(ReferenceType || (ReferenceType = {}));\nexport var ValueType;\n(function (ValueType) {\n    ValueType[\"NUMBER\"] = \"number\";\n    ValueType[\"PERCENT\"] = \"percent\";\n    ValueType[\"UNKNOWN\"] = \"unknown\";\n})(ValueType || (ValueType = {}));\nvar BasePartial = /** @class */ (function () {\n    function BasePartial(type, value) {\n        this.type = type;\n        this.value = value;\n    }\n    return BasePartial;\n}());\nexport { BasePartial };\nvar ParticlePartial = /** @class */ (function (_super) {\n    __extends(ParticlePartial, _super);\n    function ParticlePartial(value) {\n        return _super.call(this, PartialType.PARTICLE, value) || this;\n    }\n    return ParticlePartial;\n}(BasePartial));\nexport { ParticlePartial };\nvar ReferencePartial = /** @class */ (function (_super) {\n    __extends(ReferencePartial, _super);\n    function ReferencePartial(referenceType, value) {\n        var _this = _super.call(this, PartialType.REFERENCE, value) || this;\n        _this.referenceType = referenceType;\n        return _this;\n    }\n    return ReferencePartial;\n}(BasePartial));\nexport { ReferencePartial };\nvar TextPartial = /** @class */ (function (_super) {\n    __extends(TextPartial, _super);\n    function TextPartial(value) {\n        return _super.call(this, PartialType.TEXT, value) || this;\n    }\n    return TextPartial;\n}(BasePartial));\nexport { TextPartial };\nvar ValuePartial = /** @class */ (function (_super) {\n    __extends(ValuePartial, _super);\n    function ValuePartial(valueType, value) {\n        var _this = _super.call(this, PartialType.VALUE, value) || this;\n        _this.valueType = valueType;\n        return _this;\n    }\n    return ValuePartial;\n}(BasePartial));\nexport { ValuePartial };\nvar Descriptor = /** @class */ (function () {\n    function Descriptor(partials) {\n        this._partials = partials;\n    }\n    Descriptor.prototype.partials = function () {\n        return this._partials;\n    };\n    Descriptor.prototype.references = function () {\n        return this\n            ._partials\n            .filter(function (partial) { return partial.type === PartialType.REFERENCE; });\n    };\n    return Descriptor;\n}());\nexport { Descriptor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ReferencePartial, ReferenceType } from \"../Descriptor\";\nvar BuffReferencePartial = /** @class */ (function (_super) {\n    __extends(BuffReferencePartial, _super);\n    function BuffReferencePartial(buff) {\n        return _super.call(this, ReferenceType.BUFF, buff) || this;\n    }\n    return BuffReferencePartial;\n}(ReferencePartial));\nexport default BuffReferencePartial;\n","import { ParticlePartial } from \"./Descriptor\";\nexport function insertParticles(partials, particle) {\n    var newPartialList = [];\n    for (var i = 0; i < partials.length; i++) {\n        if (i > 0) {\n            newPartialList.push(new ParticlePartial(particle));\n        }\n        newPartialList.push(partials[i]);\n    }\n    return newPartialList;\n}\nexport function toTitleCase(value) {\n    var matches = value.match(/[A-Z]*[a-z0-9]*/g);\n    if (!matches || !matches.length)\n        return value;\n    var words = matches\n        .filter(function (word) { return word.length > 0; })\n        .map(function (word) {\n        return word.charAt(0).toUpperCase() + word.slice(1);\n    });\n    return words.join(' ');\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ReferencePartial, ReferenceType } from \"../Descriptor\";\nvar TraitReferencePartial = /** @class */ (function (_super) {\n    __extends(TraitReferencePartial, _super);\n    function TraitReferencePartial(trait) {\n        return _super.call(this, ReferenceType.TRAIT, trait) || this;\n    }\n    return TraitReferencePartial;\n}(ReferencePartial));\nexport default TraitReferencePartial;\n","import { Buff } from \"@atlasacademy/api-connector\";\nexport var upDownBuffs = [\n    { up: Buff.BuffType.ADD_MAXHP, down: Buff.BuffType.SUB_MAXHP, description: \"Max HP\" },\n    { up: Buff.BuffType.UP_ATK, down: Buff.BuffType.DOWN_ATK, description: \"ATK\" },\n    { up: Buff.BuffType.UP_CHAGETD, down: undefined, description: \"Overcharge\" },\n    { up: Buff.BuffType.UP_COMMANDALL, down: Buff.BuffType.DOWN_COMMANDALL, description: \"Card\" },\n    { up: Buff.BuffType.UP_COMMANDATK, down: Buff.BuffType.DOWN_COMMANDATK, description: \"ATK\" },\n    { up: Buff.BuffType.UP_CRITICALDAMAGE, down: Buff.BuffType.DOWN_CRITICALDAMAGE, description: \"Critical Damage\" },\n    { up: Buff.BuffType.UP_CRITICALPOINT, down: Buff.BuffType.DOWN_CRITICALPOINT, description: \"Star Drop Rate\" },\n    { up: Buff.BuffType.UP_CRITICALRATE, down: Buff.BuffType.DOWN_CRITICALRATE, description: \"Critical Rate\" },\n    {\n        up: Buff.BuffType.UP_CRITICAL_RATE_DAMAGE_TAKEN,\n        down: Buff.BuffType.DOWN_CRITICAL_RATE_DAMAGE_TAKEN,\n        description: \"Critical Rate Taken\"\n    },\n    { up: Buff.BuffType.UP_DAMAGE, down: Buff.BuffType.DOWN_DAMAGE, description: \"SP.DMG\" },\n    { up: Buff.BuffType.UP_DAMAGEDROPNP, down: Buff.BuffType.DOWN_DAMAGEDROPNP, description: \"NP Gain When Damaged\" },\n    { up: Buff.BuffType.UP_DEFENCE, down: Buff.BuffType.DOWN_DEFENCE, description: \"DEF\" },\n    { up: Buff.BuffType.UP_DEFENCECOMMANDALL, down: Buff.BuffType.DOWN_DEFENCECOMMANDALL, description: \"Resistance\" },\n    { up: Buff.BuffType.UP_DROPNP, down: Buff.BuffType.DOWN_DROPNP, description: \"NP Gain\" },\n    { up: Buff.BuffType.UP_FUNC_HP_REDUCE, down: Buff.BuffType.DOWN_FUNC_HP_REDUCE, description: \"DoT Effectiveness\" },\n    { up: Buff.BuffType.UP_GRANT_INSTANTDEATH, down: Buff.BuffType.DOWN_GRANT_INSTANTDEATH, description: \"Death Chance\" },\n    { up: Buff.BuffType.UP_GRANTSTATE, down: Buff.BuffType.DOWN_GRANTSTATE, description: \"Buff Chance\" },\n    { up: undefined, down: Buff.BuffType.UP_NONRESIST_INSTANTDEATH, description: \"Death Resist\" },\n    { up: Buff.BuffType.UP_NPDAMAGE, down: Buff.BuffType.DOWN_NPDAMAGE, description: \"NP Damage\" },\n    { up: Buff.BuffType.UP_SPECIALDEFENCE, down: Buff.BuffType.DOWN_SPECIALDEFENCE, description: \"SP.DEF\" },\n    { up: Buff.BuffType.UP_STARWEIGHT, down: Buff.BuffType.DOWN_STARWEIGHT, description: \"Star Weight\" },\n    { up: Buff.BuffType.UP_TOLERANCE, down: Buff.BuffType.DOWN_TOLERANCE, description: \"Debuff Resist\" },\n    {\n        up: Buff.BuffType.UP_TOLERANCE_SUBSTATE,\n        down: Buff.BuffType.DOWN_TOLERANCE_SUBSTATE,\n        description: \"Buff Removal Resist\"\n    },\n];\nexport var buffTraitDescriptions = new Map([\n    [3012, 'Charm'],\n    [3015, 'Burn'],\n    [3026, 'Curse'],\n    [3045, 'Stun'],\n]);\nexport var buffTypeDescriptions = new Map([\n    [Buff.BuffType.AVOID_INSTANTDEATH, 'Immune to Death'],\n    [Buff.BuffType.AVOID_STATE, 'Immunity'],\n    [Buff.BuffType.ADD_DAMAGE, 'Damage Plus'],\n    [Buff.BuffType.ADD_INDIVIDUALITY, 'Add Trait'],\n    [Buff.BuffType.AVOIDANCE, 'Evade'],\n    [Buff.BuffType.CHANGE_COMMAND_CARD_TYPE, 'Change Command Card Types'],\n    [Buff.BuffType.COMMANDCODEATTACK_FUNCTION, 'Command Code Effect'],\n    [Buff.BuffType.BREAK_AVOIDANCE, 'Sure Hit'],\n    [Buff.BuffType.DELAY_FUNCTION, 'Trigger Skill after Duration'],\n    [Buff.BuffType.DONOT_NOBLE, 'NP Seal'],\n    [Buff.BuffType.DONOT_NOBLE_COND_MISMATCH, 'NP Block if Condition Failed'],\n    [Buff.BuffType.DONOT_RECOVERY, 'Recovery Disabled'],\n    [Buff.BuffType.DONOT_SELECT_COMMANDCARD, 'Do Not Shuffle In Cards'],\n    [Buff.BuffType.DONOT_SKILL, 'Skill Seal'],\n    [Buff.BuffType.FIELD_INDIVIDUALITY, 'Change Field Type'],\n    [Buff.BuffType.FIX_COMMANDCARD, 'Freeze Command Cards'],\n    [Buff.BuffType.GUTS, 'Guts'],\n    [Buff.BuffType.GUTS_FUNCTION, 'Trigger Skill on Guts'],\n    [Buff.BuffType.INVINCIBLE, 'Invincible'],\n    [Buff.BuffType.MULTIATTACK, 'Multiple Hits'],\n    [Buff.BuffType.PIERCE_INVINCIBLE, 'Ignore Invincible'],\n    [Buff.BuffType.REGAIN_HP, 'HP Per Turn'],\n    [Buff.BuffType.REGAIN_NP, 'NP Per Turn'],\n    [Buff.BuffType.REGAIN_STAR, 'Stars Per Turn'],\n    [Buff.BuffType.SELFTURNEND_FUNCTION, 'Trigger Skill every Turn'],\n    [Buff.BuffType.SPECIAL_INVINCIBLE, 'Special invincible'],\n    [Buff.BuffType.SUB_SELFDAMAGE, 'Damage Cut'],\n    [Buff.BuffType.TD_TYPE_CHANGE, 'Change Noble Phantasm'],\n    [Buff.BuffType.TD_TYPE_CHANGE_ARTS, 'Set Noble Phantasm: Arts'],\n    [Buff.BuffType.TD_TYPE_CHANGE_BUSTER, 'Set Noble Phantasm: Buster'],\n    [Buff.BuffType.TD_TYPE_CHANGE_QUICK, 'Set Noble Phantasm: Quick'],\n    [Buff.BuffType.UP_HATE, 'Taunt'],\n]);\nexport var buffTriggerTypes = new Map([\n    [Buff.BuffType.ATTACK_FUNCTION, { after: true, event: 'attacks' }],\n    [Buff.BuffType.COMMANDATTACK_FUNCTION, { after: true, event: 'cards' }],\n    [Buff.BuffType.COMMANDATTACK_BEFORE_FUNCTION, { after: false, event: 'cards' }],\n    [Buff.BuffType.DAMAGE_FUNCTION, { after: true, when: 'receiving', event: 'attacks' }],\n    [Buff.BuffType.DEAD_FUNCTION, { after: true, event: 'death' }],\n    [Buff.BuffType.NPATTACK_PREV_BUFF, { after: true, event: 'NP' }],\n]);\n","import { buffTraitDescriptions, upDownBuffs } from \"./BuffTypes\";\nexport function getUpDownBuffType(type) {\n    for (var x in upDownBuffs) {\n        if (upDownBuffs[x].up === type || upDownBuffs[x].down === type)\n            return upDownBuffs[x];\n    }\n    return undefined;\n}\nexport function getTraitDescription(buff) {\n    var traitIds = buff.vals.map(function (trait) { return trait.id; });\n    for (var x in traitIds) {\n        var traitId = traitIds[x], description = buffTraitDescriptions.get(traitId);\n        if (description !== undefined)\n            return description;\n    }\n    return undefined;\n}\n","import { Descriptor, ParticlePartial, TextPartial } from \"../Descriptor\";\nimport { insertParticles } from \"../Helpers\";\nimport TraitReferencePartial from \"../Trait/TraitReferencePartial\";\nimport { getTraitDescription, getUpDownBuffType } from \"./BuffHelpers\";\nimport { buffTriggerTypes, buffTypeDescriptions } from \"./BuffTypes\";\nfunction appendTraitFilters(selfTraits, targetTraits) {\n    var partials = [], selfTraitFilters = traitReferences(selfTraits), targetTraitFilters = traitReferences(targetTraits);\n    if (selfTraitFilters.length) {\n        partials.push(new ParticlePartial(' for '));\n        partials.push.apply(partials, selfTraitFilters);\n    }\n    if (targetTraitFilters.length) {\n        partials.push(new ParticlePartial(' vs. '));\n        partials.push.apply(partials, targetTraitFilters);\n    }\n    return partials;\n}\nfunction traitReferences(traits) {\n    return insertParticles(traits.map(function (trait) { return new TraitReferencePartial(trait); }), ' & ');\n}\nexport default function (buff) {\n    var partials = [], upDownBuffType = getUpDownBuffType(buff.type), triggerType = buffTriggerTypes.get(buff.type), traitDescription = getTraitDescription(buff), typeDescription = buffTypeDescriptions.get(buff.type);\n    if (upDownBuffType) {\n        if (upDownBuffType.up === buff.type) {\n            partials.push(new TextPartial(upDownBuffType.description + \" Up\"));\n        }\n        else {\n            partials.push(new TextPartial(upDownBuffType.description + \" Down\"));\n        }\n        partials.push.apply(partials, appendTraitFilters(buff.ckSelfIndv, buff.ckOpIndv));\n    }\n    else if (typeDescription) {\n        partials.push(new TextPartial(typeDescription));\n        partials.push.apply(partials, appendTraitFilters(buff.ckSelfIndv, buff.ckOpIndv));\n    }\n    else if (traitDescription) {\n        partials.push(new TextPartial(traitDescription));\n        partials.push.apply(partials, appendTraitFilters(buff.ckSelfIndv, buff.ckOpIndv));\n    }\n    else if (triggerType) {\n        partials.push(new TextPartial('Trigger Skills'));\n        partials.push(new ParticlePartial(triggerType.after ? ' on ' : ' before '));\n        if (triggerType.when) {\n            partials.push(new TextPartial(triggerType.when));\n            partials.push(new ParticlePartial(' '));\n        }\n        if (buff.ckSelfIndv.length) {\n            partials.push.apply(partials, traitReferences(buff.ckSelfIndv));\n            partials.push(new ParticlePartial(' '));\n        }\n        partials.push(new TextPartial(triggerType.event));\n        partials.push.apply(partials, appendTraitFilters([], buff.ckOpIndv));\n    }\n    return new Descriptor(partials);\n}\n","import BuffReferencePartial from \"./BuffReferencePartial\";\nimport describe from \"./describe\";\nimport describeType from \"./describeType\";\nexport default {\n    describe: describe,\n    describeType: describeType,\n    BuffReferencePartial: BuffReferencePartial,\n};\n","import { toTitleCase } from \"../Helpers\";\nimport { getUpDownBuffType } from \"./BuffHelpers\";\nimport { buffTriggerTypes, buffTypeDescriptions } from \"./BuffTypes\";\nexport default function (type) {\n    var upDownBuffType = getUpDownBuffType(type), triggerType = buffTriggerTypes.get(type), typeDescription = buffTypeDescriptions.get(type);\n    if (upDownBuffType) {\n        if (upDownBuffType.up === type) {\n            return upDownBuffType.description + \" Up\";\n        }\n        else {\n            return upDownBuffType.description + \" Down\";\n        }\n    }\n    else if (typeDescription) {\n        return typeDescription;\n    }\n    else if (triggerType) {\n        return \"Trigger Skills \" + (triggerType.after ? 'on ' : 'before ') + (triggerType.when ? (triggerType.when + ' ') : '') + triggerType.event;\n    }\n    return toTitleCase(type);\n}\n","var TraitOverrideNames = new Map([\n    [1, \"Gender:Male\"],\n    [2, \"Gender:Female\"],\n    [3, \"Gender:Unknown\"],\n    [100, \"Class:Saber\"],\n    [101, \"Class:Lancer\"],\n    [102, \"Class:Archer\"],\n    [103, \"Class:Rider\"],\n    [104, \"Class:Caster\"],\n    [105, \"Class:Assassin\"],\n    [106, \"Class:Berserker\"],\n    [107, \"Class:Shielder\"],\n    [108, \"Class:Ruler\"],\n    [109, \"Class:Alter Ego\"],\n    [110, \"Class:Avenger\"],\n    [111, \"Demon Pillar\"],\n    [112, \"Class:Grand Caster\"],\n    [113, \"Beast I\"],\n    [114, \"Beast II\"],\n    [115, \"Class:Moon Cancer\"],\n    [116, \"Beast IIIR\"],\n    [117, \"Class:Foreigner\"],\n    [118, \"Beast IIIL\"],\n    [119, \"Beast Unknown\"],\n    [200, \"Attribute:Sky\"],\n    [201, \"Attribute:Earth\"],\n    [202, \"Attribute:Human\"],\n    [203, \"Attribute:Star\"],\n    [204, \"Attribute:Beast\"],\n    [300, \"Alignment:Lawful\"],\n    [301, \"Alignment:Chaotic\"],\n    [302, \"Alignment:Neutral\"],\n    [303, \"Alignment:Good\"],\n    [304, \"Alignment:Evil\"],\n    [305, \"Alignment:Balanced\"],\n    [306, \"Alignment:Madness\"],\n    [308, \"Alignment:Summer\"],\n    [2386, \"Kingprotea:Proliferation\"],\n    [2387, \"Kingprotea:Growth\"],\n    [2664, \"Kingprotea:Proliferation NP Defense\"],\n    [3005, \"Buff:Debuff\"],\n    [3006, \"Buff:Offensive\"],\n    [3007, \"Buff:Defensive\"],\n    [3011, \"Poison\"],\n    [3012, \"Charm\"],\n    [3015, \"Burn\"],\n    [3021, \"Evade\"],\n    [3026, \"Curse\"],\n    [3047, \"Pigify\"],\n    [4001, \"Card:Arts\"],\n    [4002, \"Card:Buster\"],\n    [4003, \"Card:Quick\"],\n    [4004, \"Card:Extra\"],\n    [4008, \"Player Card\"],\n    [4100, \"Critical Hit\"],\n]);\nexport default TraitOverrideNames;\n","import describe from \"./describe\";\nimport TraitReferencePartial from \"./TraitReferencePartial\";\nexport default {\n    describe: describe,\n    TraitReferencePartial: TraitReferencePartial\n};\n","import { Descriptor, ParticlePartial, TextPartial, ValuePartial, ValueType } from \"../Descriptor\";\nimport { toTitleCase } from \"../Helpers\";\nimport TraitOverrideNames from \"./TraitOverrideNames\";\nexport default function (trait) {\n    var id = typeof trait === 'number' ? trait : trait.id;\n    var overrideName = TraitOverrideNames.get(id);\n    if (overrideName !== undefined) {\n        return new Descriptor([\n            new TextPartial(overrideName)\n        ]);\n    }\n    var name = typeof trait === \"number\" ? 'unknown' : trait.name;\n    if (name !== 'unknown') {\n        return new Descriptor([\n            new TextPartial(toTitleCase(name))\n        ]);\n    }\n    return new Descriptor([\n        new ParticlePartial('unknown('),\n        new ValuePartial(ValueType.UNKNOWN, id),\n        new ParticlePartial(')'),\n    ]);\n}\n","import Region from \"@atlasacademy/api-connector/dist/Enum/Region\";\nimport {\n    Descriptor,\n    PartialType,\n    ParticlePartial,\n    ReferencePartial,\n    ReferenceType,\n    TextPartial,\n    ValuePartial,\n    ValueType\n} from \"@atlasacademy/api-descriptor\";\nimport React from \"react\";\nimport TraitDescription from \"./TraitDescription\";\n\ninterface IProps {\n    region: Region,\n    descriptor: Descriptor,\n}\n\nclass Description extends React.Component<IProps> {\n    private static renderParticle(partial: ParticlePartial): string {\n        return partial.value;\n    }\n\n    private static renderReferenceAsString(partial: ReferencePartial): string {\n        if (partial.referenceType === ReferenceType.TRAIT) {\n            return TraitDescription.renderAsString(partial.value);\n        }\n\n        return partial.value.toString();\n    }\n\n    private static renderText(partial: TextPartial): string {\n        return partial.value;\n    }\n\n    private static renderValue(partial: ValuePartial): string {\n        if (partial.valueType === ValueType.PERCENT) {\n            return (partial.value * 100).toString() + '%';\n        }\n\n        return partial.value.toString();\n    }\n\n    static renderAsString(descriptor: Descriptor): string {\n        const partials = descriptor.partials(),\n            fragments: string[] = [];\n\n        for (let i = 0; i < partials.length; i++) {\n            const partial = partials[i];\n\n            if (partial.type === PartialType.PARTICLE) {\n                fragments.push(Description.renderParticle(partial));\n            } else if (partial.type === PartialType.TEXT) {\n                fragments.push(Description.renderText(partial));\n            } else if (partial.type === PartialType.VALUE) {\n                fragments.push(Description.renderValue(partial as ValuePartial));\n            } else {\n                fragments.push(partial.value.toString());\n            }\n        }\n\n        return fragments.join();\n    }\n\n    private renderReference(partial: ReferencePartial, key: number) {\n        if (partial.referenceType === ReferenceType.TRAIT) {\n            return <TraitDescription key={key} region={this.props.region} trait={partial.value}/>\n        }\n\n        return partial.value.toString();\n    }\n\n    render() {\n        const partials = this.props.descriptor.partials(),\n            fragments = [];\n\n        for (let i = 0; i < partials.length; i++) {\n            const partial = partials[i];\n\n            if (partial.type === PartialType.PARTICLE) {\n                fragments.push(Description.renderParticle(partial));\n            } else if (partial.type === PartialType.REFERENCE) {\n                fragments.push(this.renderReference(partial as ReferencePartial, i));\n            } else if (partial.type === PartialType.TEXT) {\n                fragments.push(Description.renderText(partial));\n            } else if (partial.type === PartialType.VALUE) {\n                fragments.push(Description.renderValue(partial as ValuePartial));\n            } else {\n                fragments.push(partial.value.toString());\n            }\n        }\n\n        return <React.Fragment>{fragments}</React.Fragment>;\n    }\n\n}\n\nexport default Description;\n","import {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React, {RefObject} from \"react\";\nimport {Typeahead} from \"react-bootstrap-typeahead\";\n\nimport \"./SearchableSelect.css\";\n\ninterface Option<T> {\n    label: string,\n    value?: T,\n}\n\ninterface IProps<T> {\n    id: string,\n    options: T[],\n    labels: Map<T, string>,\n    onChange: Function,\n    selected?: T,\n    hideAll?: boolean,\n    hideReset?: boolean,\n    disableLabelStyling?: boolean,\n    maxResults?: number,\n}\n\ninterface IState<T> {\n    ref: RefObject<any>,\n    selected?: T,\n    focused: boolean,\n    results: boolean,\n}\n\nclass SearchableSelect<T> extends React.Component<IProps<T>, IState<T>> {\n    constructor(props: IProps<T>) {\n        super(props);\n\n        this.state = {\n            ref: React.createRef(),\n            selected: props.selected,\n            focused: false,\n            results: false,\n        };\n    }\n\n    private async clearSelection() {\n        await this.setState({selected: undefined, results: true});\n        this.state.ref.current.clear();\n    }\n\n    private getDescription(value?: T): string {\n        if (value === undefined)\n            return 'All';\n\n        const description = this.props.labels.get(value);\n\n        if (this.props.disableLabelStyling) {\n            if (description)\n                return description;\n\n            return typeof value === 'string' ? value : 'Unknown';\n        }\n\n        return description\n            ? `${description} - ${value}`\n            : `(${value})`;\n    }\n\n    private getOption(value?: T): Option<T> {\n        const label = this.getDescription(value);\n\n        return {label, value};\n    }\n\n    private getOptions(): Option<T>[] {\n        return (this.props.hideAll ? [] : [this.getOption()])\n            .concat(\n                this.props.options.map(value => this.getOption(value))\n            );\n    }\n\n    private resetInput() {\n        this.setState({focused: false, results: false});\n    }\n\n    private async selectOption(options: Option<T>[]) {\n        if (options.length === 0) {\n            this.setState({results: false});\n        } else {\n            const selected = options[0].value;\n\n            await this.setState({selected, results: true});\n            this.props.onChange(selected);\n        }\n    }\n\n    render() {\n        return (\n            <Typeahead ref={this.state.ref}\n                       id={this.props.id}\n                       options={this.getOptions()}\n                       placeholder={this.getDescription(this.state.selected)}\n                       selected={this.state.focused && this.state.results ? [this.getOption(this.state.selected)] : []}\n                       ignoreDiacritics={true}\n                       maxResults={this.props.maxResults ?? 1000}\n                       onBlur={() => {\n                           this.resetInput();\n                       }}\n                       onChange={(selected) => {\n                           this.selectOption(selected);\n                       }}\n                       onFocus={() => {\n                           this.setState({focused: true});\n                       }}>\n\n                {this.props.hideReset ? null : (\n                    <button className='searchable-select-clear'\n                            onClick={e => {\n                                e.preventDefault();\n                                this.clearSelection();\n                            }}\n                            onMouseDown={e => {\n                                // Prevent input from losing focus.\n                                e.preventDefault();\n                            }}>\n                        <FontAwesomeIcon icon={faTimes}/>\n                    </button>\n                )}\n            </Typeahead>\n        );\n    }\n}\n\nexport default SearchableSelect;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import {Region, Trait} from \"@atlasacademy/api-connector\";\nimport {faTimesCircle} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React, {RefObject} from \"react\";\nimport {Badge} from \"react-bootstrap\";\nimport {Typeahead} from \"react-bootstrap-typeahead\";\nimport TraitDescription from \"../../Descriptor/TraitDescription\";\nimport {mergeElements} from \"../../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    traitList: Trait.Trait[];\n    traits: number[];\n    onUpdate: (traits: number[]) => void;\n}\n\ninterface IState {\n    ref: RefObject<any>,\n    input?: string,\n}\n\nclass TraitsSelector extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            ref: React.createRef()\n        };\n    }\n\n    private options() {\n        return this.props.traitList.map(trait => {\n            const label = TraitDescription.renderAsString(trait);\n\n            return {\n                label: `${trait.id.toString().padStart(4, '0')} - ${label}`,\n                value: trait.id,\n            };\n        });\n    }\n\n    private resetInput(resetField = true) {\n        this.setState({\n            input: ''\n        });\n        if (resetField) this.state.ref.current.clear();\n    }\n\n    private addInputTrait() {\n        const value = this.state.input;\n        if (!value) {\n            this.resetInput();\n            return;\n        }\n\n        if (!value.match(/^[0-9]+$/)) {\n            this.resetInput();\n            return;\n        }\n\n        this.addTrait(parseInt(value));\n        this.resetInput();\n    }\n\n    private addTrait(trait: number) {\n        this.props.onUpdate(\n            this.props.traits.concat([trait])\n        );\n    }\n\n    private removeTrait(trait: number) {\n        console.log(\n            trait,\n            this.props.traits.filter(_trait => _trait !== trait)\n        );\n        this.props.onUpdate(\n            this.props.traits.filter(_trait => _trait !== trait)\n        );\n    }\n\n    render() {\n        return (\n            <div>\n\n                <p>\n                    {this.props.traits.length > 0 ? mergeElements(this.props.traits.map(trait => (\n                        <span key={trait}\n                              style={{cursor: 'pointer'}}\n                              onClick={(e) => {\n                                  e.preventDefault();\n                                  this.removeTrait(trait);\n                              }}>\n                            <Badge variant='primary'>\n                                <TraitDescription region={this.props.region} trait={trait} disableLink={true}/>\n                                &nbsp;\n                                <FontAwesomeIcon icon={faTimesCircle}/>\n                            </Badge>\n                        </span>\n                    )), ' ') : <i>No Traits Selected</i>}\n                </p>\n\n                <Typeahead ref={this.state.ref}\n                           id={'traitsSelector'}\n                           options={this.options()}\n                           placeholder='Add Trait Filter'\n                           ignoreDiacritics={true}\n                           selected={[]}\n                           onBlur={() => {\n                               this.resetInput(false);\n                           }}\n                           onChange={(selected) => {\n                               if (selected.length > 0) {\n                                   this.addTrait(selected[0].value);\n                               }\n                           }}\n                           onInputChange={text => {\n                               this.setState({input: text});\n                           }}\n                           onKeyDown={(e: any) => {\n                               if (e.keyCode === 13) {\n                                   this.addInputTrait();\n                               }\n                           }}/>\n\n            </div>\n        );\n    }\n}\n\nexport default TraitsSelector;\n","import {ClassName, Entity, Region, Trait} from \"@atlasacademy/api-connector\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {AxiosError} from \"axios\";\nimport React from \"react\";\nimport {Button, Form, Table} from \"react-bootstrap\";\nimport {withRouter} from \"react-router\";\nimport {Link, RouteComponentProps} from \"react-router-dom\";\nimport Api from \"../Api\";\nimport ErrorStatus from \"../Component/ErrorStatus\";\nimport FaceIcon from \"../Component/FaceIcon\";\nimport Loading from \"../Component/Loading\";\nimport SearchableSelect from \"../Component/SearchableSelect\";\nimport Manager from \"../Setting/Manager\";\nimport TraitsSelector from \"./Entities/TraitsSelector\";\n\nconst attributeDescriptions = new Map<Entity.Attribute, string>(),\n    classNameDescriptions = new Map<ClassName, string>(),\n    entityTypeDescriptions = new Map<Entity.EntityType, string>([\n        [Entity.EntityType.NORMAL, 'Servant'],\n        [Entity.EntityType.HEROINE, 'Servant (Mash)'],\n        [Entity.EntityType.COMBINE_MATERIAL, 'Exp Card'],\n        [Entity.EntityType.ENEMY, 'Enemy'],\n        [Entity.EntityType.ENEMY_COLLECTION, 'Enemy Servant'],\n        [Entity.EntityType.ENEMY_COLLECTION_DETAIL, 'Boss'],\n        [Entity.EntityType.SERVANT_EQUIP, 'Craft Essence'],\n        [Entity.EntityType.STATUS_UP, 'Fou Card'],\n    ]),\n    genderDescriptions = new Map<Entity.Gender, string>();\n\nlet stateCache = new Map<Region, IState>([]);\n\ninterface ChangeEvent extends React.ChangeEvent<HTMLInputElement> {\n\n}\n\ninterface IProps extends RouteComponentProps {\n    region: Region;\n    traitSelected?: number;\n}\n\ninterface IState {\n    loading: boolean;\n    error?: AxiosError;\n    traitList: Trait.Trait[];\n    searching: boolean;\n    entities: Entity.EntityBasic[];\n    name?: string;\n    type?: Entity.EntityType;\n    className?: ClassName;\n    gender?: Entity.Gender;\n    attribute?: Entity.Attribute;\n    traits: number[];\n}\n\nclass EntitiesPage extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        const defaultState: IState = {\n            loading: true,\n            traitList: [],\n            searching: false,\n            entities: [],\n            traits: []\n        };\n\n        if (props.traitSelected) {\n            this.state = {\n                ...defaultState,\n                traits: [props.traitSelected]\n            }\n        } else {\n            this.state = stateCache.get(props.region) ?? defaultState;\n        }\n    }\n\n    async componentDidMount() {\n        Manager.setRegion(this.props.region);\n\n        try {\n            const traitList = await Api.traitList();\n            if (this.props.traitSelected) {\n                await this.search();\n                this.props.history.replace(`/${this.props.region}/entities`);\n            }\n\n            this.setState({\n                loading: false,\n                traitList\n            });\n        } catch (e) {\n            this.setState({\n                error: e\n            });\n        }\n    }\n\n    componentDidUpdate() {\n        stateCache.set(this.props.region, {...this.state});\n    }\n\n    private location(entity: Entity.EntityBasic): string | undefined {\n        switch (entity.type) {\n            case Entity.EntityType.NORMAL:\n            case Entity.EntityType.HEROINE:\n                return entity.collectionNo === 0\n                    ? `/${this.props.region}/enemy/${entity.id}`\n                    : `/${this.props.region}/servant/${entity.id}`;\n            case Entity.EntityType.SERVANT_EQUIP:\n                return `/${this.props.region}/craft-essence/${entity.id}`;\n            case Entity.EntityType.ENEMY:\n            case Entity.EntityType.ENEMY_COLLECTION:\n            case Entity.EntityType.ENEMY_COLLECTION_DETAIL:\n                return `/${this.props.region}/enemy/${entity.id}`;\n        }\n\n        return undefined;\n    }\n\n    private async search() {\n        // no filter set\n        if (!this.state.name\n            && !this.state.type\n            && !this.state.className\n            && !this.state.gender\n            && !this.state.attribute\n            && this.state.traits.length === 0\n        ) {\n            this.setState({entities: []});\n            alert('Please refine the results before searching');\n            return;\n        }\n\n        try {\n            await this.setState({searching: true, entities: []});\n\n            const entities = await Api.searchEntity(\n                this.state.name,\n                this.state.type,\n                this.state.className,\n                this.state.gender,\n                this.state.attribute,\n                this.state.traits\n            );\n\n            this.setState({searching: false, entities: entities});\n        } catch (e) {\n            this.setState({\n                error: e\n            });\n        }\n    }\n\n    render() {\n        if (this.state.error)\n            return <ErrorStatus error={this.state.error}/>;\n\n        if (this.state.loading)\n            return <Loading/>;\n\n        return (\n            <div>\n                {this.state.searching ? <Loading/> : null}\n\n                <h1>Entities Search</h1>\n\n                <form onSubmit={(ev: React.FormEvent) => {\n                    ev.preventDefault();\n                    this.search();\n                }}>\n\n                    <Form.Group>\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control value={this.state.name ?? ''}\n                                      onChange={(ev: ChangeEvent) => {\n                                          this.setState({name: ev.target.value});\n                                      }}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Type</Form.Label>\n                        <SearchableSelect<Entity.EntityType> id='select-EntityType'\n                                                      options={Object.values(Entity.EntityType)}\n                                                      labels={entityTypeDescriptions}\n                                                      selected={this.state.type}\n                                                      onChange={(value?: Entity.EntityType) => {\n                                                          this.setState({type: value});\n                                                      }}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Class</Form.Label>\n                        <SearchableSelect<ClassName> id='select-ClassName'\n                                                     options={\n                                                         Object\n                                                             .values(ClassName)\n                                                             .filter(className => className !== ClassName.EXTRA)\n                                                     }\n                                                     labels={classNameDescriptions}\n                                                     selected={this.state.className}\n                                                     onChange={(value?: ClassName) => {\n                                                         this.setState({className: value});\n                                                     }}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Gender</Form.Label>\n                        <SearchableSelect<Entity.Gender> id='select-Gender'\n                                                  options={Object.values(Entity.Gender)}\n                                                  labels={genderDescriptions}\n                                                  selected={this.state.gender}\n                                                  onChange={(value?: Entity.Gender) => {\n                                                      this.setState({gender: value});\n                                                  }}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Attribute</Form.Label>\n                        <SearchableSelect<Entity.Attribute> id='select-Attribute'\n                                                     options={Object.values(Entity.Attribute)}\n                                                     labels={attributeDescriptions}\n                                                     selected={this.state.attribute}\n                                                     onChange={(value?: Entity.Attribute) => {\n                                                         this.setState({attribute: value});\n                                                     }}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Traits</Form.Label>\n                        <TraitsSelector region={this.props.region}\n                                        traitList={this.state.traitList}\n                                        traits={this.state.traits}\n                                        onUpdate={(traits => {\n                                            this.setState({traits});\n                                        })}/>\n                    </Form.Group>\n                    <Button variant={'primary'} onClick={() => this.search()}>\n                        Search\n                        {' '}\n                        <FontAwesomeIcon icon={faSearch}/>\n                    </Button>\n                </form>\n\n                <hr/>\n\n                <Table responsive>\n                    <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Type</th>\n                        <th>Icon</th>\n                        <th>Name</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {this.state.entities.map((entity, index) => {\n                        const route = this.location(entity);\n\n                        return (\n                            <tr key={index}>\n                                <td>\n                                    {route ? (\n                                        <Link to={route}>\n                                            {entity.id}\n                                        </Link>\n                                    ) : entity.id}\n                                </td>\n                                <td>{entityTypeDescriptions.get(entity.type) ?? entity.type}</td>\n                                <td>\n                                    <FaceIcon location={entity.face}/>\n                                </td>\n                                <td>{entity.name}</td>\n                            </tr>\n                        )\n                    })}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(EntitiesPage);\n"],"sourceRoot":""}