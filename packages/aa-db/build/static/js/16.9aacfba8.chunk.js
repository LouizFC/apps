(this["webpackJsonpaa-db"]=this["webpackJsonpaa-db"]||[]).push([[16],{101:function(e,t,n){"use strict";var a=n(121),r=n(11),c=n(12),s=n(98),i=n.n(s),o=n(99),u=n(109),l=n.n(u),p=n(24),f=n(31),h=n(29),g=function(){function e(){Object(r.a)(this,e),this.cache=new Map,this.pending=new Map,this.pendingCatches=new Map}return Object(c.a)(e,[{key:"get",value:function(e,t,n){var a=this,r=this.cache.get(e);if(void 0!==r)return new Promise((function(e){e(r)}));var c=this.pending.get(e);return void 0!==c?new Promise((function(t,n){var r;c.push(t),(null!==(r=a.pendingCatches.get(e))&&void 0!==r?r:[]).push(n)})):(this.pending.set(e,[]),this.pendingCatches.set(e,[]),new Promise((function(r,c){t.call(null).then((function(t){var c;(null!==(c=a.pending.get(e))&&void 0!==c?c:[]).forEach((function(e){e.call(null,t)})),a.cache.set(e,t),a.pending.delete(e),a.pendingCatches.delete(e),null!==n&&window.setTimeout((function(){a.cache.delete(e)}),n),r(t)})).catch((function(t){var n;(null!==(n=a.pendingCatches.get(e))&&void 0!==n?n:[]).forEach((function(e){e.call(null,t)})),a.pending.delete(e),a.pendingCatches.delete(e),c(t)}))})))}}]),e}(),v="https://api.atlasacademy.io",m=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={buff:new g,commandCode:new g,commandCodes:new g,craftEssence:new g,craftEssenceList:new g,func:new g,mysticCode:new g,mysticCodeList:new g,noblePhantasm:new g,quest:new g,servant:new g,servantList:new g,skill:new g,traitMap:new g},b=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"buff",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.buff.get(a,(function(){var a="?reverse=true&reverseDepth=skillNp"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/buff/").concat(t).concat(a))}),2e4)}},{key:"commandCode",value:function(e,t){var n="".concat(e,"-").concat(t);return d.commandCode.get(n,(function(){return m("".concat(v,"/nice/").concat(e,"/CC/").concat(t))}),2e4)}},{key:"commandCodeList",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==h.a.NA){t.next=4;break}return t.abrupt("return",e.getCommandCodeEssenceList(h.a.NA));case 4:if(n!==h.a.JP||p.a.language()!==f.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCommandCodeEssenceList(h.a.JP));case 6:return t.next=8,e.getCommandCodeEssenceList(h.a.JP);case 8:return r=t.sent,t.next=11,e.getCommandCodeEssenceList(h.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"craftEssence",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.craftEssence.get(a,(function(){var a="?lore=true"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/equip/").concat(t).concat(a))}),2e4)}},{key:"craftEssenceList",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==h.a.NA){t.next=4;break}return t.abrupt("return",e.getCacheableCraftEssenceList(h.a.NA));case 4:if(n!==h.a.JP||p.a.language()!==f.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableCraftEssenceList(h.a.JP));case 6:return t.next=8,e.getCacheableCraftEssenceList(h.a.JP);case 8:return r=t.sent,t.next=11,e.getCacheableCraftEssenceList(h.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"func",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.func.get(a,(function(){var a="?reverse=true&reverseDepth=servant"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/function/").concat(t).concat(a))}),2e4)}},{key:"mysticCode",value:function(e,t){var n="".concat(e,"-").concat(t);return d.mysticCode.get(n,(function(){return m("".concat(v,"/nice/").concat(e,"/MC/").concat(t))}),2e4)}},{key:"mysticCodeList",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==h.a.NA){t.next=4;break}return t.abrupt("return",e.getCacheableMysticCodeList(h.a.NA));case 4:if(n!==h.a.JP||p.a.language()!==f.a.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableMysticCodeList(h.a.JP));case 6:return t.next=8,e.getCacheableMysticCodeList(h.a.JP);case 8:return r=t.sent,t.next=11,e.getCacheableMysticCodeList(h.a.NA);case 11:return c=t.sent,s=new Map(c.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"noblePhantasm",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.noblePhantasm.get(a,(function(){var a="?reverse=true"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/NP/").concat(t).concat(a))}),2e4)}},{key:"quest",value:function(e,t,n){var a="".concat(e,"-").concat(t,"-").concat(n);return d.quest.get(a,(function(){return m("".concat(v,"/nice/").concat(e,"/quest/").concat(t,"/").concat(n))}),2e4)}},{key:"servant",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.servant.get(a,(function(){var a="?lore=true"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/servant/").concat(t).concat(a))}),2e4)}},{key:"servantList",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.language(),a="".concat(t,"-").concat(n),r=t===h.a.NA?"".concat(v,"/export/NA/basic_servant.json"):t===h.a.JP&&n===f.a.DEFAULT?"".concat(v,"/export/JP/basic_servant.json"):"".concat(v,"/export/JP/basic_servant_lang_en.json"),e.abrupt("return",d.servantList.get(a,(function(){return m(r)}),null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"skill",value:function(e,t){var n=p.a.language(),a="".concat(e,"-").concat(n,"-").concat(t);return d.skill.get(a,(function(){var a="?reverse=true"+(n===f.a.ENGLISH?"&lang=en":"");return m("".concat(v,"/nice/").concat(e,"/skill/").concat(t).concat(a))}),2e4)}},{key:"traitMap",value:function(e){return d.traitMap.get(e,(function(){return m("".concat(v,"/export/").concat(e,"/nice_trait.json"))}),null)}},{key:"searchBuffs",value:function(e,t,n){var a="?reverse=true";return p.a.language()===f.a.ENGLISH&&(a+="&lang=en"),t&&(a+="&name="+encodeURI(t)),n&&(a+="&type="+n),m("".concat(v,"/nice/").concat(e,"/buff/search").concat(a))}},{key:"searchFuncs",value:function(e,t,n,a,r){var c="?reverse=true";return p.a.language()===f.a.ENGLISH&&(c+="&lang=en"),t&&(c+="&popupText="+encodeURI(t)),n&&(c+="&type="+n),a&&(c+="&targetType="+a),r&&(c+="&targetTeam="+r),m("".concat(v,"/nice/").concat(e,"/function/search").concat(c))}},{key:"getCommandCodeEssenceList",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.commandCodes.get(t,(function(){return m("".concat(v,"/export/").concat(t,"/nice_command_code.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableCraftEssenceList",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.craftEssenceList.get(t,(function(){return m("".concat(v,"/export/").concat(t,"/basic_equip.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableMysticCodeList",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.mysticCodeList.get(t,(function(){return m("".concat(v,"/export/").concat(t,"/nice_mystic_code.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=b},105:function(e,t,n){"use strict";var a=n(11),r=n(12),c=n(19),s=n(18),i=n(0),o=n.n(i),u=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e;return o.a.createElement("img",{alt:"",src:this.props.location,style:{height:null!==(e=this.props.height)&&void 0!==e?e:"2em"}})}}]),n}(o.a.Component);t.a=u},107:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(107);function r(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(107);var r=n(110);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},114:function(e,t,n){"use strict";var a=n(11),r=n(12),c=n(19),s=n(18),i=n(0),o=n.n(i),u=new Map([[1,"./assets/star1.png"],[2,"./assets/star2.png"],[3,"./assets/star3.png"],[4,"./assets/star4.png"],[5,"./assets/star5.png"]]),l=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e;return o.a.createElement("span",null,u.has(this.props.rarity)?o.a.createElement("img",{alt:"".concat(this.props.rarity," star(s)"),src:u.get(this.props.rarity),style:{height:null!==(e=this.props.height)&&void 0!==e?e:18}}):null)}}]),n}(o.a.Component);t.a=l},138:function(e,t,n){"use strict";var a=n(1),r=n(2),c=n(4),s=n.n(c),i=n(0),o=n.n(i),u=n(5),l=["xl","lg","md","sm","xs"],p=o.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,i=e.noGutters,p=e.as,f=void 0===p?"div":p,h=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),g=Object(u.b)(n,"row"),v=g+"-cols",m=[];return l.forEach((function(e){var t,n=h[e];delete h[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&m.push(""+v+a+"-"+t)})),o.a.createElement(f,Object(a.a)({ref:t},h,{className:s.a.apply(void 0,[c,g,i&&"no-gutters"].concat(m))}))}));p.displayName="Row",p.defaultProps={noGutters:!1},t.a=p},219:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(111),r=n(11),c=n(12),s=n(19),i=n(18),o=n(0),u=n.n(o),l=n(1),p=n(2),f=n(4),h=n.n(f),g=n(5),v=n(7),m=n(38),d=u.a.forwardRef((function(e,t){var n=e.active,a=e.disabled,r=e.className,c=e.style,s=e.activeLabel,i=e.children,o=Object(p.a)(e,["active","disabled","className","style","activeLabel","children"]),f=n||a?"span":m.a;return u.a.createElement("li",{ref:t,style:c,className:h()(r,"page-item",{active:n,disabled:a})},u.a.createElement(f,Object(l.a)({className:"page-link",disabled:a},o),i,n&&s&&u.a.createElement("span",{className:"sr-only"},s)))}));d.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},d.displayName="PageItem";var b=d;function y(e,t,n){var a,r;return void 0===n&&(n=e),r=a=function(e){function a(){return e.apply(this,arguments)||this}return Object(v.a)(a,e),a.prototype.render=function(){var e=this.props,a=e.children,r=Object(p.a)(e,["children"]);return delete r.active,u.a.createElement(d,r,u.a.createElement("span",{"aria-hidden":"true"},a||t),u.a.createElement("span",{className:"sr-only"},n))},a}(u.a.Component),a.displayName=e,r}var E=y("First","\xab"),C=y("Prev","\u2039","Previous"),j=y("Ellipsis","\u2026","More"),w=y("Next","\u203a"),k=y("Last","\xbb"),O=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.children,c=e.size,s=Object(p.a)(e,["bsPrefix","className","children","size"]),i=Object(g.b)(n,"pagination");return u.a.createElement("ul",Object(l.a)({ref:t},s,{className:h()(a,i,c&&i+"-"+c)}),r)}));O.First=E,O.Prev=C,O.Ellipsis=j,O.Item=b,O.Next=w,O.Last=k;var L=O,x=n(138),N=n(66),P=n(96),A=n(228),I=n(13),M=n(101),S=n(54),J=n(105),G=n(9),_=n(114),F=(n(219),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={loading:!0,craftEssences:[],activeRarityFilters:[],perPage:200,page:0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;try{M.a.craftEssenceList(this.props.region).then((function(t){e.setState({loading:!1,craftEssences:t})}))}catch(t){this.setState({error:t})}}},{key:"craftEssences",value:function(){var e=this,t=this.state.craftEssences.slice().reverse();if(this.state.activeRarityFilters.length>0&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),this.state.search){var n=this.state.search.split(" ").filter((function(e){return e})).map((function(e){return e.toLowerCase()}));t=t.filter((function(e){return n.every((function(t){return e.name.toLowerCase().includes(t)}))}))}return t}},{key:"pageItem",value:function(e,t,n,a,r){var c=this;return u.a.createElement("li",{key:n,className:"page-item"+(a?" active":"")+(r?" disabled":"")},r?u.a.createElement("span",{className:"page-link"},e):u.a.createElement("button",{className:"page-link",onClick:function(){return c.setPage(t)}},e))}},{key:"paginator",value:function(e){for(var t=this,n=[],r=Math.ceil(e/this.state.perPage)-1,c=[],s=[],i=0;i<4;i++){var o=this.state.page-i-1;o>=0&&c.unshift(o);var l=this.state.page+i+1;l<=r&&s.push(l)}for(;c.length+s.length+1>5;)s.length>c.length?s.pop():c.shift();var p=c.concat([this.state.page],s);return n.push(this.pageItem("<",this.state.page-1,"prev",!1,this.state.page<=0)),p[0]>0&&(n.push(this.pageItem("1",0,"first",!1,!1)),p[0]>1&&n.push(this.pageItem("\u2026",0,"firstEllipsis",!1,!0))),n.push.apply(n,Object(a.a)(p.map((function(e){return t.pageItem((e+1).toString(),e,e,e===t.state.page,!1)})))),p[p.length-1]<r&&(n.push(this.pageItem("\u2026",r,"lastEllipsis",!1,!0)),p[p.length-1]<r&&n.push(this.pageItem((r+1).toString(),r,"last",!1,!1))),n.push(this.pageItem(">",this.state.page+1,"next",!1,this.state.page>=r)),u.a.createElement("div",{style:{marginBottom:20}},u.a.createElement(L,null,n))}},{key:"setPage",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e,t=this;if(this.state.error)return u.a.createElement(S.a,{error:this.state.error});if(this.state.loading)return u.a.createElement(G.a,null);var n=this.craftEssences(),a=n.length>this.state.perPage,r=n.slice(this.state.perPage*this.state.page,this.state.perPage*(this.state.page+1));return u.a.createElement("div",{id:"craft-essences"},u.a.createElement(x.a,null,u.a.createElement(N.a,{md:12,lg:{offset:a?0:9,order:2,span:3}},u.a.createElement(P.a,{inline:!0,style:{justifyContent:"center",marginBottom:20}},u.a.createElement(P.a.Control,{style:{marginLeft:"auto"},placeholder:"Search",value:null!==(e=this.state.search)&&void 0!==e?e:"",onChange:function(e){t.setState({search:e.target.value,page:0})}}))),n.length>this.state.perPage?u.a.createElement(N.a,{md:12,lg:{order:1,span:9}},this.paginator(n.length)):void 0),u.a.createElement(A.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),u.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Rarity"))),u.a.createElement("tbody",null,r.map((function(e,n){var a="/".concat(t.props.region,"/craft-essence/").concat(e.collectionNo);return u.a.createElement("tr",{key:n},u.a.createElement("td",{align:"center"},u.a.createElement(I.b,{to:a},e.collectionNo)),u.a.createElement("td",{align:"center"},u.a.createElement(I.b,{to:a},u.a.createElement(J.a,{type:e.type,rarity:e.rarity,location:e.face,height:50}))),u.a.createElement("td",null,u.a.createElement(I.b,{to:a},e.name)),u.a.createElement("td",null,u.a.createElement(_.a,{rarity:e.rarity})))})))),n.length>this.state.perPage?this.paginator(n.length):void 0)}}]),n}(u.a.Component));t.default=F}}]);
//# sourceMappingURL=16.9aacfba8.chunk.js.map