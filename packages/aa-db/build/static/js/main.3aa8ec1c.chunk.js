(this["webpackJsonpaa-db"]=this["webpackJsonpaa-db"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),s=a(33),c=a.n(s),l=a(1),o=a(3),u=a(5),E=a(4),p=(a(95),a(132)),m=a(11),h=a(13),d=["./assets/figure_016.png","./assets/figure_074.png","./assets/figure_127.png","./assets/figure_145.png","./assets/figure_150.png","./assets/figure_174.png","./assets/figure_189.png","./assets/figure_198.png","./assets/figure_241.png","./assets/figure_253.png"],f=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n,r;if(void 0===this.props.error)r="Not Found";else if(500===(null===(e=this.props.error.response)||void 0===e?void 0:e.status))r="Server Error";else if(404===(null===(t=this.props.error.response)||void 0===t?void 0:t.status))r="Not Found";else{var s;r="Code: "+(null===(s=this.props.error.response)||void 0===s?void 0:s.status)}"object"===typeof(null===(a=this.props.error)||void 0===a||null===(n=a.response)||void 0===n?void 0:n.data)&&void 0!==this.props.error.response.data.detail&&(r=this.props.error.response.data.detail);var c=Math.floor(Math.random()*d.length),l=d[c];return i.a.createElement("div",{id:"error-status"},i.a.createElement("img",{alt:"Error",src:l,style:{display:"block",height:300,margin:"0 auto"}}),i.a.createElement("p",{className:"text-center",style:{margin:50}},i.a.createElement("strong",null,"ERROR: ",r)))}}]),a}(i.a.Component),A=a(42),_=a(27),v=a(18),T=a(140),N=a(88),O=a(50),g=a(133),C=a(138),D=a(139);!function(e){e.DEFAULT="Default",e.ENGLISH="English"}(n||(n={}));var I,y=[],S=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"language",value:function(){var e=window.localStorage.getItem("language"),t=Object.values(n).find((function(t){return t===e}));return null!==t&&void 0!==t?t:n.DEFAULT}},{key:"setLanguage",value:function(t){var a=Object.values(n).find((function(e){return e===t}));void 0!==a&&(window.localStorage.setItem("language",a),e.triggerCallbacks())}},{key:"onUpdate",value:function(e){y.push(e)}},{key:"triggerCallbacks",value:function(){y.forEach((function(e){e.call(null)}))}}]),e}(),R=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={language:S.language()},S.onUpdate((function(){return n.syncSettings()})),n}return Object(o.a)(a,[{key:"syncSettings",value:function(){this.setState({language:S.language()})}},{key:"updateLanguage",value:function(e){S.setLanguage(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D.a,null,i.a.createElement(D.a.Group,null,i.a.createElement(D.a.Label,null,"Language"),i.a.createElement(D.a.Control,{as:"select",value:this.state.language,onChange:function(t){return e.updateLanguage(t.target.value)}},Object.values(n).map((function(e){return i.a.createElement("option",{value:e},e)}))))))}}]),a}(i.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showSettings:!1},n}return Object(o.a)(a,[{key:"hideSettings",value:function(){this.setState({showSettings:!1})}},{key:"showSettings",value:function(){this.setState({showSettings:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(T.a,{bg:"dark",variant:"dark",expand:"lg"},i.a.createElement(p.a,null,i.a.createElement(m.b,{to:"/",className:"navbar-brand"},"AA-DB"),i.a.createElement(T.a.Toggle,null),i.a.createElement(T.a.Collapse,null,i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/JP/servants",className:"nav-link"},i.a.createElement(O.a,null,"JP Servants"))),i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/NA/servants",className:"nav-link"},i.a.createElement(O.a,null,"NA Servants"))),i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/JP/craft-essences",className:"nav-link"},i.a.createElement(O.a,null,"JP CE"))),i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/NA/craft-essences",className:"nav-link"},i.a.createElement(O.a,null,"NA CE"))),i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/JP/mystic-codes",className:"nav-link"},i.a.createElement(O.a,null,"JP Mystic Codes"))),i.a.createElement(N.a,null,i.a.createElement(m.b,{to:"/NA/mystic-codes",className:"nav-link"},i.a.createElement(O.a,null,"NA Mystic Codes"))),i.a.createElement(N.a,{className:"ml-auto"},i.a.createElement(N.a.Link,{href:"https://discord.gg/TKJmuCR",target:"_blank"},i.a.createElement(v.a,{icon:A.a})),i.a.createElement(N.a.Link,{href:"https://github.com/atlasacademy/aa-db",target:"_blank"},i.a.createElement(v.a,{icon:A.b})),i.a.createElement(g.a,{variant:"primary",onClick:function(){return e.showSettings()}},i.a.createElement(v.a,{icon:_.a})))))),i.a.createElement(C.a,{show:this.state.showSettings,onHide:function(){return e.hideSettings()}},i.a.createElement(C.a.Header,{closeButton:!0},i.a.createElement(C.a.Title,null,"Settings")),i.a.createElement(C.a.Body,null,i.a.createElement(R,null))))}}]),a}(i.a.Component),P=a(10),L=a.n(P),U=a(12),k=a(31),M=a(86),F=a.n(M);!function(e){e.JP="JP",e.NA="NA"}(I||(I={}));var G=I,j=function(){function e(){Object(l.a)(this,e),this.cache=new Map,this.pending=new Map,this.pendingCatches=new Map}return Object(o.a)(e,[{key:"get",value:function(e,t,a){var n=this,r=this.cache.get(e);if(void 0!==r)return new Promise((function(e){e(r)}));var i=this.pending.get(e);return void 0!==i?new Promise((function(t,a){var r;i.push(t),(null!==(r=n.pendingCatches.get(e))&&void 0!==r?r:[]).push(a)})):(this.pending.set(e,[]),this.pendingCatches.set(e,[]),new Promise((function(r,i){t.call(null).then((function(t){var i;(null!==(i=n.pending.get(e))&&void 0!==i?i:[]).forEach((function(e){e.call(null,t)})),n.cache.set(e,t),n.pending.delete(e),n.pendingCatches.delete(e),null!==a&&window.setTimeout((function(){n.cache.delete(e)}),a),r(t)})).catch((function(t){var a;(null!==(a=n.pendingCatches.get(e))&&void 0!==a?a:[]).forEach((function(e){e.call(null,t)})),n.pending.delete(e),n.pendingCatches.delete(e),i(t)}))})))}}]),e}(),V="https://api.atlasacademy.io",w=function(){var e=Object(U.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H={buff:new j,craftEssence:new j,craftEssenceList:new j,func:new j,mysticCode:new j,mysticCodeList:new j,noblePhantasm:new j,quest:new j,servant:new j,servantList:new j,skill:new j,traitMap:new j},B=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"buff",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.buff.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/buff/").concat(t).concat(r))}),2e4)}},{key:"craftEssence",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.craftEssence.get(r,(function(){var r="?lore=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/equip/").concat(t).concat(r))}),2e4)}},{key:"craftEssenceList",value:function(){var t=Object(U.a)(L.a.mark((function t(a){var r,i,s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==G.NA){t.next=4;break}return t.abrupt("return",e.getCacheableCraftEssenceList(G.NA));case 4:if(a!==G.JP||S.language()!==n.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableCraftEssenceList(G.JP));case 6:return t.next=8,e.getCacheableCraftEssenceList(G.JP);case 8:return r=t.sent,t.next=11,e.getCacheableCraftEssenceList(G.NA);case 11:return i=t.sent,s=new Map(i.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(k.a)(Object(k.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"func",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.func.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/function/").concat(t).concat(r))}),2e4)}},{key:"mysticCode",value:function(e,t){var a="".concat(e,"-").concat(t);return H.mysticCode.get(a,(function(){return w("".concat(V,"/nice/").concat(e,"/MC/").concat(t))}),2e4)}},{key:"mysticCodeList",value:function(){var t=Object(U.a)(L.a.mark((function t(a){var r,i,s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==G.NA){t.next=4;break}return t.abrupt("return",e.getCacheableMysticCodeList(G.NA));case 4:if(a!==G.JP||S.language()!==n.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableMysticCodeList(G.JP));case 6:return t.next=8,e.getCacheableMysticCodeList(G.JP);case 8:return r=t.sent,t.next=11,e.getCacheableMysticCodeList(G.NA);case 11:return i=t.sent,s=new Map(i.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(k.a)(Object(k.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"noblePhantasm",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.noblePhantasm.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/NP/").concat(t).concat(r))}),2e4)}},{key:"quest",value:function(e,t,a){var n="".concat(e,"-").concat(t,"-").concat(a);return H.quest.get(n,(function(){return w("".concat(V,"/nice/").concat(e,"/quest/").concat(t,"/").concat(a))}),2e4)}},{key:"servant",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.servant.get(r,(function(){var r="?lore=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/servant/").concat(t).concat(r))}),2e4)}},{key:"servantList",value:function(){var t=Object(U.a)(L.a.mark((function t(a){var r,i,s;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a!==G.NA){t.next=4;break}return t.abrupt("return",e.getCacheableServantList(G.NA));case 4:if(a!==G.JP||S.language()!==n.DEFAULT){t.next=6;break}return t.abrupt("return",e.getCacheableServantList(G.JP));case 6:return t.next=8,e.getCacheableServantList(G.JP);case 8:return r=t.sent,t.next=11,e.getCacheableServantList(G.NA);case 11:return i=t.sent,s=new Map(i.map((function(e){return[e.id,e.name]}))),t.abrupt("return",r.map((function(e){var t;return Object(k.a)(Object(k.a)({},e),{},{name:null!==(t=s.get(e.id))&&void 0!==t?t:e.name})})));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"skill",value:function(e,t){var a=S.language(),r="".concat(e,"-").concat(a,"-").concat(t);return H.skill.get(r,(function(){var r="?reverse=true"+(a===n.ENGLISH?"&lang=en":"");return w("".concat(V,"/nice/").concat(e,"/skill/").concat(t).concat(r))}),2e4)}},{key:"traitMap",value:function(e){return H.traitMap.get(e,(function(){return w("".concat(V,"/export/").concat(e,"/nice_trait.json"))}),null)}},{key:"getCacheableCraftEssenceList",value:function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.craftEssenceList.get(t,(function(){return w("".concat(V,"/export/").concat(t,"/basic_equip.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableMysticCodeList",value:function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.mysticCodeList.get(t,(function(){return w("".concat(V,"/export/").concat(t,"/nice_mystic_code.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheableServantList",value:function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.servantList.get(t,(function(){return w("".concat(V,"/export/").concat(t,"/basic_servant.json"))}),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return i.a.createElement("img",{alt:"",src:this.props.location,style:{height:null!==(e=this.props.height)&&void 0!==e?e:25,verticalAlign:"bottom"}})}}]),a}(i.a.Component),W=a(134),K=(a(120),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.header?i.a.createElement("div",{className:"data-header"},this.props.header):null,i.a.createElement(W.a,{bordered:!0,hover:!0,className:"data-table"},i.a.createElement("tbody",null,Object.keys(this.props.data).map((function(t,n){return i.a.createElement("tr",{key:n},i.a.createElement("th",null,t),i.a.createElement("td",null,a.dumpValue(e.props.data[t])))})))))}}],[{key:"dumpValue",value:function(e){if("object"===typeof e){var t=e;return void 0!==t.key&&void 0!==t.props&&void 0!==t.type?t:JSON.stringify(e)}return e}}]),a}(i.a.Component));a(121);var Y,Q,q,J,X,z=function(){return i.a.createElement("div",{id:"loading"},i.a.createElement("img",{alt:"",className:"fou f1",src:"./assets/load_icon_A01.png"}),i.a.createElement("img",{alt:"",className:"fou f2",src:"./assets/load_icon_A02.png"}),i.a.createElement("img",{alt:"",className:"fou f3",src:"./assets/load_icon_A03.png"}),i.a.createElement("img",{alt:"",className:"fou f4",src:"./assets/load_icon_A04.png"}))},$=a(87),Z=a.n($),ee=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showing:!1},n}return Object(o.a)(a,[{key:"hide",value:function(){this.setState({showing:!1})}},{key:"show",value:function(){this.setState({showing:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){e.show()}},"View Raw \xa0",i.a.createElement(v.a,{icon:_.b})),i.a.createElement(C.a,{size:"lg",show:this.state.showing,onHide:function(){return e.hide()}},i.a.createElement(C.a.Header,{closeButton:!0},i.a.createElement(C.a.Title,null,"Raw Data Viewer")),i.a.createElement(C.a.Body,null,i.a.createElement(Z.a,{src:this.props.data,collapsed:1}))))}}]),a}(i.a.Component);function te(e,t){if("string"===typeof e)return te(parseInt(e),t);var a=(null!==e&&void 0!==e?e:0)/Math.pow(10,t);return"".concat(a,"%")}function ae(e){return e?i.a.createElement("span",null,re(e.split("\n"),i.a.createElement("br",null))):""}function ne(e,t){var a=[],n=function(e){if(void 0!==e)if("object"!==typeof e)if(0!==a.length){var t=a[a.length-1];"string"===typeof t?a[a.length-1]=t+e.toString():a.push(e.toString())}else a.push(e.toString());else a.push(e)};return e.forEach((function(e,a){a>0&&n(t),n(e)})),a}function re(e,t){return i.a.createElement(i.a.Fragment,null,ne(e,t).map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))}!function(e){e.NONE="none",e.UP_COMMANDATK="upCommandatk",e.UP_STARWEIGHT="upStarweight",e.UP_CRITICALPOINT="upCriticalpoint",e.DOWN_CRITICALPOINT="downCriticalpoint",e.REGAIN_NP="regainNp",e.REGAIN_STAR="regainStar",e.REGAIN_HP="regainHp",e.REDUCE_HP="reduceHp",e.UP_ATK="upAtk",e.DOWN_ATK="downAtk",e.UP_DAMAGE="upDamage",e.DOWN_DAMAGE="downDamage",e.ADD_DAMAGE="addDamage",e.SUB_DAMAGE="subDamage",e.UP_NPDAMAGE="upNpdamage",e.DOWN_NPDAMAGE="downNpdamage",e.UP_DROPNP="upDropnp",e.UP_CRITICALDAMAGE="upCriticaldamage",e.DOWN_CRITICALDAMAGE="downCriticaldamage",e.UP_SELFDAMAGE="upSelfdamage",e.DOWN_SELFDAMAGE="downSelfdamage",e.ADD_SELFDAMAGE="addSelfdamage",e.SUB_SELFDAMAGE="subSelfdamage",e.AVOIDANCE="avoidance",e.BREAK_AVOIDANCE="breakAvoidance",e.INVINCIBLE="invincible",e.UP_GRANTSTATE="upGrantstate",e.DOWN_GRANTSTATE="downGrantstate",e.UP_TOLERANCE="upTolerance",e.DOWN_TOLERANCE="downTolerance",e.AVOID_STATE="avoidState",e.DONOT_ACT="donotAct",e.DONOT_SKILL="donotSkill",e.DONOT_NOBLE="donotNoble",e.DONOT_RECOVERY="donotRecovery",e.DISABLE_GENDER="disableGender",e.GUTS="guts",e.UP_HATE="upHate",e.ADD_INDIVIDUALITY="addIndividuality",e.SUB_INDIVIDUALITY="subIndividuality",e.UP_DEFENCE="upDefence",e.DOWN_DEFENCE="downDefence",e.UP_COMMANDSTAR="upCommandstar",e.UP_COMMANDNP="upCommandnp",e.UP_COMMANDALL="upCommandall",e.DOWN_COMMANDALL="downCommandall",e.DOWN_STARWEIGHT="downStarweight",e.REDUCE_NP="reduceNp",e.DOWN_DROPNP="downDropnp",e.UP_GAIN_HP="upGainHp",e.DOWN_GAIN_HP="downGainHp",e.DOWN_COMMANDATK="downCommandatk",e.DOWN_COMMANSTAR="downCommanstar",e.DOWN_COMMANDNP="downCommandnp",e.UP_CRITICALRATE="upCriticalrate",e.DOWN_CRITICALRATE="downCriticalrate",e.PIERCE_INVINCIBLE="pierceInvincible",e.AVOID_INSTANTDEATH="avoidInstantdeath",e.UP_RESIST_INSTANTDEATH="upResistInstantdeath",e.UP_NONRESIST_INSTANTDEATH="upNonresistInstantdeath",e.DELAY_FUNCTION="delayFunction",e.REGAIN_NP_USED_NOBLE="regainNpUsedNoble",e.DEAD_FUNCTION="deadFunction",e.UP_MAXHP="upMaxhp",e.DOWN_MAXHP="downMaxhp",e.ADD_MAXHP="addMaxhp",e.SUB_MAXHP="subMaxhp",e.BATTLESTART_FUNCTION="battlestartFunction",e.WAVESTART_FUNCTION="wavestartFunction",e.SELFTURNEND_FUNCTION="selfturnendFunction",e.UP_GIVEGAIN_HP="upGivegainHp",e.DOWN_GIVEGAIN_HP="downGivegainHp",e.COMMANDATTACK_FUNCTION="commandattackFunction",e.DEADATTACK_FUNCTION="deadattackFunction",e.UP_SPECIALDEFENCE="upSpecialdefence",e.DOWN_SPECIALDEFENCE="downSpecialdefence",e.UP_DAMAGEDROPNP="upDamagedropnp",e.DOWN_DAMAGEDROPNP="downDamagedropnp",e.ENTRY_FUNCTION="entryFunction",e.UP_CHAGETD="upChagetd",e.REFLECTION_FUNCTION="reflectionFunction",e.UP_GRANT_SUBSTATE="upGrantSubstate",e.DOWN_GRANT_SUBSTATE="downGrantSubstate",e.UP_TOLERANCE_SUBSTATE="upToleranceSubstate",e.DOWN_TOLERANCE_SUBSTATE="downToleranceSubstate",e.UP_GRANT_INSTANTDEATH="upGrantInstantdeath",e.DOWN_GRANT_INSTANTDEATH="downGrantInstantdeath",e.GUTS_RATIO="gutsRatio",e.DAMAGE_FUNCTION="damageFunction",e.UP_DEFENCECOMMANDALL="upDefencecommandall",e.DOWN_DEFENCECOMMANDALL="downDefencecommandall",e.OVERWRITE_BATTLECLASS="overwriteBattleclass",e.OVERWRITE_CLASSRELATIO_ATK="overwriteClassrelatioAtk",e.OVERWRITE_CLASSRELATIO_DEF="overwriteClassrelatioDef",e.UP_DAMAGE_INDIVIDUALITY="upDamageIndividuality",e.DOWN_DAMAGE_INDIVIDUALITY="downDamageIndividuality",e.UP_DAMAGE_INDIVIDUALITY_ACTIVEONLY="upDamageIndividualityActiveonly",e.DOWN_DAMAGE_INDIVIDUALITY_ACTIVEONLY="downDamageIndividualityActiveonly",e.UP_NPTURNVAL="upNpturnval",e.DOWN_NPTURNVAL="downNpturnval",e.MULTIATTACK="multiattack",e.UP_GIVE_NP="upGiveNp",e.DOWN_GIVE_NP="downGiveNp",e.UP_RESISTANCE_DELAY_NPTURN="upResistanceDelayNpturn",e.DOWN_RESISTANCE_DELAY_NPTURN="downResistanceDelayNpturn",e.PIERCE_DEFENCE="pierceDefence",e.UP_GUTS_HP="upGutsHp",e.DOWN_GUTS_HP="downGutsHp",e.UP_FUNCGAIN_NP="upFuncgainNp",e.DOWN_FUNCGAIN_NP="downFuncgainNp",e.UP_FUNC_HP_REDUCE="upFuncHpReduce",e.DOWN_FUNC_HP_REDUCE="downFuncHpReduce",e.UP_DEFENCECOMMAN_DAMAGE="upDefencecommanDamage",e.DOWN_DEFENCECOMMAN_DAMAGE="downDefencecommanDamage",e.NPATTACK_PREV_BUFF="npattackPrevBuff",e.FIX_COMMANDCARD="fixCommandcard",e.DONOT_GAINNP="donotGainnp",e.FIELD_INDIVIDUALITY="fieldIndividuality",e.DONOT_ACT_COMMANDTYPE="donotActCommandtype",e.UP_DAMAGE_EVENT_POINT="upDamageEventPoint",e.UP_DAMAGE_SPECIAL="upDamageSpecial",e.ATTACK_FUNCTION="attackFunction",e.COMMANDCODEATTACK_FUNCTION="commandcodeattackFunction",e.DONOT_NOBLE_COND_MISMATCH="donotNobleCondMismatch",e.DONOT_SELECT_COMMANDCARD="donotSelectCommandcard",e.DONOT_REPLACE="donotReplace",e.SHORTEN_USER_EQUIP_SKILL="shortenUserEquipSkill",e.TD_TYPE_CHANGE="tdTypeChange",e.OVERWRITE_CLASS_RELATION="overwriteClassRelation",e.TD_TYPE_CHANGE_ARTS="tdTypeChangeArts",e.TD_TYPE_CHANGE_BUSTER="tdTypeChangeBuster",e.TD_TYPE_CHANGE_QUICK="tdTypeChangeQuick",e.COMMANDATTACK_BEFORE_FUNCTION="commandattackBeforeFunction",e.GUTS_FUNCTION="gutsFunction",e.UP_CRITICAL_RATE_DAMAGE_TAKEN="upCriticalRateDamageTaken",e.DOWN_CRITICAL_RATE_DAMAGE_TAKEN="downCriticalRateDamageTaken",e.UP_CRITICAL_STAR_DAMAGE_TAKEN="upCriticalStarDamageTaken",e.DOWN_CRITICAL_STAR_DAMAGE_TAKEN="downCriticalStarDamageTaken"}(Y||(Y={})),function(e){e.NONE="none",e.ADD_STATE="addState",e.SUB_STATE="subState",e.DAMAGE="damage",e.DAMAGE_NP="damageNp",e.GAIN_STAR="gainStar",e.GAIN_HP="gainHp",e.GAIN_NP="gainNp",e.LOSS_NP="lossNp",e.SHORTEN_SKILL="shortenSkill",e.EXTEND_SKILL="extendSkill",e.RELEASE_STATE="releaseState",e.LOSS_HP="lossHp",e.INSTANT_DEATH="instantDeath",e.DAMAGE_NP_PIERCE="damageNpPierce",e.DAMAGE_NP_INDIVIDUAL="damageNpIndividual",e.ADD_STATE_SHORT="addStateShort",e.GAIN_HP_PER="gainHpPer",e.DAMAGE_NP_STATE_INDIVIDUAL="damageNpStateIndividual",e.HASTEN_NPTURN="hastenNpturn",e.DELAY_NPTURN="delayNpturn",e.DAMAGE_NP_HPRATIO_HIGH="damageNpHpratioHigh",e.DAMAGE_NP_HPRATIO_LOW="damageNpHpratioLow",e.CARD_RESET="cardReset",e.REPLACE_MEMBER="replaceMember",e.LOSS_HP_SAFE="lossHpSafe",e.DAMAGE_NP_COUNTER="damageNpCounter",e.DAMAGE_NP_STATE_INDIVIDUAL_FIX="damageNpStateIndividualFix",e.DAMAGE_NP_SAFE="damageNpSafe",e.CALL_SERVANT="callServant",e.PT_SHUFFLE="ptShuffle",e.LOSS_STAR="lossStar",e.CHANGE_SERVANT="changeServant",e.CHANGE_BG="changeBg",e.DAMAGE_VALUE="damageValue",e.WITHDRAW="withdraw",e.FIX_COMMANDCARD="fixCommandcard",e.SHORTEN_BUFFTURN="shortenBuffturn",e.EXTEND_BUFFTURN="extendBuffturn",e.SHORTEN_BUFFCOUNT="shortenBuffcount",e.EXTEND_BUFFCOUNT="extendBuffcount",e.CHANGE_BGM="changeBgm",e.DISPLAY_BUFFSTRING="displayBuffstring",e.RESURRECTION="resurrection",e.GAIN_NP_BUFF_INDIVIDUAL_SUM="gainNpBuffIndividualSum",e.SET_SYSTEM_ALIVE_FLAG="setSystemAliveFlag",e.FORCE_INSTANT_DEATH="forceInstantDeath",e.DAMAGE_NP_RARE="damageNpRare",e.GAIN_NP_FROM_TARGETS="gainNpFromTargets",e.GAIN_HP_FROM_TARGETS="gainHpFromTargets",e.LOSS_HP_PER="lossHpPer",e.LOSS_HP_PER_SAFE="lossHpPerSafe",e.SHORTEN_USER_EQUIP_SKILL="shortenUserEquipSkill",e.QUICK_CHANGE_BG="quickChangeBg",e.SHIFT_SERVANT="shiftServant",e.DAMAGE_NP_AND_CHECK_INDIVIDUALITY="damageNpAndCheckIndividuality",e.ABSORB_NPTURN="absorbNpturn",e.OVERWRITE_DEAD_TYPE="overwriteDeadType",e.FORCE_ALL_BUFF_NOACT="forceAllBuffNoact",e.BREAK_GAUGE_UP="breakGaugeUp",e.BREAK_GAUGE_DOWN="breakGaugeDown",e.EXP_UP="expUp",e.QP_UP="qpUp",e.DROP_UP="dropUp",e.FRIEND_POINT_UP="friendPointUp",e.EVENT_DROP_UP="eventDropUp",e.EVENT_DROP_RATE_UP="eventDropRateUp",e.EVENT_POINT_UP="eventPointUp",e.EVENT_POINT_RATE_UP="eventPointRateUp",e.TRANSFORM_SERVANT="transformServant",e.QP_DROP_UP="qpDropUp",e.SERVANT_FRIENDSHIP_UP="servantFriendshipUp",e.USER_EQUIP_EXP_UP="userEquipExpUp",e.CLASS_DROP_UP="classDropUp",e.ENEMY_ENCOUNT_COPY_RATE_UP="enemyEncountCopyRateUp",e.ENEMY_ENCOUNT_RATE_UP="enemyEncountRateUp",e.ENEMY_PROB_DOWN="enemyProbDown",e.GET_REWARD_GIFT="getRewardGift",e.SEND_SUPPORT_FRIEND_POINT="sendSupportFriendPoint",e.MOVE_POSITION="movePosition",e.REVIVAL="revival",e.DAMAGE_NP_INDIVIDUAL_SUM="damageNpIndividualSum"}(Q||(Q={})),function(e){e.SELF="self",e.PT_ONE="ptOne",e.PT_ANOTHER="ptAnother",e.PT_ALL="ptAll",e.ENEMY="enemy",e.ENEMY_ANOTHER="enemyAnother",e.ENEMY_ALL="enemyAll",e.PT_FULL="ptFull",e.ENEMY_FULL="enemyFull",e.PT_OTHER="ptOther",e.PT_ONE_OTHER="ptOneOther",e.PT_RANDOM="ptRandom",e.ENEMY_OTHER="enemyOther",e.ENEMY_RANDOM="enemyRandom",e.PT_OTHER_FULL="ptOtherFull",e.ENEMY_OTHER_FULL="enemyOtherFull",e.PTSELECT_ONE_SUB="ptselectOneSub",e.PTSELECT_SUB="ptselectSub",e.PT_ONE_ANOTHER_RANDOM="ptOneAnotherRandom",e.PT_SELF_ANOTHER_RANDOM="ptSelfAnotherRandom",e.ENEMY_ONE_ANOTHER_RANDOM="enemyOneAnotherRandom",e.PT_SELF_ANOTHER_FIRST="ptSelfAnotherFirst",e.PT_SELF_BEFORE="ptSelfBefore",e.PT_SELF_AFTER="ptSelfAfter",e.PT_SELF_ANOTHER_LAST="ptSelfAnotherLast",e.COMMAND_TYPE_SELF_TREASURE_DEVICE="commandTypeSelfTreasureDevice"}(q||(q={})),function(e){e.PLAYER="player",e.ENEMY="enemy",e.PLAYER_AND_ENEMY="playerAndEnemy"}(J||(J={})),function(e){e.RATE="Rate",e.TURN="Turn",e.COUNT="Count",e.VALUE="Value",e.VALUE2="Value2",e.USE_RATE="UseRate",e.TARGET="Target",e.CORRECTION="Correction",e.PARAM_ADD="ParamAdd",e.PARAM_MAX="ParamMax",e.HIDE_MISS="HideMiss",e.ON_FIELD="OnField",e.HIDE_NO_EFFECT="HideNoEffect",e.UNAFFECTED="Unaffected",e.SHOW_STATE="ShowState",e.AURA_EFFECT_ID="AuraEffectId",e.ACT_SET="ActSet",e.ACT_SET_WEIGHT="ActSetWeight",e.SHOW_QUEST_NO_EFFECT="ShowQuestNoEffect",e.CHECK_DEAD="CheckDead",e.RATIO_HP_HIGH="RatioHPHigh",e.RATIO_HP_LOW="RatioHPLow",e.SET_PASSIVE_FRAME="SetPassiveFrame",e.PROC_PASSIVE="ProcPassive",e.PROC_ACTIVE="ProcActive",e.HIDE_PARAM="HideParam",e.SKILL_ID="SkillID",e.SKILL_LV="SkillLV",e.SHOW_CARD_ONLY="ShowCardOnly",e.EFFECT_SUMMON="EffectSummon",e.RATIO_HP_RANGE_HIGH="RatioHPRangeHigh",e.RATIO_HP_RANGE_LOW="RatioHPRangeLow",e.TARGET_LIST="TargetList",e.OPPONENT_ONLY="OpponentOnly",e.STATUS_EFFECT_ID="StatusEffectId",e.END_BATTLE="EndBattle",e.LOSE_BATTLE="LoseBattle",e.ADD_INDIVIDUALTY="AddIndividualty",e.ADD_LINKAGE_TARGET_INDIVIDUALTY="AddLinkageTargetIndividualty",e.SAME_BUFF_LIMIT_TARGET_INDIVIDUALITY="SameBuffLimitTargetIndividuality",e.SAME_BUFF_LIMIT_NUM="SameBuffLimitNum",e.CHECK_DUPLICATE="CheckDuplicate",e.ON_FIELD_COUNT="OnFieldCount",e.TARGET_RARITY_LIST="TargetRarityList",e.DEPEND_FUNC_ID="DependFuncId",e.INVALID_HIDE="InvalidHide",e.OUT_ENEMY_NPC_ID="OutEnemyNpcId",e.IN_ENEMY_NPC_ID="InEnemyNpcId",e.OUT_ENEMY_POSITION="OutEnemyPosition",e.IGNORE_INDIVIDUALITY="IgnoreIndividuality",e.STAR_HIGHER="StarHigher",e.CHANGE_TD_COMMAND_TYPE="ChangeTDCommandType",e.SHIFT_NPC_ID="ShiftNpcId",e.DISPLAY_LAST_FUNC_INVALID_TYPE="DisplayLastFuncInvalidType",e.AND_CHECK_INDIVIDUALITY_LIST="AndCheckIndividualityList",e.WIN_BATTLE_NOT_RELATED_SURVIVAL_STATUS="WinBattleNotRelatedSurvivalStatus",e.FORCE_SELF_INSTANT_DEATH="ForceSelfInstantDeath",e.CHANGE_MAX_BREAK_GAUGE="ChangeMaxBreakGauge",e.PARAM_ADD_MAX_VALUE="ParamAddMaxValue",e.PARAM_ADD_MAX_COUNT="ParamAddMaxCount",e.LOSS_HP_NO_CHANGE_DAMAGE="LossHpNoChangeDamage",e.INCLUDE_PASSIVE_INDIVIDUALITY="IncludePassiveIndividuality"}(X||(X={}));var ie=new Map([[1,"Gender:Male"],[2,"Gender:Female"],[3,"Gender:Unknown"],[100,"Class:Saber"],[101,"Class:Lancer"],[102,"Class:Archer"],[103,"Class:Rider"],[104,"Class:Caster"],[105,"Class:Assassin"],[106,"Class:Berserker"],[107,"Class:Shielder"],[108,"Class:Ruler"],[109,"Class:Alter Ego"],[110,"Class:Avenger"],[111,"Demon Pillar"],[112,"Class:Grand Caster"],[113,"Beast I"],[114,"Beast II"],[115,"Class:Moon Cancer"],[116,"Beast IIIR"],[117,"Class:Foreigner"],[118,"Beast IIIL"],[119,"Beast Unknown"],[200,"Attribute:Sky"],[201,"Attribute:Eart"],[202,"Attribute:Human"],[203,"Attribute:Star"],[204,"Attribute:Beast"],[300,"Alignment:Lawful"],[301,"Alignment:Chaotic"],[302,"Alignment:Neutral"],[303,"Alignment:Good"],[304,"Alignment:Evil"],[305,"Alignment:Balanced"],[306,"Alignment:Madness"],[308,"Alignment:Summer"],[1e3,"Servant"],[1002,"Undead"],[1122,"Shadow Servant"],[2004,"Roman"],[2005,"Beasts"],[2019,"Demonic"],[2039,"Near Water"],[2466,"Argonaut"],[2654,"Pseudo-Servant"],[3004,"Buff"],[3005,"Debuff"],[3006,"Buff:Offensive"],[3007,"Buff:Defensive"],[3011,"Poison"],[3012,"Charm"],[3015,"Burn"],[3021,"Evade"],[3026,"Curse"],[3047,"Pigify"],[4001,"Card:Arts"],[4002,"Card:Buster"],[4003,"Card:Quick"],[4004,"Card:Extra"],[4008,"Player Card"],[4100,"Critical Hit"]]),se=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"number"===typeof e.trait?e.trait:e.trait.id,trait:"number"===typeof e.trait?void 0:e.trait},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.trait){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,B.traitMap(this.props.region);case 4:void 0!==(t=e.sent)[this.state.id]&&this.setState({trait:{id:this.state.id,name:t[this.state.id]}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDescription",value:function(){return ie.get(this.state.id)||(this.state.trait&&"unknown"!==this.state.trait.name?this.state.trait.name:"unknown(".concat(this.state.id,")"))}},{key:"render",value:function(){return i.a.createElement("span",null,"[",this.getDescription(),"]")}}]),a}(i.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a=null;switch(this.props.buff.type){case Y.UP_ATK:case Y.DOWN_ATK:case Y.UP_COMMANDALL:case Y.DOWN_COMMANDALL:case Y.UP_CRITICALDAMAGE:case Y.DOWN_CRITICALDAMAGE:case Y.UP_CRITICALPOINT:case Y.DOWN_CRITICALPOINT:case Y.UP_CRITICALRATE:case Y.DOWN_CRITICALRATE:case Y.UP_CRITICAL_RATE_DAMAGE_TAKEN:case Y.DOWN_CRITICAL_RATE_DAMAGE_TAKEN:case Y.UP_DAMAGE:case Y.DOWN_DAMAGE:case Y.UP_DAMAGEDROPNP:case Y.DOWN_DAMAGEDROPNP:case Y.UP_DEFENCE:case Y.DOWN_DEFENCE:case Y.UP_DEFENCECOMMANDALL:case Y.DOWN_DEFENCECOMMANDALL:case Y.UP_DROPNP:case Y.DOWN_DROPNP:case Y.UP_FUNC_HP_REDUCE:case Y.DOWN_FUNC_HP_REDUCE:case Y.UP_HATE:case Y.UP_NONRESIST_INSTANTDEATH:case Y.UP_NPDAMAGE:case Y.DOWN_NPDAMAGE:case Y.UP_STARWEIGHT:case Y.DOWN_STARWEIGHT:case Y.UP_TOLERANCE:case Y.DOWN_TOLERANCE:case Y.UP_TOLERANCE_SUBSTATE:case Y.DOWN_TOLERANCE_SUBSTATE:a=te(this.props.dataVal.Value,1);break;case Y.REGAIN_NP:a=te(this.props.dataVal.Value,2);break;case Y.ATTACK_FUNCTION:case Y.COMMANDATTACK_FUNCTION:case Y.COMMANDATTACK_BEFORE_FUNCTION:case Y.DAMAGE_FUNCTION:case Y.DEAD_FUNCTION:case Y.DELAY_FUNCTION:case Y.SELFTURNEND_FUNCTION:this.props.dataVal.Value2&&(a="Lv. "+this.props.dataVal.Value2);break;case Y.NPATTACK_PREV_BUFF:this.props.dataVal.SkillLV&&(a="Lv. "+this.props.dataVal.SkillLV);break;case Y.FIELD_INDIVIDUALITY:"number"===typeof this.props.dataVal.Value&&(a=i.a.createElement(se,{region:this.props.region,trait:this.props.dataVal.Value}));break;default:a=null!==(e=null===(t=this.props.dataVal.Value)||void 0===t?void 0:t.toString())&&void 0!==e?e:""}return a}}]),a}(i.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.region,t=this.props.func,a=this.props.dataVal,n=[];if((t.funcType===Q.ADD_STATE||t.funcType===Q.ADD_STATE_SHORT)&&t.buffs[0]&&(a.Value||t.buffs[0].type===Y.DAMAGE_FUNCTION&&a.Value2||t.buffs[0].type===Y.DEAD_FUNCTION&&a.Value2||t.buffs[0].type===Y.DELAY_FUNCTION&&a.Value2||t.buffs[0].type===Y.NPATTACK_PREV_BUFF&&a.SkillID||t.buffs[0].type===Y.SELFTURNEND_FUNCTION&&a.Value2))return i.a.createElement(ce,{region:e,buff:t.buffs[0],dataVal:a});if(this.props.hideRate||void 0===a.Rate||n.push(te(a.Rate,1)),void 0!==a.Value)switch(t.funcType){case Q.DAMAGE_NP:case Q.DAMAGE_NP_INDIVIDUAL:case Q.DAMAGE_NP_INDIVIDUAL_SUM:case Q.DAMAGE_NP_PIERCE:case Q.DAMAGE_NP_RARE:case Q.DAMAGE_NP_STATE_INDIVIDUAL_FIX:n.push(te(a.Value,1));break;case Q.GAIN_NP:case Q.LOSS_NP:n.push(te(a.Value,2));break;default:n.push(a.Value.toString())}if(void 0!==a.Value2)switch(t.funcType){case Q.GAIN_NP_FROM_TARGETS:n.push(te(a.Value2,2));break;case Q.DAMAGE_NP_INDIVIDUAL_SUM:n.push("additional "+te(a.Value2,1))}if(void 0!==a.Correction)switch(t.funcType){case Q.DAMAGE_NP_INDIVIDUAL:case Q.DAMAGE_NP_RARE:case Q.DAMAGE_NP_STATE_INDIVIDUAL_FIX:n.push(te(a.Correction,1));break;case Q.DAMAGE_NP_INDIVIDUAL_SUM:n.push("("+te(a.Correction,1)+" x count)");break;default:n.push(a.Correction.toString())}if(void 0!==a.DependFuncId&&void 0!==a.DependFuncVals)switch(t.funcType){case Q.GAIN_HP_FROM_TARGETS:var r;switch(a.DependFuncId){case 711:r=a.DependFuncVals.Value}void 0!==r&&n.push(r);break;case Q.GAIN_NP_FROM_TARGETS:var s;switch(a.DependFuncId){case 474:s=a.DependFuncVals.Value2;break;case 3962:s=a.DependFuncVals.Value}void 0!==s&&n.push(te(s,2))}return n.length?i.a.createElement("span",null,re(n," + ")):i.a.createElement("span",null,"-")}}]),a}(i.a.Component),oe=function(e){if(!e.length)return!1;for(var t=e[0],a=1;a<e.length;a++){if(JSON.stringify(t)!==JSON.stringify(e[a]))return!0;t=e[a]}return!1},ue=function(e){return new Set(e).size>1};function Ee(e,t){return function e(t){if(!t.length)return[];var a=function(e){return Object.values(X).filter((function(t){var a=e.map((function(e){return e[t]}));return ue(a)}))}(t),n=t.filter((function(e){return void 0!==e.DependFuncVals})).length>0?t.map((function(e){var t;return null!==(t=e.DependFuncVals)&&void 0!==t?t:{}})):void 0,r=n?e(n):[],i=Ae(t);return t.map((function(e,t){var n={};for(var s in a)n[a[s]]=e[a[s]];return i.DependFuncId&&r[t]&&(n.DependFuncId=i.DependFuncId,n.DependFuncVals=r[t]),n}))}(he(t)).map((function(a){return i.a.createElement(le,{region:e,func:t,dataVal:a})}))}function pe(e){return oe(de(e))}function me(e){return oe(fe(e))}function he(e){var t=pe(e),a=me(e);return t&&a?function(e){for(var t=[],a=1;a<=5;a++){var n=_e(e,a,a);void 0!==n&&t.push(n)}return t}(e):a?fe(e):de(e)}function de(e){var t;return null!==(t=e.svals)&&void 0!==t?t:[]}function fe(e){for(var t=[],a=1;a<=5;a++){var n=_e(e,1,a);void 0!==n&&t.push(n)}return t}function Ae(e){if(!e.length)return{};var t=function(e){return Object.values(X).filter((function(t){var a=e.map((function(e){return e[t]}));return!ue(a)}))}(e),a={},n=e.filter((function(e){return void 0!==e.DependFuncVals})).length>0,r=n?e.map((function(e){var t;return null!==(t=e.DependFuncVals)&&void 0!==t?t:{}})):void 0,i=r?Ae(r):void 0;for(var s in t)a[t[s]]=e[0][t[s]];return n&&(a.DependFuncVals=i),a}function _e(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(void 0!==e.svals)return(2===a&&e.svals2?e.svals2:3===a&&e.svals3?e.svals3:4===a&&e.svals4?e.svals4:5===a&&e.svals5?e.svals5:e.svals)[t-1]}var ve,Te=function e(t){Object(l.a)(this,e),this.showing=!0,this.parts=[],this.preposition=void 0,this.preposition=t},Ne=function e(){Object(l.a)(this,e),this.team=new Te,this.chance=new Te,this.action=new Te,this.amount=new Te("of"),this.affects=new Te,this.target=new Te("to"),this.duration=new Te,this.scaling=new Te},Oe=[{up:Y.UP_ATK,down:Y.DOWN_ATK,description:"ATK"},{up:Y.UP_CHAGETD,down:void 0,description:"Overcharge"},{up:Y.UP_COMMANDATK,down:Y.DOWN_COMMANDATK,description:"ATK"},{up:Y.UP_CRITICALDAMAGE,down:Y.DOWN_CRITICALDAMAGE,description:"Critical Damage"},{up:Y.UP_CRITICALPOINT,down:Y.DOWN_CRITICALPOINT,description:"Star Drop Rate"},{up:Y.UP_CRITICALRATE,down:Y.DOWN_CRITICALRATE,description:"Critical Rate"},{up:Y.UP_CRITICAL_RATE_DAMAGE_TAKEN,down:Y.DOWN_CRITICAL_RATE_DAMAGE_TAKEN,description:"Critical Rate Taken"},{up:Y.UP_DAMAGE,down:Y.DOWN_DAMAGE,description:"SP.DMG"},{up:Y.UP_DAMAGEDROPNP,down:Y.DOWN_DAMAGEDROPNP,description:"NP Gain When Damaged"},{up:Y.UP_DEFENCE,down:Y.DOWN_DEFENCE,description:"DEF"},{up:Y.UP_DEFENCECOMMANDALL,down:Y.DOWN_DEFENCECOMMANDALL,description:"Resistance"},{up:Y.UP_DROPNP,down:Y.DOWN_DROPNP,description:"NP Gain"},{up:Y.UP_FUNC_HP_REDUCE,down:Y.DOWN_FUNC_HP_REDUCE,description:"DoT Effectiveness"},{up:Y.UP_GRANT_INSTANTDEATH,down:Y.DOWN_GRANT_INSTANTDEATH,description:"Death Chance"},{up:Y.UP_GRANTSTATE,down:Y.DOWN_GRANTSTATE,description:"Buff Chance"},{up:void 0,down:Y.UP_NONRESIST_INSTANTDEATH,description:"Death Resist"},{up:Y.UP_NPDAMAGE,down:Y.DOWN_NPDAMAGE,description:"NP Damage"},{up:Y.UP_STARWEIGHT,down:Y.DOWN_STARWEIGHT,description:"Star Weight"},{up:Y.UP_TOLERANCE,down:Y.DOWN_TOLERANCE,description:"Debuff Resist"},{up:Y.UP_TOLERANCE_SUBSTATE,down:Y.DOWN_TOLERANCE_SUBSTATE,description:"Buff Removal Resist"}],ge=new Map([[3012,"Charm"],[3015,"Burn"],[3026,"Curse"],[3045,"Stun"]]),Ce=new Map([[Y.AVOID_INSTANTDEATH,"Immune to Death"],[Y.AVOID_STATE,"Immunity"],[Y.ADD_DAMAGE,"Damage Plus"],[Y.ADD_INDIVIDUALITY,"Add Trait"],[Y.AVOIDANCE,"Evade"],[Y.BREAK_AVOIDANCE,"Sure Hit"],[Y.DELAY_FUNCTION,"Trigger Skill after Duration"],[Y.DONOT_NOBLE,"NP Seal"],[Y.DONOT_NOBLE_COND_MISMATCH,"NP Block if Condition Failed"],[Y.DONOT_RECOVERY,"Recovery Disabled"],[Y.DONOT_SELECT_COMMANDCARD,"Do Not Shuffle In Cards"],[Y.DONOT_SKILL,"Skill Seal"],[Y.FIELD_INDIVIDUALITY,"Change Field Type"],[Y.GUTS,"Guts"],[Y.INVINCIBLE,"Invincible"],[Y.MULTIATTACK,"Multiple Hits"],[Y.PIERCE_INVINCIBLE,"Ignore Invincible"],[Y.REGAIN_HP,"HP Per Turn"],[Y.REGAIN_NP,"NP Per Turn"],[Y.REGAIN_STAR,"Stars Per Turn"],[Y.SELFTURNEND_FUNCTION,"Trigger Skill after Duration"],[Y.SUB_SELFDAMAGE,"Damage Cut"],[Y.TD_TYPE_CHANGE,"Change Noble Phantasm"],[Y.UP_HATE,"Taunt"]]),De=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getTraitFilterAppend",value:function(){if(this.getTraitFilters())return i.a.createElement(i.a.Fragment,null," for ",this.getTraitFilters())}},{key:"getTraitFilterAppendWithoutCards",value:function(){var e=this,t=this.props.buff.ckSelfIndv.filter((function(e){return-1===[4001,4002,4003,4004].indexOf(e.id)}));if(t.length)return i.a.createElement(i.a.Fragment,null," ","for"," ",ne(t.map((function(t){return i.a.createElement(se,{region:e.props.region,trait:t})}))," & "))}},{key:"getCommandCardTypes",value:function(){var e=[];return this.hasApplicableTrait(4001)&&e.push("Arts"),this.hasApplicableTrait(4002)&&e.push("Buster"),this.hasApplicableTrait(4003)&&e.push("Quick"),this.hasApplicableTrait(4004)&&e.push("Extra"),e.length||e.push("Command Card"),e.join(" & ")}},{key:"getEffectiveTargetsDescriptions",value:function(){var e=this,t=this.props.buff;if(t.ckOpIndv.length)return i.a.createElement(i.a.Fragment,null," vs. ",ne(t.ckOpIndv.map((function(t){return i.a.createElement(se,{region:e.props.region,trait:t})}))," & ").map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))}},{key:"getTraitDescription",value:function(){var e=this.props.buff.vals.map((function(e){return e.id}));for(var t in e){var a=e[t],n=ge.get(a);if(void 0!==n)return n}return""}},{key:"getTraitFilters",value:function(){var e=this;if(this.props.buff.ckSelfIndv.length)return i.a.createElement(i.a.Fragment,null,ne(this.props.buff.ckSelfIndv.map((function(t){return i.a.createElement(se,{region:e.props.region,trait:t})}))," & "))}},{key:"getTypeDescription",value:function(){var e,t=this.props.buff.type;return null!==(e=Ce.get(t))&&void 0!==e?e:""}},{key:"getUpDownDescription",value:function(){var e=this.props.buff.type;for(var t in Oe){if(Oe[t].up===e)return"".concat(Oe[t].description," Up");if(Oe[t].down===e)return"".concat(Oe[t].description," Down")}return""}},{key:"hasApplicableTrait",value:function(e){return this.props.buff.ckSelfIndv.filter((function(t){return t.id===e})).length>0}},{key:"hasTraitDescription",value:function(){var e=this.props.buff.vals.map((function(e){return e.id}));for(var t in e){var a=e[t];if(void 0!==ge.get(a))return!0}return!1}},{key:"hasTypeDescription",value:function(){var e=this.props.buff;return Ce.has(e.type)}},{key:"isUpDownBuff",value:function(){var e=this.props.buff.type;for(var t in Oe)if(Oe[t].up===e||Oe[t].down===e)return!0;return!1}},{key:"render",value:function(){var e=this.props.buff,t=e.name;return this.isUpDownBuff()?t=i.a.createElement(i.a.Fragment,null,this.getUpDownDescription(),this.getTraitFilterAppend()):e.type===Y.UP_COMMANDALL?t=i.a.createElement(i.a.Fragment,null,this.getCommandCardTypes()," Up",this.getTraitFilterAppendWithoutCards()):e.type===Y.DOWN_COMMANDALL?t=i.a.createElement(i.a.Fragment,null,this.getCommandCardTypes()," Down",this.getTraitFilterAppendWithoutCards()):e.type===Y.ATTACK_FUNCTION?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill on ",this.getTraitFilters()," attacks"):e.type===Y.COMMANDATTACK_FUNCTION?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill on ",this.getTraitFilters()," cards"):e.type===Y.COMMANDATTACK_BEFORE_FUNCTION?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill before ",this.getTraitFilters()," cards"):e.type===Y.DAMAGE_FUNCTION?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill on receiving ",this.getTraitFilters()," attacks"):e.type===Y.DEAD_FUNCTION?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill on death",this.getTraitFilterAppend()):e.type===Y.NPATTACK_PREV_BUFF?t=i.a.createElement(i.a.Fragment,null,"Trigger Skill on ",this.getTraitFilters()," NP"):this.hasTypeDescription()?t=i.a.createElement(i.a.Fragment,null,this.getTypeDescription(),this.getTraitFilterAppend()):this.hasTraitDescription()&&(t=i.a.createElement(i.a.Fragment,null,this.getTraitDescription(),this.getTraitFilterAppend())),i.a.createElement(m.b,{to:"/".concat(this.props.region,"/buff/").concat(e.id)},"[",i.a.createElement(x,{location:e.icon})," ",t,this.getEffectiveTargetsDescriptions(),"]")}}]),a}(i.a.Component),Ie=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(m.b,{to:"/".concat(this.props.region,"/skill/").concat(this.props.skill.id)},"[",i.a.createElement(x,{location:this.props.skill.icon,height:this.props.iconHeight})," ",this.props.skill.name?this.props.skill.name:"Skill: ".concat(this.props.skill.id),"]")}}]),a}(i.a.Component),ye=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,B.skill(this.props.region,this.props.id);case 4:e.t1=e.sent,e.t2={skill:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=11;break;case 9:e.prev=9,e.t3=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="/".concat(this.props.region,"/skill/").concat(this.props.id);return void 0===this.state.skill?i.a.createElement(m.b,{to:e},"[Skill: ",this.props.id,"]"):i.a.createElement(Ie,{region:this.props.region,skill:this.state.skill})}}]),a}(i.a.Component),Se=new Map([[q.SELF,"self"],[q.PT_ONE,"party member"],[q.PT_ALL,"party"],[q.ENEMY,"enemy"],[q.ENEMY_ALL,"enemies"],[q.PT_FULL,"party (including reserve)"],[q.ENEMY_FULL,"enemies (including reserve)"],[q.PT_OTHER,"party except self"],[q.PT_ONE_OTHER,"other party members besides target"],[q.PT_RANDOM,"random party member"],[q.ENEMY_OTHER,"other enemies besides target"],[q.ENEMY_RANDOM,"random enemy"],[q.PT_OTHER_FULL,"party except self (including reserve)"],[q.ENEMY_OTHER_FULL,"other enemies (including reserve)"],[q.PTSELECT_ONE_SUB,"active party member and reserve party member"],[q.PTSELECT_SUB,"reserve party member"],[q.PT_ONE_ANOTHER_RANDOM,"other random party member"],[q.PT_SELF_ANOTHER_RANDOM,"other random party member (except self)"],[q.ENEMY_ONE_ANOTHER_RANDOM,"other random enemy"],[q.PT_SELF_ANOTHER_FIRST,"first other party member (except self)"],[q.COMMAND_TYPE_SELF_TREASURE_DEVICE,"target noble phantasm version"]]),Re=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getDataVal",value:function(){var e,t,a=this.props.func;return this.props.level?null!==(e=_e(a,this.props.level,null!==(t=this.props.overcharge)&&void 0!==t?t:1))&&void 0!==e?e:{}:Ae(he(a))}},{key:"render",value:function(){var e=this.props.region,t=this.props.func,a=this.getDataVal(),n=new Ne;!function(e,t,a,n){var r=t.team,i=r.parts;a.funcTargetTeam===J.PLAYER?i.push("[Player]"):a.funcTargetTeam===J.ENEMY?i.push("[Enemy]"):r.showing=!1}(0,n,t),function(e,t,a,n){var r=t.chance,i=r.parts;n.Rate&&n.Rate<0?i.push("Guaranteed to"):"number"===typeof n.Rate&&1e3!==n.Rate?i.push(n.Rate/10+"% Chance to"):n.Rate||a.funcType===Q.NONE?r.showing=!1:i.push("Chance to")}(0,n,t,a),function(e,t,a,n){var r,s,c,l,o,u,E,p=t.action.parts;if(a.funcType===Q.ADD_STATE||a.funcType===Q.ADD_STATE_SHORT)p.push("Apply"),a.buffs.forEach((function(t,a){a>0&&p.push("&"),p.push(i.a.createElement(De,{region:e,buff:t}))})),(null===(o=a.buffs[0])||void 0===o?void 0:o.type)===Y.FIELD_INDIVIDUALITY&&(t.amount.preposition="to"),t.target.preposition="on",(null===(u=a.buffs[0])||void 0===u?void 0:u.type)!==Y.COMMANDATTACK_FUNCTION&&(null===(E=a.buffs[0])||void 0===E?void 0:E.type)!==Y.NPATTACK_PREV_BUFF||(t.target.preposition="for");else if(a.funcType===Q.SUB_STATE){var m;p.push("Remove effects"),(null===(m=a.traitVals)||void 0===m?void 0:m.length)&&(p.push("with"),a.traitVals.forEach((function(t,a){a>0&&p.push("&"),p.push(i.a.createElement(se,{region:e,trait:t}))}))),t.target.preposition="on"}else if(a.funcType===Q.CARD_RESET)p.push("Shuffle Cards"),t.target.showing=!1;else if(a.funcType===Q.DAMAGE_NP)p.push("Deal damage"),t.amount.preposition="for";else if(a.funcType===Q.DAMAGE_NP_INDIVIDUAL||a.funcType===Q.DAMAGE_NP_STATE_INDIVIDUAL_FIX)"number"===typeof n.Target?p.push(i.a.createElement("span",null,"Deal damage (additional to targets with ",i.a.createElement(se,{region:e,trait:n.Target}),")")):p.push("Deal damage"),t.amount.preposition="for";else if(a.funcType===Q.DAMAGE_NP_INDIVIDUAL_SUM){var h=[];"number"===typeof n.TargetList&&(h.push("to targets with"),h.push(i.a.createElement(se,{region:e,trait:n.TargetList}))),n.ParamAddMaxCount&&h.push("[Limit ".concat(n.ParamAddMaxCount,"]")),p.push("Deal damage"),h.length&&p.push(i.a.createElement(i.a.Fragment,null,"(additional"," ",ne(h," ").map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})),")"))}else if(a.funcType===Q.DAMAGE_NP_RARE)p.push("Deal damage"),"string"===typeof n.TargetRarityList&&(p.push("that deals additional to"),p.push(n.TargetRarityList),p.push(n.TargetRarityList.split("/").length>1?"rarities":"rarity")),t.amount.preposition="for";else if(a.funcType===Q.DAMAGE_NP_PIERCE)p.push("Deal damage that pierces defence"),t.amount.preposition="for";else if(a.funcType===Q.DELAY_NPTURN)p.push("Drain Charge"),t.target.preposition="from";else if(a.funcType===Q.FORCE_INSTANT_DEATH)p.push("Force Instant Death"),t.target.preposition="on";else if(a.funcType===Q.GAIN_HP)p.push("Restore HP"),t.target.preposition="for";else if(a.funcType===Q.GAIN_NP)p.push("Charge NP"),t.target.preposition="for";else if(a.funcType===Q.GAIN_HP_FROM_TARGETS){var d,f;switch(n.DependFuncId){case 711:d="".concat(null!==(r=null===(s=n.DependFuncVals)||void 0===s?void 0:s.Value)&&void 0!==r?r:""," HP"),f="All Enemies"}p.push("Drain ".concat(d," from ").concat(f," and Restore HP")),t.target.preposition="for"}else if(a.funcType===Q.GAIN_NP_FROM_TARGETS){var A,_;switch(n.DependFuncId){case 474:A="".concat(null!==(c=null===(l=n.DependFuncVals)||void 0===l?void 0:l.Value)&&void 0!==c?c:1," Charge"),_="All Enemies";break;case 3962:A="NP",_="All Other Allies"}p.push("Drain ".concat(A," from ").concat(_," and Charge NP")),t.target.preposition="for"}else a.funcType===Q.GAIN_STAR?(p.push("Gain Critical Stars"),t.target.showing=!1):a.funcType===Q.HASTEN_NPTURN?(p.push("Charge NP"),t.amount.preposition="by",t.target.preposition="for"):a.funcType===Q.INSTANT_DEATH?p.push("Apply Death"):a.funcType===Q.LOSS_HP_SAFE?(p.push("Drain HP"),t.target.preposition="from"):a.funcType===Q.LOSS_NP?(p.push("Drain NP"),t.target.preposition="from"):a.funcType===Q.NONE?(p.push("No Effect"),t.target.showing=!1):p.push(a.funcType)}(e,n,t,a),function(e,t,a,n){var r,s,c,l,o,u,E,p,m,h=t.amount,d=h.parts;if((null===(r=a.buffs[0])||void 0===r?void 0:r.type)===Y.ADD_INDIVIDUALITY&&"number"===typeof n.Value)d.push(i.a.createElement(se,{region:e,trait:n.Value}));else if((null===(s=a.buffs[0])||void 0===s?void 0:s.type)!==Y.ATTACK_FUNCTION&&(null===(c=a.buffs[0])||void 0===c?void 0:c.type)!==Y.COMMANDATTACK_FUNCTION&&(null===(l=a.buffs[0])||void 0===l?void 0:l.type)!==Y.COMMANDATTACK_BEFORE_FUNCTION&&(null===(o=a.buffs[0])||void 0===o?void 0:o.type)!==Y.DAMAGE_FUNCTION&&(null===(u=a.buffs[0])||void 0===u?void 0:u.type)!==Y.DEAD_FUNCTION&&(null===(E=a.buffs[0])||void 0===E?void 0:E.type)!==Y.DELAY_FUNCTION&&(null===(p=a.buffs[0])||void 0===p?void 0:p.type)!==Y.SELFTURNEND_FUNCTION||"number"!==typeof n.Value)if(a.funcType===Q.CARD_RESET&&n.Value)h.preposition=void 0,d.push("".concat(n.Value," time").concat(n.Value>1?"s":""));else if(a.funcType===Q.DAMAGE_NP_INDIVIDUAL_SUM)d.push(i.a.createElement(le,{region:e,func:a,dataVal:n,hideRate:!0}));else if(a.funcType===Q.GAIN_HP_FROM_TARGETS)h.showing=!1;else if(a.funcType===Q.GAIN_NP_FROM_TARGETS){var f;void 0!==(null===(f=n.DependFuncVals)||void 0===f?void 0:f.Value2)?d.push(i.a.createElement(le,{region:e,func:a,dataVal:n,hideRate:!0})):h.showing=!1}else if((null===(m=a.buffs[0])||void 0===m?void 0:m.type)===Y.NPATTACK_PREV_BUFF){if("number"!==typeof n.SkillID)return void(h.showing=!1);h.preposition=void 0,d.push("that triggers"),d.push(i.a.createElement(ye,{region:e,id:n.SkillID}))}else a.buffs[0]&&n.Value?d.push(i.a.createElement(ce,{region:e,buff:a.buffs[0],dataVal:n})):n.Value?d.push(i.a.createElement(le,{region:e,func:a,dataVal:n,hideRate:!0})):h.showing=!1;else h.preposition=void 0,d.push("that triggers"),d.push(i.a.createElement(ye,{region:e,id:n.Value}))}(e,n,t,a),function(e,t,a,n){var r=t.affects,s=r.parts;a.funcquestTvals.length&&(s.push("if on field"),s.push(re(a.funcquestTvals.map((function(t){return i.a.createElement(se,{region:e,trait:t})}))," & "))),a.functvals.length&&(s.push("for"),a.functvals.length>1&&s.push("all"),a.functvals.forEach((function(t,a){a>0&&s.push("&"),s.push(i.a.createElement(se,{region:e,trait:t}))}))),s.length||(r.showing=!1)}(e,n,t),function(e,t,a,n){var r=t.target.parts;Se.has(a.funcTargetType)?r.push(Se.get(a.funcTargetType)):r.push(a.funcTargetType)}(0,n,t),function(e,t,a,n){var r=t.duration,i=r.parts;if(n.Count&&n.Count>0&&n.Turn&&n.Turn>0){var s=1===n.Count?"1 Time":"".concat(n.Count," Times"),c=1===n.Turn?"1 Turn":"".concat(n.Turn," Turns");i.push("(".concat(c,", ").concat(s,")"))}else n.Turn&&n.Turn>0?i.push(1===n.Turn?"(1 Turn)":"(".concat(n.Turn," Turns)")):n.Count&&n.Count>0?i.push(1===n.Count?"(1 Time)":"(".concat(n.Count," Times)")):r.showing=!1}(0,n,0,a),function(e,t,a,n){var r=t.scaling,i=r.parts,s=pe(a),c=me(a);s||c?(s&&i.push("<LEVEL>"),c&&i.push("<OVERCHARGE>")):r.showing=!1}(0,n,t);var r=[];return Object.values(n).forEach((function(e){e.showing&&(e.preposition&&r.push(e.preposition),r=r.concat(e.parts))})),r.push(i.a.createElement(m.b,{to:"/".concat(e,"/func/").concat(t.funcId)},i.a.createElement(v.a,{icon:_.c}))),r=ne(r," "),i.a.createElement("span",null,r.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)})))}}]),a}(i.a.Component),be=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadBuff()}},{key:"loadBuff",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.buff(this.props.region,this.props.id);case 3:t=e.sent,this.setState({loading:!1,buff:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.buff)return i.a.createElement(z,null);var t=this.state.buff;return i.a.createElement("div",null,i.a.createElement("h1",null,i.a.createElement(x,{location:t.icon,height:48}),"\xa0",t.name),i.a.createElement("br",null),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Detail:t.detail,Type:t.type,"Gained Traits":i.a.createElement("div",null,ne(t.vals.map((function(e){return e.name})),", "))}}),i.a.createElement("h3",null,"Related Functions"),t.reverseFunctions.map((function(t,a){return i.a.createElement("p",{key:a},i.a.createElement(Re,{region:e.props.region,func:t}))})))}}]),a}(i.a.Component),Pe=a(39),Le=a(136),Ue=a(79),ke=a(141),Me=a(137),Fe=new Map([[1,"./assets/star1.png"],[2,"./assets/star2.png"],[3,"./assets/star3.png"],[4,"./assets/star4.png"],[5,"./assets/star5.png"]]),Ge=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return i.a.createElement("span",null,Fe.has(this.props.rarity)?i.a.createElement("img",{alt:"".concat(this.props.rarity," star(s)"),src:Fe.get(this.props.rarity),style:{height:null!==(e=this.props.height)&&void 0!==e?e:18}}):null)}}]),a}(i.a.Component),je=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.craftEssence;return i.a.createElement("div",null,i.a.createElement("h1",null,e.name),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:e}),ID:e.id,Collection:e.collectionNo,Name:e.name,Rarity:i.a.createElement(Ge,{rarity:e.rarity}),Cost:e.cost,"Max Lv.":e.lvMax,"Base Hp":e.hpBase,"Base Atk":e.atkBase,"Max Hp":e.hpMax,"Max Atk":e.atkMax}}))}}]),a}(i.a.Component),Ve=a(78),we=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"changeCraftEssence",value:function(e){this.props.history.push("/".concat(this.props.region,"/craft-essence/").concat(e))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,"Jump to:",i.a.createElement(Ve.a,{as:"select",custom:!0,onChange:function(t){e.changeCraftEssence(parseInt(t.target.value))},value:this.props.id},this.props.craftEssences.slice().reverse().map((function(e,t){return i.a.createElement("option",{key:t,value:e.collectionNo},e.name)}))))}}]),a}(i.a.Component),He=Object(h.f)(we),Be=(a(122),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n,r;Object(l.a)(this,a),r=t.call(this,e);var i=null!==(n=e.craftEssence.extraAssets.charaGraph.ascension)&&void 0!==n?n:Object.values(e.craftEssence.extraAssets.charaGraph).shift(),s=void 0===i?void 0:Object.keys(i).shift();return r.state={assetMap:i,assetKey:s},r}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("img",{alt:this.props.craftEssence.name,id:"craft-essence-portrait",src:this.state.assetMap&&this.state.assetKey?this.state.assetMap[this.state.assetKey]:void 0}))}}]),a}(i.a.Component));!function(e){e.NONE="none",e.QUEST_CLEAR="questClear",e.ITEM_GET="itemGet",e.USE_ITEM_ETERNITY="useItemEternity",e.USE_ITEM_TIME="useItemTime",e.USE_ITEM_COUNT="useItemCount",e.SVT_LEVEL="svtLevel",e.SVT_LIMIT="svtLimit",e.SVT_GET="svtGet",e.SVT_FRIENDSHIP="svtFriendship",e.SVT_GROUP="svtGroup",e.EVENT="event",e.DATE="date",e.WEEKDAY="weekday",e.PURCHASE_QP_SHOP="purchaseQpShop",e.PURCHASE_STONE_SHOP="purchaseStoneShop",e.WAR_CLEAR="warClear",e.FLAG="flag",e.SVT_COUNT_STOP="svtCountStop",e.BIRTH_DAY="birthDay",e.EVENT_END="eventEnd",e.SVT_EVENT_JOIN="svtEventJoin",e.MISSION_CONDITION_DETAIL="missionConditionDetail",e.EVENT_MISSION_CLEAR="eventMissionClear",e.EVENT_MISSION_ACHIEVE="eventMissionAchieve",e.QUEST_CLEAR_NUM="questClearNum",e.NOT_QUEST_GROUP_CLEAR="notQuestGroupClear",e.RAID_ALIVE="raidAlive",e.RAID_DEAD="raidDead",e.RAID_DAMAGE="raidDamage",e.QUEST_CHALLENGE_NUM="questChallengeNum",e.MASTER_MISSION="masterMission",e.QUEST_GROUP_CLEAR="questGroupClear",e.SUPER_BOSS_DAMAGE="superBossDamage",e.SUPER_BOSS_DAMAGE_ALL="superBossDamageAll",e.PURCHASE_SHOP="purchaseShop",e.QUEST_NOT_CLEAR="questNotClear",e.NOT_SHOP_PURCHASE="notShopPurchase",e.NOT_SVT_GET="notSvtGet",e.NOT_EVENT_SHOP_PURCHASE="notEventShopPurchase",e.SVT_HAVING="svtHaving",e.NOT_SVT_HAVING="notSvtHaving",e.QUEST_CHALLENGE_NUM_EQUAL="questChallengeNumEqual",e.QUEST_CHALLENGE_NUM_BELOW="questChallengeNumBelow",e.QUEST_CLEAR_NUM_EQUAL="questClearNumEqual",e.QUEST_CLEAR_NUM_BELOW="questClearNumBelow",e.QUEST_CLEAR_PHASE="questClearPhase",e.NOT_QUEST_CLEAR_PHASE="notQuestClearPhase",e.EVENT_POINT_GROUP_WIN="eventPointGroupWin",e.EVENT_NORMA_POINT_CLEAR="eventNormaPointClear",e.QUEST_AVAILABLE="questAvailable",e.QUEST_GROUP_AVAILABLE_NUM="questGroupAvailableNum",e.EVENT_NORMA_POINT_NOT_CLEAR="eventNormaPointNotClear",e.NOT_ITEM_GET="notItemGet",e.COSTUME_GET="costumeGet",e.QUEST_RESET_AVAILABLE="questResetAvailable",e.SVT_GET_BEFORE_EVENT_END="svtGetBeforeEventEnd",e.QUEST_CLEAR_RAW="questClearRaw",e.QUEST_GROUP_CLEAR_RAW="questGroupClearRaw",e.EVENT_GROUP_POINT_RATIO_IN_TERM="eventGroupPointRatioInTerm",e.EVENT_GROUP_RANK_IN_TERM="eventGroupRankInTerm",e.NOT_EVENT_RACE_QUEST_OR_NOT_ALL_GROUP_GOAL="notEventRaceQuestOrNotAllGroupGoal",e.EVENT_GROUP_TOTAL_WIN_EACH_PLAYER="eventGroupTotalWinEachPlayer",e.EVENT_SCRIPT_PLAY="eventScriptPlay",e.SVT_COSTUME_RELEASED="svtCostumeReleased",e.QUEST_NOT_CLEAR_AND="questNotClearAnd",e.SVT_RECOVERD="svtRecoverd",e.SHOP_RELEASED="shopReleased",e.EVENT_POINT="eventPoint",e.EVENT_REWARD_DISP_COUNT="eventRewardDispCount",e.EQUIP_WITH_TARGET_COSTUME="equipWithTargetCostume",e.RAID_GROUP_DEAD="raidGroupDead",e.NOT_SVT_GROUP="notSvtGroup",e.NOT_QUEST_RESET_AVAILABLE="notQuestResetAvailable",e.NOT_QUEST_CLEAR_RAW="notQuestClearRaw",e.NOT_QUEST_GROUP_CLEAR_RAW="notQuestGroupClearRaw",e.NOT_EVENT_MISSION_CLEAR="notEventMissionClear",e.NOT_EVENT_MISSION_ACHIEVE="notEventMissionAchieve",e.NOT_COSTUME_GET="notCostumeGet",e.NOT_SVT_COSTUME_RELEASED="notSvtCostumeReleased",e.NOT_EVENT_RACE_QUEST_OR_NOT_TARGET_RANK_GOAL="notEventRaceQuestOrNotTargetRankGoal",e.PLAYER_GENDER_TYPE="playerGenderType",e.SHOP_GROUP_LIMIT_NUM="shopGroupLimitNum",e.EVENT_GROUP_POINT="eventGroupPoint",e.EVENT_GROUP_POINT_BELOW="eventGroupPointBelow",e.EVENT_TOTAL_POINT="eventTotalPoint",e.EVENT_TOTAL_POINT_BELOW="eventTotalPointBelow",e.EVENT_VALUE="eventValue",e.EVENT_VALUE_BELOW="eventValueBelow",e.EVENT_FLAG="eventFlag",e.EVENT_STATUS="eventStatus",e.NOT_EVENT_STATUS="notEventStatus",e.FORCE_FALSE="forceFalse",e.SVT_HAVING_LIMIT_MAX="svtHavingLimitMax",e.EVENT_POINT_BELOW="eventPointBelow",e.SVT_EQUIP_FRIENDSHIP_HAVING="svtEquipFriendshipHaving",e.MOVIE_NOT_DOWNLOAD="movieNotDownload",e.MULTIPLE_DATE="multipleDate",e.SVT_FRIENDSHIP_ABOVE="svtFriendshipAbove",e.SVT_FRIENDSHIP_BELOW="svtFriendshipBelow",e.MOVIE_DOWNLOADED="movieDownloaded",e.ROUTE_SELECT="routeSelect",e.NOT_ROUTE_SELECT="notRouteSelect",e.LIMIT_COUNT="limitCount",e.LIMIT_COUNT_ABOVE="limitCountAbove",e.LIMIT_COUNT_BELOW="limitCountBelow",e.BAD_END_PLAY="badEndPlay",e.COMMAND_CODE_GET="commandCodeGet",e.NOT_COMMAND_CODE_GET="notCommandCodeGet",e.ALL_USERS_BOX_GACHA_COUNT="allUsersBoxGachaCount",e.TOTAL_TD_LEVEL="totalTdLevel",e.TOTAL_TD_LEVEL_ABOVE="totalTdLevelAbove",e.TOTAL_TD_LEVEL_BELOW="totalTdLevelBelow",e.COMMON_RELEASE="commonRelease",e.BATTLE_RESULT_WIN="battleResultWin",e.BATTLE_RESULT_LOSE="battleResultLose",e.EVENT_VALUE_EQUAL="eventValueEqual",e.BOARD_GAME_TOKEN_HAVING="boardGameTokenHaving",e.BOARD_GAME_TOKEN_GROUP_HAVING="boardGameTokenGroupHaving",e.EVENT_FLAG_ON="eventFlagOn",e.EVENT_FLAG_OFF="eventFlagOff",e.QUEST_STATUS_FLAG_ON="questStatusFlagOn",e.QUEST_STATUS_FLAG_OFF="questStatusFlagOff",e.EVENT_VALUE_NOT_EQUAL="eventValueNotEqual",e.LIMIT_COUNT_MAX_EQUAL="limitCountMaxEqual",e.LIMIT_COUNT_MAX_ABOVE="limitCountMaxAbove",e.LIMIT_COUNT_MAX_BELOW="limitCountMaxBelow",e.BOARD_GAME_TOKEN_GET_NUM="boardGameTokenGetNum",e.BATTLE_LINE_WIN_ABOVE="battleLineWinAbove",e.BATTLE_LINE_LOSE_ABOVE="battleLineLoseAbove",e.BATTLE_LINE_CONTINUE_WIN="battleLineContinueWin",e.BATTLE_LINE_CONTINUE_LOSE="battleLineContinueLose",e.BATTLE_LINE_CONTINUE_WIN_BELOW="battleLineContinueWinBelow",e.BATTLE_LINE_CONTINUE_LOSE_BELOW="battleLineContinueLoseBelow",e.BATTLE_GROUP_WIN_AVOVE="battleGroupWinAvove",e.BATTLE_GROUP_LOSE_AVOVE="battleGroupLoseAvove"}(ve||(ve={}));var xe,We=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="";switch(Math.floor(this.props.questId/1e6)){case 91:e="Interlude";break;case 94:e="Strengthening";break;default:e="Main"}return i.a.createElement(m.b,{to:"/".concat(this.props.region,"/quest/").concat(this.props.questId,"/").concat(this.props.questPhase)},e," Quest ",i.a.createElement(v.a,{icon:_.c}))}}]),a}(i.a.Component),Ke=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.comment,t=this.props.comment.condMessage;return t||(e.condType===ve.NONE?t="None":e.condType===ve.QUEST_CLEAR&&e.condValues.length>0?t=i.a.createElement(i.a.Fragment,null,i.a.createElement(We,{region:this.props.region,questId:e.condValues[0],questPhase:e.condValue2}),"\xa0Cleared"):e.condType===ve.SVT_FRIENDSHIP&&e.condValues.length>0&&(t="Bond Level ".concat(e.condValues[0]))),i.a.createElement("span",null,t)}}]),a}(i.a.Component),Ye=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h3",null,"Profile"),i.a.createElement(W.a,null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Condition"),i.a.createElement("th",null,"Message"))),i.a.createElement("tbody",null,this.props.comments.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,i.a.createElement(Ke,{region:e.props.region,comment:t})),i.a.createElement("td",null,ae(t.comment)))})))))}}]),a}(i.a.Component),Qe=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Ye),qe=a(135),Je=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.skill;return i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement(Ie,{region:this.props.region,skill:t,iconHeight:33})),t.condQuestId&&t.condQuestPhase?i.a.createElement(qe.a,{variant:"primary"},"Available after ",i.a.createElement(We,{region:this.props.region,questId:t.condQuestId,questPhase:t.condQuestPhase})):null,i.a.createElement("p",null,ae(t.detail)),i.a.createElement(W.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Effect"))),i.a.createElement("tbody",null,t.functions.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,i.a.createElement(Re,{region:e.props.region,func:t})))})))))}}]),a}(i.a.Component),Xe=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,id:n.props.id,craftEssences:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadCraftEssence()}},{key:"loadCraftEssence",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t,a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([B.craftEssenceList(this.props.region),B.craftEssence(this.props.region,this.state.id),B.traitMap(this.props.region)]);case 3:t=e.sent,a=Object(Pe.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,craftEssences:n,craftEssence:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({error:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.craftEssence)return i.a.createElement(z,null);var t=this.state.craftEssence;return i.a.createElement("div",null,i.a.createElement(He,{region:this.props.region,craftEssences:this.state.craftEssences,id:this.state.craftEssence.collectionNo}),i.a.createElement("hr",null),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:{span:12,order:2},lg:{span:6,order:1}},i.a.createElement(je,{craftEssence:this.state.craftEssence})),i.a.createElement(Ue.a,{xs:{span:12,order:1},lg:{span:6,order:2}},i.a.createElement(Be,{craftEssence:this.state.craftEssence}))),i.a.createElement(ke.a,{id:"ce-tabs",defaultActiveKey:"effects",transition:!1},i.a.createElement(Me.a,{eventKey:"effects",title:"Effects"},i.a.createElement("br",null),i.a.createElement(Le.a,null,this.state.craftEssence.skills.filter((function(e){return 1===e.num})).map((function(a,n){return i.a.createElement(Ue.a,{key:n,xs:12,lg:t.skills.length>1?6:12},i.a.createElement(Je,{region:e.props.region,skill:a}))})))),i.a.createElement(Me.a,{eventKey:"profile",title:"Profile"},i.a.createElement("br",null),i.a.createElement(Qe,{region:this.props.region,comments:t.profile.comments}))))}}]),a}(i.a.Component),ze=a(57),$e=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("img",{alt:"",src:this.props.location,style:this.props.height?{height:this.props.height}:void 0})}}]),a}(i.a.Component),Ze=(a(124),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,craftEssences:[],activeRarityFilters:[1,2,3,4,5]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{B.craftEssenceList(this.props.region).then((function(t){e.setState({loading:!1,craftEssences:t})}))}catch(t){this.setState({error:t})}}},{key:"toggleRarityFilter",value:function(e){-1!==this.state.activeRarityFilters.indexOf(e)?this.setState({activeRarityFilters:this.state.activeRarityFilters.filter((function(t){return t!==e}))}):this.setState({activeRarityFilters:[].concat(Object(ze.a)(this.state.activeRarityFilters),[e])})}},{key:"craftEssences",value:function(){var e=this,t=this.state.craftEssences.slice().reverse();return 5!==this.state.activeRarityFilters.length&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),t}},{key:"render",value:function(){var e=this;return this.state.error?i.a.createElement(f,{error:this.state.error}):this.state.loading?i.a.createElement(z,null):i.a.createElement("div",{id:"craft-essences"},i.a.createElement("p",{className:"text-center"},[1,2,3,4,5].map((function(t){var a=-1!==e.state.activeRarityFilters.indexOf(t);return i.a.createElement("span",{key:t,className:"filter",style:{opacity:a?1:.5},onClick:function(a){e.toggleRarityFilter(t)}},i.a.createElement(Ge,{rarity:t,height:20}))}))),i.a.createElement("hr",null),i.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Rarity"))),i.a.createElement("tbody",null,this.craftEssences().map((function(t,a){var n="/".concat(e.props.region,"/craft-essence/").concat(t.collectionNo);return i.a.createElement("tr",{key:a},i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},t.collectionNo)),i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},i.a.createElement($e,{type:t.type,rarity:t.rarity,location:t.face,height:50}))),i.a.createElement("td",null,i.a.createElement(m.b,{to:n},t.name)),i.a.createElement("td",null,i.a.createElement(Ge,{rarity:t.rarity})))})))))}}]),a}(i.a.Component)),et=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(m.b,{to:"/".concat(this.props.region,"/noble-phantasm/").concat(this.props.noblePhantasm.id)},"[",this.props.noblePhantasm.name,"]")}}]),a}(i.a.Component),tt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.func;return i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:a}),ID:a.funcId,Type:a.funcType,Target:a.funcTargetType,"Affects Players/Enemies":a.funcTargetTeam,"Popup Text":a.funcPopupText,"Target Traits":i.a.createElement("div",null,a.functvals.map((function(e,a){return i.a.createElement(se,{key:a,region:t.props.region,trait:e})}))),"Affects Traits":i.a.createElement("div",null,null===(e=a.traitVals)||void 0===e?void 0:e.map((function(e,a){return i.a.createElement(se,{key:a,region:t.props.region,trait:e})}))),Buffs:i.a.createElement("div",null,a.buffs.map((function(e,a){return i.a.createElement(De,{key:a,region:t.props.region,buff:e})})))}})}}]),a}(i.a.Component),at=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadFunc()}},{key:"loadFunc",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.func(this.props.region,this.props.id);case 3:t=e.sent,this.setState({loading:!1,func:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.func)return i.a.createElement(z,null);var t=this.state.func;return i.a.createElement("div",null,i.a.createElement("h1",null,t.funcPopupIcon?i.a.createElement("span",null,i.a.createElement(x,{location:t.funcPopupIcon,height:48}),"\xa0"):null,"Function: ",this.props.id),i.a.createElement("br",null),i.a.createElement(tt,{region:this.props.region,func:t}),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:12,lg:6},i.a.createElement("h3",null,"Related Skills"),t.reverseSkills.map((function(t,a){return i.a.createElement("p",{key:a},i.a.createElement(Ie,{region:e.props.region,skill:t}))}))),i.a.createElement(Ue.a,{xs:12,lg:6},i.a.createElement("h3",null,"Related Noble Phantasms"),t.reverseTds.map((function(t,a){return i.a.createElement("p",{key:a},i.a.createElement(et,{region:e.props.region,noblePhantasm:t}))})))))}}]),a}(i.a.Component),nt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Atlas Academy DB"),i.a.createElement("p",null,i.a.createElement("i",null,"FGO Game Data Navigator - without any of the fluff.")),i.a.createElement("hr",null),i.a.createElement("p",null,"This tools lets you accurately navigate the raw data the game is using in the back. None of the data that is being displayed on this tool is manually entered. Everything is accurately reflecting exactly the raw data available from the most recent version of the game."),i.a.createElement("p",null,"Please note that the skill/NP/effect descriptions are generated automatically and if there is an unknown interaction or new function, there is a possibility that it is displayed incorrectly."),i.a.createElement("p",null,"All the data that is being used to render this DB is publicly available at ",i.a.createElement("a",{href:"https://api.atlasacademy.io",target:"_blank",rel:"noopener noreferrer"},"https://api.atlasacademy.io"),". The data at api.atlasacademy.io is automatically maintained and will be refreshed within an hour of a new release of the game."),i.a.createElement("br",null),i.a.createElement("p",null,"Credits:",i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://discord.gg/TKJmuCR",target:"_blank",rel:"noopener noreferrer"},"Atlas Academy \xa0",i.a.createElement(v.a,{icon:A.a}))),i.a.createElement("li",null,"solution (solution#0286)"),i.a.createElement("li",null,"Cereal (Cereal#5579)"))))}}]),a}(i.a.Component),rt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.mysticCode;return i.a.createElement("div",null,i.a.createElement("h1",null,e.name),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:e}),ID:e.id,Name:e.name,Detail:e.detail}}))}}]),a}(i.a.Component),it=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"changeMysticCode",value:function(e){this.props.history.push("/".concat(this.props.region,"/mystic-code/").concat(e))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,"Jump to:",i.a.createElement(Ve.a,{as:"select",custom:!0,onChange:function(t){e.changeMysticCode(parseInt(t.target.value))},value:this.props.id},this.props.mysticCodes.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.name)}))))}}]),a}(i.a.Component),st=Object(h.f)(it),ct=(a(125),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var r=e.mysticCode.extraAssets.masterFace,i=void 0===r?void 0:Object.keys(r).shift();return n.state={assetMap:r,assetKey:i},n}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"mystic-code-portrait-wrapper"},i.a.createElement("img",{alt:this.props.mysticCode.name,id:"mystic-code-portrait",src:this.state.assetMap&&this.state.assetKey?this.state.assetMap[this.state.assetKey]:void 0}))}}]),a}(i.a.Component)),lt=(a(126),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,B.skill(this.props.region,this.props.skillId);case 4:e.t1=e.sent,e.t2={skill:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=11;break;case 9:e.prev=9,e.t3=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return void 0===this.state.skill?null:i.a.createElement(ot,{region:this.props.region,funcs:this.state.skill.functions,levels:this.props.levels,relatedSkillId:this.state.skill.id})}}]),a}(i.a.Component)),ot=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,this.props.cooldowns?i.a.createElement("tr",null,i.a.createElement("td",{className:"effect"},"Cooldown"),this.props.cooldowns.map((function(e,t){return i.a.createElement("td",{key:t},e)}))):null,this.props.funcs.map((function(t,a){for(var n=Ee(e.props.region,t),r=function(e){if(e.funcType!==Q.ADD_STATE&&e.funcType!==Q.ADD_STATE_SHORT)return[];var t=e.buffs[0];if(t.type===Y.ATTACK_FUNCTION||t.type===Y.COMMANDATTACK_FUNCTION||t.type===Y.COMMANDATTACK_BEFORE_FUNCTION||t.type===Y.DAMAGE_FUNCTION||t.type===Y.DEAD_FUNCTION||t.type===Y.DELAY_FUNCTION||t.type===Y.SELFTURNEND_FUNCTION){var a=he(e)[0];return"number"===typeof a.Value?[a.Value]:[]}if(t.type===Y.NPATTACK_PREV_BUFF){var n=he(e)[0];return"number"===typeof n.SkillID?[n.SkillID]:[]}return[]}(t),s=0;s<e.props.levels;s++)n[s]||n.push("-");return i.a.createElement(i.a.Fragment,{key:a},i.a.createElement("tr",null,i.a.createElement("td",{className:"effect"},e.props.relatedSkillId?i.a.createElement(ye,{region:e.props.region,id:e.props.relatedSkillId}):null,e.props.relatedSkillId?" ":"",i.a.createElement(Re,{region:e.props.region,func:t})),n.map((function(e,t){return i.a.createElement("td",{key:t},e)}))),r.map((function(t,a){return i.a.createElement(lt,{key:t,region:e.props.region,skillId:t,levels:e.props.levels})})))})))}}]),a}(i.a.Component),ut=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(W.a,{responsive:!0,className:"effect-breakdown"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Effect"),Array.from(Array(this.props.levels).keys()).map((function(e){return i.a.createElement("td",{key:e},e+1)})))),i.a.createElement("tbody",null,i.a.createElement(ot,{region:this.props.region,cooldowns:this.props.cooldowns,funcs:this.props.funcs,levels:this.props.levels})))}}]),a}(i.a.Component),Et=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.skill;return i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement(Ie,{region:this.props.region,skill:e,iconHeight:33})),e.condQuestId&&e.condQuestPhase?i.a.createElement(qe.a,{variant:"primary"},"Available after ",i.a.createElement(We,{region:this.props.region,questId:e.condQuestId,questPhase:e.condQuestPhase})):null,i.a.createElement("p",null,ae(e.detail)),i.a.createElement(ut,{region:this.props.region,cooldowns:e.coolDown,funcs:this.props.skill.functions,levels:10}))}}]),a}(i.a.Component),pt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Et),mt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,id:n.props.id,mysticCodes:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t,a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([B.mysticCodeList(this.props.region),B.mysticCode(this.props.region,this.state.id)]);case 3:t=e.sent,a=Object(Pe.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,mysticCodes:n,mysticCode:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({error:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?i.a.createElement(f,{error:this.state.error}):this.state.loading||!this.state.mysticCode?i.a.createElement(z,null):i.a.createElement("div",null,i.a.createElement(st,{region:this.props.region,mysticCodes:this.state.mysticCodes,id:this.state.mysticCode.id}),i.a.createElement("hr",null),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:{span:12,order:2},lg:{span:6,order:1}},i.a.createElement(rt,{mysticCode:this.state.mysticCode})),i.a.createElement(Ue.a,{xs:{span:12,order:1},lg:{span:6,order:2}},i.a.createElement(ct,{mysticCode:this.state.mysticCode}))),i.a.createElement(ke.a,{id:"mystic-code-tabs",defaultActiveKey:"skill-1",transition:!1},i.a.createElement(Me.a,{eventKey:"skill-1",title:"Skill 1"},i.a.createElement("br",null),this.state.mysticCode.skills[0]?i.a.createElement(pt,{region:this.props.region,skill:this.state.mysticCode.skills[0]}):null),i.a.createElement(Me.a,{eventKey:"skill-2",title:"Skill 2"},i.a.createElement("br",null),this.state.mysticCode.skills[1]?i.a.createElement(pt,{region:this.props.region,skill:this.state.mysticCode.skills[1]}):null),i.a.createElement(Me.a,{eventKey:"skill-3",title:"Skill 3"},i.a.createElement("br",null),this.state.mysticCode.skills[2]?i.a.createElement(pt,{region:this.props.region,skill:this.state.mysticCode.skills[2]}):null)))}}]),a}(i.a.Component),ht=(a(127),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,mysticCodes:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{B.mysticCodeList(this.props.region).then((function(t){e.setState({loading:!1,mysticCodes:t})}))}catch(t){this.setState({error:t})}}},{key:"render",value:function(){var e=this;return this.state.error?i.a.createElement(f,{error:this.state.error}):this.state.loading?i.a.createElement(z,null):i.a.createElement("div",{id:"mystic-codes"},i.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),i.a.createElement("th",{style:{textAlign:"center",width:"140px"}},"Thumbnail"),i.a.createElement("th",null,"Name"))),i.a.createElement("tbody",null,this.state.mysticCodes.map((function(t,a){var n="/".concat(e.props.region,"/mystic-code/").concat(t.id);return i.a.createElement("tr",{key:a},i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},t.id)),i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},i.a.createElement($e,{location:t.extraAssets.item.male,height:50}),i.a.createElement($e,{location:t.extraAssets.item.female,height:50}))),i.a.createElement("td",null,i.a.createElement(m.b,{to:n},t.name)))})))))}}]),a}(i.a.Component));!function(e){e.NORMAL="normal",e.HEROINE="heroine",e.COMBINE_MATERIAL="combineMaterial",e.ENEMY="enemy",e.ENEMY_COLLECTION="enemyCollection",e.SERVANT_EQUIP="servantEquip",e.STATUS_UP="statusUp",e.SVT_EQUIP_MATERIAL="svtEquipMaterial",e.ENEMY_COLLECTION_DETAIL="enemyCollectionDetail",e.ALL="all",e.COMMAND_CODE="commandCode"}(xe||(xe={}));var dt,ft=xe;!function(e){e.SABER="saber",e.ARCHER="archer",e.LANCER="lancer",e.RIDER="rider",e.CASTER="caster",e.ASSASSIN="assassin",e.BERSERKER="berserker",e.SHIELDER="shielder",e.RULER="ruler",e.ALTER_EGO="alterEgo",e.AVENGER="avenger",e.GRAND_CASTER="grandCaster",e.BEAST_II="beastII",e.BEAST_I="beastI",e.MOON_CANCER="moonCancer",e.BEAST_IIIR="beastIIIR",e.FOREIGNER="foreigner",e.BEAST_IIIL="beastIIIL",e.BEAST_UNKNOWN="beastUnknown",e.ALL="ALL",e.EXTRA="EXTRA"}(dt||(dt={}));var At=dt,_t=new Map([[0,1],[1,1],[2,1],[3,2],[4,3],[5,3]]),vt=new Map([[At.SABER,1],[At.ARCHER,2],[At.LANCER,3],[At.RIDER,4],[At.CASTER,5],[At.ASSASSIN,6],[At.BERSERKER,7],[At.SHIELDER,8],[At.RULER,9],[At.ALTER_EGO,10],[At.AVENGER,11],[At.MOON_CANCER,23],[At.FOREIGNER,25],[At.GRAND_CASTER,5],[At.BEAST_I,20],[At.BEAST_II,20],[At.BEAST_IIIL,20],[At.BEAST_IIIR,20],[At.BEAST_UNKNOWN,20],[At.ALL,1001],[At.EXTRA,1002]]),Tt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e;return i.a.createElement("img",{alt:"",src:this.location(),style:{height:null!==(e=this.props.height)&&void 0!==e?e:24}})}},{key:"location",value:function(){var e,t=vt.has(this.props.className)?vt.get(this.props.className):12,a=null!==(e=this.props.rarity)&&void 0!==e?e:5,n=_t.has(a)?_t.get(a):3;return"https://assets.atlasacademy.io/GameData/NA/ClassIcons/class".concat(n,"_").concat(t,".png")}}]),a}(i.a.Component),Nt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(m.b,{to:"/".concat(this.props.region,"/servant/").concat(this.props.servant.id)},i.a.createElement(Tt,{className:this.props.servant.className,rarity:this.props.servant.rarity,height:this.props.iconHeight})," ",this.props.servant.name)}}]),a}(i.a.Component),Ot=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(K,{data:Object(k.a)({Raw:i.a.createElement(ee,{data:this.props.dataVal})},this.props.dataVal)})}}]),a}(i.a.Component),gt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.noblePhantasm.functions.map((function(t,a){var n=_e(t,e.props.level,e.props.overcharge);return i.a.createElement("div",{key:a},i.a.createElement("h3",null,"Effect #",a+1),i.a.createElement("p",null,i.a.createElement(Re,{region:e.props.region,func:t,level:e.props.level,overcharge:e.props.overcharge})),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:12,md:6},i.a.createElement("h5",null,"Function"),i.a.createElement(tt,{region:e.props.region,func:t})),i.a.createElement(Ue.a,{xs:12,md:6},i.a.createElement("h5",null,"Values"),i.a.createElement(Ot,{dataVal:null!==n&&void 0!==n?n:{}}))),i.a.createElement("hr",null))})))}}]),a}(i.a.Component),Ct=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,level:1,overcharge:1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadNp()}},{key:"loadNp",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.noblePhantasm(this.props.region,this.props.id);case 3:t=e.sent,this.setState({loading:!1,noblePhantasm:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"changeLevel",value:function(e){this.setState({level:e})}},{key:"changeOvercharge",value:function(e){this.setState({overcharge:e})}},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.noblePhantasm)return i.a.createElement(z,null);var t=this.state.noblePhantasm;return i.a.createElement("div",null,i.a.createElement("h1",null,t.name),i.a.createElement("br",null),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Type:t.type,Rank:t.rank,Detail:t.detail,"Card Type":t.card,Owner:i.a.createElement("div",null,t.reverseServants.filter((function(e){return e.type===ft.NORMAL||e.type===ft.HEROINE})).map((function(t,a){return i.a.createElement("div",null,i.a.createElement(Nt,{region:e.props.region,servant:t,iconHeight:24}))})))}}),i.a.createElement("br",null),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,null,i.a.createElement(D.a,{inline:!0,style:{justifyContent:"flex-end"}},i.a.createElement(D.a.Control,{as:"select",value:this.state.level,onChange:function(t){return e.changeLevel(parseInt(t.target.value))}},[1,2,3,4,5].map((function(e){return i.a.createElement("option",{key:e,value:e},"NP LEVEL ",e)}))))),i.a.createElement(Ue.a,null,i.a.createElement(D.a,{inline:!0},i.a.createElement(D.a.Control,{as:"select",value:this.state.overcharge,onChange:function(t){return e.changeOvercharge(parseInt(t.target.value))}},[1,2,3,4,5].map((function(e){return i.a.createElement("option",{key:e,value:e},"OVERCHARGE ",e)})))))),i.a.createElement("br",null),i.a.createElement(gt,{region:this.props.region,noblePhantasm:t,level:this.state.level,overcharge:this.state.overcharge}))}}]),a}(i.a.Component),Dt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadQuest()}},{key:"loadQuest",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.quest(this.props.region,this.props.id,this.props.phase);case 3:t=e.sent,this.setState({loading:!1,quest:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.quest)return i.a.createElement(z,null);var e=this.state.quest;return i.a.createElement("div",null,i.a.createElement("h1",null,e.name),i.a.createElement("br",null),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:e}),ID:e.id,Phase:e.phase,Name:e.name,Type:e.type}}))}}]),a}(i.a.Component),It=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.servant;return i.a.createElement("div",null,i.a.createElement("h1",null,i.a.createElement(Tt,{className:e.className,rarity:e.rarity,height:50}),"\xa0",e.name),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:e}),ID:e.id,Collection:e.collectionNo,Name:e.name,Class:e.className,Rarity:i.a.createElement(Ge,{rarity:e.rarity}),Cost:e.cost,Gender:e.gender,Attribute:e.attribute,"Max Lv.":e.lvMax,"Base Hp":e.hpBase,"Base Atk":e.atkBase,"Max Hp":e.hpMax,"Max Atk":e.atkMax}}))}}]),a}(i.a.Component),yt="https://assets.atlasacademy.io/GameData/JP/BuffIcons",St="".concat(yt,"/bufficon_337.png"),Rt="".concat(yt,"/bufficon_349.png"),bt="".concat(yt,"/bufficon_310.png"),Pt=function(e){return void 0===e?"":i.a.createElement("span",null,e.map((function(e,t){return(t>0?", ":"")+te(e,0)})),"\xa0-\xa0",e.length," Hits")},Lt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"hitsColumn",value:function(){return i.a.createElement(Ue.a,{xs:12,md:12,lg:6},i.a.createElement(K,{header:i.a.createElement("div",null,i.a.createElement(x,{location:Rt}),"\xa0 Hit Count"),data:{Buster:Pt(this.props.servant.hitsDistribution.buster),Arts:Pt(this.props.servant.hitsDistribution.arts),Quick:Pt(this.props.servant.hitsDistribution.quick),Extra:Pt(this.props.servant.hitsDistribution.extra)}}))}},{key:"miscColumn",value:function(){return i.a.createElement(Ue.a,{xs:12,md:12,lg:6},i.a.createElement(K,{header:i.a.createElement("div",null,i.a.createElement(x,{location:bt}),"\xa0Crit Stars"),data:{"Star Absorb":this.props.servant.starAbsorb,"Star Gen":te(this.props.servant.starGen,1)}}),i.a.createElement(K,{header:i.a.createElement("div",null,i.a.createElement(x,{location:St}),"\xa0Instant Death"),data:{"Death Chance":te(this.props.servant.instantDeathChance,1)}}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Le.a,null,this.hitsColumn(),this.miscColumn()))}}]),a}(i.a.Component),Ut=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.noblePhantasm;return i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement(et,{region:this.props.region,noblePhantasm:e})),e.condQuestId&&e.condQuestPhase?i.a.createElement(qe.a,{variant:"primary"},"Available after ",i.a.createElement(We,{region:this.props.region,questId:e.condQuestId,questPhase:e.condQuestPhase})):null,i.a.createElement("p",null,ae(e.detail)),i.a.createElement("p",null,"Card: ",e.card,i.a.createElement("br",null),"Hits: ",e.npDistribution.length," Hits - ",re(e.npDistribution.map((function(e){return te(e,0)})),", ")),i.a.createElement(ut,{region:this.props.region,funcs:e.functions,levels:5}))}}]),a}(i.a.Component),kt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.skill;return i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement(Ie,{region:this.props.region,skill:t,iconHeight:33})),t.condQuestId&&t.condQuestPhase?i.a.createElement(qe.a,{variant:"primary"},"Available after ",i.a.createElement(We,{region:this.props.region,questId:t.condQuestId,questPhase:t.condQuestPhase})):null,i.a.createElement("p",null,ae(t.detail)),i.a.createElement(W.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Effect"))),i.a.createElement("tbody",null,t.functions.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,i.a.createElement(Re,{region:e.props.region,func:t})))})))))}}]),a}(i.a.Component),Mt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"changeServant",value:function(e){this.props.history.push("/".concat(this.props.region,"/servant/").concat(e))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,"Jump to:",i.a.createElement(Ve.a,{as:"select",custom:!0,onChange:function(t){e.changeServant(parseInt(t.target.value))},value:this.props.id},this.props.servants.slice().reverse().map((function(e,t){return i.a.createElement("option",{key:t,value:e.collectionNo},e.name)}))))}}]),a}(i.a.Component),Ft=Object(h.f)(Mt),Gt=(a(128),function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n,r;Object(l.a)(this,a),r=t.call(this,e);var i=null!==(n=e.servant.extraAssets.charaGraph.ascension)&&void 0!==n?n:Object.values(e.servant.extraAssets.charaGraph).shift(),s=void 0===i?void 0:Object.keys(i).shift();return r.state={assetMap:i,assetKey:s},r}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("img",{alt:this.props.servant.name,id:"servant-portrait",src:this.state.assetMap&&this.state.assetKey?this.state.assetMap[this.state.assetKey]:void 0}))}}]),a}(i.a.Component)),jt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.stats;return i.a.createElement("div",null,i.a.createElement("h3",null,"Stats"),i.a.createElement(W.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Strength"),i.a.createElement("th",null,"Endurance"),i.a.createElement("th",null,"Agility"),i.a.createElement("th",null,"Magic"),i.a.createElement("th",null,"Luck"),i.a.createElement("th",null,"NP"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,e.strength),i.a.createElement("td",null,e.endurance),i.a.createElement("td",null,e.agility),i.a.createElement("td",null,e.magic),i.a.createElement("td",null,e.luck),i.a.createElement("td",null,e.np)))))}}]),a}(i.a.Component),Vt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,ne(this.props.traits.map((function(t){return i.a.createElement(se,{region:e.props.region,trait:t})})),", ").map((function(e,t){return i.a.createElement("span",{key:t},e)})))}}]),a}(i.a.Component),wt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,id:n.props.id,servants:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadServant()}},{key:"loadServant",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t,a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([B.servantList(this.props.region),B.servant(this.props.region,this.state.id),B.traitMap(this.props.region)]);case 3:t=e.sent,a=Object(Pe.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,servants:n,servant:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({error:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.servant)return i.a.createElement(z,null);var t=this.state.servant;return i.a.createElement("div",{id:"servant"},i.a.createElement(Ft,{region:this.props.region,servants:this.state.servants,id:this.state.servant.collectionNo}),i.a.createElement("hr",null),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:{span:12,order:2},lg:{span:6,order:1}},i.a.createElement(It,{servant:this.state.servant})),i.a.createElement(Ue.a,{xs:{span:12,order:1},lg:{span:6,order:2}},i.a.createElement(Gt,{servant:this.state.servant}))),i.a.createElement(ke.a,{id:"servant-tabs",defaultActiveKey:"skill-1",transition:!1},i.a.createElement(Me.a,{eventKey:"skill-1",title:"Skill 1"},i.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 1===e.num})).map((function(t,a){return i.a.createElement(Et,{region:e.props.region,key:a,skill:t})}))),i.a.createElement(Me.a,{eventKey:"skill-2",title:"Skill 2"},i.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 2===e.num})).map((function(t,a){return i.a.createElement(Et,{region:e.props.region,key:a,skill:t})}))),i.a.createElement(Me.a,{eventKey:"skill-3",title:"Skill 3"},i.a.createElement("br",null),this.state.servant.skills.filter((function(e){return 3===e.num})).map((function(t,a){return i.a.createElement(Et,{region:e.props.region,key:a,skill:t})}))),i.a.createElement(Me.a,{eventKey:"nps",title:"Noble Phantasms"},i.a.createElement("br",null),this.state.servant.noblePhantasms.filter((function(e){return e.functions.length>0})).map((function(t,a){return i.a.createElement(Ut,{region:e.props.region,key:a,noblePhantasm:t})}))),i.a.createElement(Me.a,{eventKey:"passives",title:"Passives"},i.a.createElement("br",null),i.a.createElement(Le.a,null,t.classPassive.map((function(a,n){var r;return i.a.createElement(Ue.a,{xs:12,lg:(null!==(r=t.classPassive.length)&&void 0!==r?r:1)>1?6:12,key:n},i.a.createElement(kt,{region:e.props.region,skill:a}))})))),i.a.createElement(Me.a,{eventKey:"traits",title:"Traits"},i.a.createElement("br",null),i.a.createElement(Vt,{region:this.props.region,traits:this.state.servant.traits})),i.a.createElement(Me.a,{eventKey:"misc",title:"Misc"},i.a.createElement("br",null),i.a.createElement(Lt,{servant:this.state.servant})),i.a.createElement(Me.a,{eventKey:"lore",title:"Profile"},i.a.createElement("br",null),i.a.createElement(jt,{region:this.props.region,stats:t.profile.stats}),i.a.createElement("hr",null),i.a.createElement(Ye,{region:this.props.region,comments:t.profile.comments}))))}}]),a}(i.a.Component),Ht=(a(129),[At.SABER,At.ARCHER,At.LANCER,At.RIDER,At.CASTER,At.ASSASSIN,At.BERSERKER,At.EXTRA]),Bt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,servants:[],activeClassFilters:[],activeRarityFilters:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{B.servantList(this.props.region).then((function(t){e.setState({loading:!1,servants:t})}))}catch(t){this.setState({error:t})}}},{key:"isClassFilterActive",value:function(e){return-1!==this.state.activeClassFilters.indexOf(e)}},{key:"isExtra",value:function(e){return!(e===At.SABER||e===At.ARCHER||e===At.LANCER||e===At.RIDER||e===At.CASTER||e===At.ASSASSIN||e===At.BERSERKER)}},{key:"toggleClassFilter",value:function(e){var t=!1,a=this.state.activeClassFilters.filter((function(a){return a!==At.ALL&&(a!==e||(t=!0,!1))}));t||a.push(e),this.setState({activeClassFilters:a})}},{key:"toggleRarityFilter",value:function(e){-1!==this.state.activeRarityFilters.indexOf(e)?this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==At.ALL})),activeRarityFilters:this.state.activeRarityFilters.filter((function(t){return t!==e}))}):this.setState({activeClassFilters:this.state.activeClassFilters.filter((function(e){return e!==At.ALL})),activeRarityFilters:[].concat(Object(ze.a)(this.state.activeRarityFilters),[e])})}},{key:"servants",value:function(){var e=this,t=this.state.servants.slice().reverse();return this.state.activeRarityFilters.length>0&&(t=t.filter((function(t){return-1!==e.state.activeRarityFilters.indexOf(t.rarity)}))),this.state.activeClassFilters.length>0&&(t=t.filter((function(t){for(var a in e.state.activeClassFilters){var n=e.state.activeClassFilters[a];if(n===At.EXTRA&&e.isExtra(t.className))return!0;if(t.className===n)return!0}return!1}))),t}},{key:"render",value:function(){var e=this;return this.state.error?i.a.createElement(f,{error:this.state.error}):this.state.loading?i.a.createElement(z,null):i.a.createElement("div",{id:"servants"},i.a.createElement("p",{className:"text-center"},Ht.map((function(t){var a=e.isClassFilterActive(t);return i.a.createElement("span",{key:t,className:"filter",style:{opacity:a?1:.5},onClick:function(a){e.toggleClassFilter(t)}},i.a.createElement(Tt,{height:50,rarity:a?5:3,className:t}))}))),i.a.createElement("hr",null),i.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"#"),i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Class"),i.a.createElement("th",{style:{textAlign:"center",width:"1px"}},"Thumbnail"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Rarity"))),i.a.createElement("tbody",null,this.servants().map((function(t,a){var n="/".concat(e.props.region,"/servant/").concat(t.collectionNo);return i.a.createElement("tr",{key:a},i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},t.collectionNo)),i.a.createElement("td",{align:"center"},i.a.createElement(Tt,{className:t.className,rarity:t.rarity,height:50})),i.a.createElement("td",{align:"center"},i.a.createElement(m.b,{to:n},i.a.createElement($e,{type:t.type,rarity:t.rarity,location:t.face,height:50}))),i.a.createElement("td",null,i.a.createElement(m.b,{to:n},t.name)),i.a.createElement("td",null,i.a.createElement(Ge,{rarity:t.rarity})))})))))}}]),a}(i.a.Component),xt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(m.b,{to:"/".concat(this.props.region,"/craft-essence/").concat(this.props.craftEssence.id)},this.props.craftEssence.name," ",i.a.createElement(v.a,{icon:_.c}))}}]),a}(i.a.Component),Wt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.skill.functions.map((function(t,a){var n=_e(t,e.props.level);return i.a.createElement("div",{key:a},i.a.createElement("h3",null,"Effect #",a+1),i.a.createElement("p",null,i.a.createElement(Re,{region:e.props.region,func:t,level:e.props.level})),i.a.createElement(Le.a,null,i.a.createElement(Ue.a,{xs:12,md:6},i.a.createElement("h5",null,"Function"),i.a.createElement(tt,{region:e.props.region,func:t})),i.a.createElement(Ue.a,{xs:12,md:6},i.a.createElement("h5",null,"Values"),i.a.createElement(Ot,{dataVal:null!==n&&void 0!==n?n:{}}))),i.a.createElement("hr",null))})))}}]),a}(i.a.Component),Kt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!0,levels:1,level:1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadSkill()}},{key:"loadSkill",value:function(){var e=Object(U.a)(L.a.mark((function e(){var t,a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.skill(this.props.region,this.props.id);case 3:n=e.sent,this.setState({loading:!1,skill:n,levels:null!==(t=null===(a=n.functions[0].svals)||void 0===a?void 0:a.length)&&void 0!==t?t:1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"changeLevel",value:function(e){this.setState({level:e})}},{key:"render",value:function(){var e=this;if(this.state.error)return i.a.createElement(f,{error:this.state.error});if(this.state.loading||!this.state.skill)return i.a.createElement(z,null);var t=this.state.skill;return i.a.createElement("div",null,i.a.createElement("h1",null,i.a.createElement(x,{location:t.icon,height:48}),"\xa0",t.name),i.a.createElement("br",null),i.a.createElement(K,{data:{Raw:i.a.createElement(ee,{data:t}),ID:t.id,Name:t.name,Detail:t.detail,Owner:i.a.createElement("div",null,t.reverseServants.filter((function(e){return e.type===ft.NORMAL||e.type===ft.HEROINE||e.type===ft.SERVANT_EQUIP})).map((function(t,a){return t.type===ft.SERVANT_EQUIP?i.a.createElement("div",{key:a},i.a.createElement(xt,{region:e.props.region,craftEssence:t})):i.a.createElement("div",{key:a},i.a.createElement(Nt,{region:e.props.region,servant:t,iconHeight:24}))})))}}),i.a.createElement("br",null),i.a.createElement(D.a,{inline:!0,style:{justifyContent:"center"}},i.a.createElement(D.a.Control,{as:"select",value:this.state.level,onChange:function(t){return e.changeLevel(parseInt(t.target.value))}},Array.from(Array(this.state.levels).keys()).map((function(e){return e+1})).map((function(e){return i.a.createElement("option",{key:e,value:e},"LEVEL ",e)})))),i.a.createElement("br",null),i.a.createElement(Wt,{region:this.props.region,skill:t,level:this.state.level}))}}]),a}(i.a.Component),Yt=function(e){Object(u.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={language:S.language()},S.onUpdate((function(){return n.updateSettings()})),n}return Object(o.a)(a,[{key:"updateSettings",value:function(){this.setState({language:S.language()})}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(b,null),i.a.createElement("br",null),i.a.createElement(p.a,{key:"".concat(this.state.language)},i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/buff/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(be,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/craft-essence/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(Xe,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/func/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(at,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/mystic-code/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(mt,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/noble-phantasm/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(Ct,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/quest/:id([0-9]+)/:phase([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n=e.match.params.phase,r="".concat(t,"-").concat(a,"-").concat(n);return i.a.createElement(Dt,{key:r,region:t,id:a,phase:n})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/servant/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(wt,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/skill/:id([0-9]+)",render:function(e){var t=e.match.params.region,a=e.match.params.id,n="".concat(t,"-").concat(a);return i.a.createElement(Kt,{key:n,region:t,id:a})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/craft-essences",render:function(e){var t=e.match.params.region;return i.a.createElement(Ze,{key:t,region:t})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/mystic-codes",render:function(e){var t=e.match.params.region;return i.a.createElement(ht,{key:t,region:t})}}),i.a.createElement(h.a,{exact:!0,path:"/:region(JP|NA)/servants",render:function(e){var t=e.match.params.region;return i.a.createElement(Bt,{key:t,region:t})}}),i.a.createElement(h.a,{path:"/",exact:!0,render:function(e){return i.a.createElement(nt,null)}}),i.a.createElement(h.a,{path:"*",exact:!0,render:function(e){return i.a.createElement(f,null)}}))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(130)}},[[90,1,2]]]);
//# sourceMappingURL=main.3aa8ec1c.chunk.js.map