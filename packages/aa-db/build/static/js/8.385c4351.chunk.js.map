{"version":3,"sources":["Api/Data/Func.tsx","Component/DataTable.tsx","Component/RawDataViewer.tsx","Component/FaceIcon.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","Helper/FuncHelper.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Api/Data/Card.tsx","Descriptor/SkillDescriptor.tsx","Descriptor/RarityDescriptor.tsx","../node_modules/react-bootstrap/esm/TabContainer.js","../node_modules/react-bootstrap/esm/TabContent.js","../node_modules/react-bootstrap/esm/TabPane.js","Descriptor/QuestDescriptor.tsx","Api/Data/ClassName.tsx","Descriptor/Func/FuncDescriptorSections.tsx","Descriptor/Func/handleAmountSection.tsx","Descriptor/FuncDescriptor.tsx","Descriptor/Func/handleTeamSection.tsx","Descriptor/Func/handleChanceSection.tsx","Descriptor/Func/handleAffectsSection.tsx","Descriptor/Func/handleDurationSection.tsx","Descriptor/Func/handleScalingSection.tsx","Descriptor/SkillReferenceDescriptor.tsx","Component/ClassIcon.tsx","Descriptor/FuncValueDescriptor.tsx","Descriptor/BuffValueDescriptor.tsx","Component/CardType.tsx","Breakdown/AdditionalEffectBreakdown.tsx","Breakdown/ScriptBreakdown.tsx","Breakdown/EffectBreakdownLines.tsx","Breakdown/EffectBreakdown.tsx","Component/SearchableSelect.tsx","Breakdown/SkillBreakdown.tsx","../node_modules/react-bootstrap/esm/Row.js","../node_modules/prop-types-extra/lib/isRequiredForA11y.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Descriptor/Func/handleActionSection.tsx","Descriptor/Func/handleTargetSection.tsx","Descriptor/CraftEssenceDescriptor.tsx","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/Tab.js","Descriptor/NoblePhantasmDescriptor.tsx","Api/Data/Profile.tsx","Descriptor/ProfileConditionDescriptor.tsx","Page/Servant/ServantProfileComments.tsx","../node_modules/react-bootstrap/esm/ElementChildren.js","../node_modules/react-bootstrap/esm/Tabs.js","Api/Data/Item.tsx","Component/CommandCard.tsx","Breakdown/NoblePhantasmBreakdown.tsx","Page/Servant/ServantAssets.tsx","Descriptor/CraftEssenceReferenceDescriptor.tsx","Page/Servant/ServantMainData.tsx","Component/ItemIcon.tsx","Page/Servant/ServantMaterialBreakdown.tsx","Page/Servant/ServantMiscData.tsx","Page/Servant/ServantPicker.tsx","Page/Servant/ServantPortrait.tsx","Page/Servant/ServantProfileStats.tsx","Page/Servant/ServantStatGrowth.tsx","Page/Servant/ServantTraits.tsx","Page/ServantPage.tsx"],"names":["FuncType","FuncTargetType","FuncTargetTeam","DataValField","DataTable","this","props","header","className","bordered","hover","Object","keys","data","map","key","index","dumpValue","value","element","undefined","type","JSON","stringify","React","Component","RawDataViewer","state","showing","setState","axios","get","error","style","cursor","onClick","show","icon","faSearchPlus","size","onHide","hide","Header","closeButton","Title","Body","src","collapsed","enableClipboard","clipboard","copy","FaceIcon","alt","location","height","_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","hasChangingDataVals","vals","previous","hasUniqueValues","values","Set","describeMutators","region","func","dataVals","getDataValList","staticVals","getStaticFieldValues","getMutatingFieldValues","fields","filter","field","val","getMutatingFieldNames","dependingVals","DependFuncVals","dependingMutatingValues","staticValues","mutatingVals","x","DependFuncId","mutatingVal","staticDataVal","dataVal","funcUpdatesByLevel","getLevelDataValList","funcUpdatesByOvercharge","getOverchargeDataValList","isLevel","isOvercharge","getTargetVersionValues","push","getMixedDataValList","getFollowerDataValList","followerVals","svals","getRelatedSkillIds","funcType","ADD_STATE","ADD_STATE_SHORT","buff","buffs","BuffType","ATTACK_FUNCTION","COMMANDATTACK_FUNCTION","COMMANDATTACK_BEFORE_FUNCTION","COMMANDCODEATTACK_FUNCTION","DAMAGE_FUNCTION","DEAD_FUNCTION","DELAY_FUNCTION","SELFTURNEND_FUNCTION","Value","NPATTACK_PREV_BUFF","SkillID","getStaticFieldNames","hasDependingVals","dependingStaticValues","getTargetFollowerVersionValues","level","overcharge","svals2","svals3","svals4","svals5","hasFollowerDataVals","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","Card","SkillDescriptor","to","skill","id","iconHeight","assetMap","Map","RarityDescriptor","has","rarity","TabContainer","_useUncontrolled","useUncontrolled","activeKey","generateCustomChildId","generateChildId","onSelect","transition","mountOnEnter","unmountOnExit","children","useMemo","tabContext","getControlledId","getControllerId","createElement","TabContext","Provider","SelectableContext","TabContent","forwardRef","_ref","ref","bsPrefix","_ref$as","as","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","_extends","classNames","TabPane","_useTabContext","context","useContext","rest","shouldTransition","makeEventKey","eventKey","active","Fade","useTabContext","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Transition","_useTabContext$as","prefix","pane","role","in","displayName","QuestDescriptor","Math","floor","questId","questPhase","faShare","ClassName","FuncDescriptorSection","preposition","parts","FuncDescriptorSections","team","chance","action","affects","amount","target","duration","scaling","sections","support","section","ADD_INDIVIDUALITY","TraitDescriptor","trait","CARD_RESET","DAMAGE_NP_INDIVIDUAL_SUM","FuncValueDescriptor","hideRate","ABSORB_NPTURN","GAIN_HP_FROM_TARGETS","GAIN_NP_FROM_TARGETS","AddCount","EVENT_DROP_UP","EXP_UP","QP_UP","USER_EQUIP_EXP_UP","RateCount","QP_DROP_UP","SERVANT_FRIENDSHIP_UP","SkillReferenceDescriptor","BuffValueDescriptor","Correction","FuncDescriptor","getDataVal","followerDataVal","getFollowerDataVal","funcTargetTeam","PLAYER","ENEMY","handleTeamSection","Rate","ENEMY_ENCOUNT_COPY_RATE_UP","ENEMY_ENCOUNT_RATE_UP","NONE","asPercent","handleChanceSection","handleActionSection","DAMAGE_NP_HPRATIO_LOW","Target","DAMAGE_NP_INDIVIDUAL","DAMAGE_NP_STATE_INDIVIDUAL_FIX","TargetList","TargetRarityList","DAMAGE_NP_RARE","split","DAMAGE_NP_PIERCE","traits","v","parseInt","mergeElements","ParamAddMaxCount","Individuality","Number","EventId","funcquestTvals","functvals","forEach","handleAffectsSection","handleAmountSection","handleTargetSection","Count","Turn","countDesc","turnDesc","handleDurationSection","handleScalingSection","concat","funcId","joinElements","Fragment","Connection","route","classTypes","classIds","SABER","ARCHER","LANCER","RIDER","CASTER","ASSASSIN","BERSERKER","SHIELDER","RULER","ALTER_EGO","AVENGER","MOON_CANCER","FOREIGNER","GRAND_CASTER","BEAST_I","BEAST_II","BEAST_IIIL","BEAST_IIIR","BEAST_UNKNOWN","ALL","EXTRA","ClassIcon","classId","npAbsorbParts","Value2","DAMAGE_NP","GAIN_HP_PER","GAIN_NP","GAIN_NP_BUFF_INDIVIDUAL_SUM","LOSS_NP","UP_ATK","DOWN_ATK","UP_COMMANDALL","DOWN_COMMANDALL","UP_CRITICALDAMAGE","DOWN_CRITICALDAMAGE","UP_CRITICALPOINT","DOWN_CRITICALPOINT","UP_CRITICALRATE","DOWN_CRITICALRATE","UP_CRITICAL_RATE_DAMAGE_TAKEN","DOWN_CRITICAL_RATE_DAMAGE_TAKEN","UP_DAMAGE","DOWN_DAMAGE","UP_DAMAGEDROPNP","DOWN_DAMAGEDROPNP","UP_DEFENCE","DOWN_DEFENCE","UP_DEFENCECOMMANDALL","DOWN_DEFENCECOMMANDALL","UP_DROPNP","DOWN_DROPNP","UP_FUNC_HP_REDUCE","DOWN_FUNC_HP_REDUCE","UP_HATE","UP_NONRESIST_INSTANTDEATH","UP_NPDAMAGE","DOWN_NPDAMAGE","UP_SPECIALDEFENCE","DOWN_SPECIALDEFENCE","UP_STARWEIGHT","DOWN_STARWEIGHT","UP_TOLERANCE","DOWN_TOLERANCE","UP_TOLERANCE_SUBSTATE","DOWN_TOLERANCE_SUBSTATE","REGAIN_NP","SkillLV","FIELD_INDIVIDUALITY","supportedCardTypes","ARTS","BUSTER","QUICK","CardType","indexOf","card","txt","join","AdditionalEffectBreakdown","skillId","funcs","functions","levels","relatedSkillId","ScriptBreakdown","detail","fill","_","scripts","HP_PER_LOWER","displayRequirement","HP_VAL_HIGHER","NP_HIGHER","STAR_HIGHER","hpPerLowerRequirements","hpRequirements","npRequirements","starRequirements","EffectBreakdownLines","cooldowns","cooldown","gain","buster","arts","quick","extra","np","defence","mutatingDescriptions","relatedSkillIds","description","EffectBreakdown","Table","responsive","SearchableSelect","createRef","selected","focused","results","current","clear","labels","disableLabelStyling","label","getDescription","hideAll","getOption","options","onChange","getOptions","placeholder","ignoreDiacritics","maxResults","onBlur","resetInput","selectOption","onFocus","hideReset","e","preventDefault","clearSelection","onMouseDown","faTimes","SkillBreakdown","condQuestId","condQuestPhase","variant","handleNewLine","coolDown","script","DEVICE_SIZES","Row","noGutters","sizePrefix","classes","brkPoint","cols","propValue","infix","apply","defaultProps","defineProperty","exports","default","validator","propName","componentName","propFullName","componentNameSafe","propFullNameSafe","Error","_len","arguments","args","_key","module","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","done","err","funcDescriptions","DELAY_NPTURN","EXTEND_SKILL","FIX_COMMANDCARD","FORCE_INSTANT_DEATH","GAIN_HP","GAIN_STAR","HASTEN_NPTURN","INSTANT_DEATH","LOSS_HP","LOSS_HP_SAFE","LOSS_STAR","REPLACE_MEMBER","SHORTEN_SKILL","SUB_STATE","traitVals","handleChargeNpPerTraitActionSection","handleCleanseActionSection","handleBuffActionSection","targetDescriptions","SELF","PT_ONE","PT_ALL","ENEMY_ALL","PT_FULL","ENEMY_FULL","PT_OTHER","PT_ONE_OTHER","PT_RANDOM","ENEMY_OTHER","ENEMY_RANDOM","PT_OTHER_FULL","ENEMY_OTHER_FULL","PTSELECT_ONE_SUB","PTSELECT_SUB","PT_ONE_ANOTHER_RANDOM","PT_SELF_ANOTHER_RANDOM","ENEMY_ONE_ANOTHER_RANDOM","PT_SELF_ANOTHER_FIRST","COMMAND_TYPE_SELF_TREASURE_DEVICE","targetType","funcTargetType","CraftEssenceDescriptor","craftEssence","collectionNo","extraAssets","faces","equip","closeLabel","controllables","Alert","uncontrolledProps","onClose","dismissible","handleClose","useEventCallback","alert","CloseButton","DivStyledAsH4","divWithClassName","Link","createWithBsPrefix","SafeAnchor","Heading","Tab","_React$Component","_inheritsLoose","render","Container","Content","Pane","NoblePhantasmDescriptor","noblePhantasm","CommentConditionType","ProfileConditionDescriptor","comment","condition","condMessage","condType","QUEST_CLEAR","condValues","condValue2","SVT_FRIENDSHIP","ServantProfileComments","comments","Children","child","isValidElement","getDefaultActiveKey","defaultActiveKey","renderTab","_child$props","title","disabled","tabClassName","NavItem","NavLink","Tabs","_useUncontrolled$acti","controlledProps","Nav","childProps","ItemType","ItemBackgroundType","CommandCard","assetType","assetId","servant","commands","asset","pop","commandBundle","ascensionMap","ascension","assets","firstMap","shift","bg","portrait","getPortrait","npText","npTextBottom","NoblePhantasmBreakdown","Col","lg","npCommandCard","xs","npDistribution","hit","npGain","ServantAssets","assetBundle","flattenAssetMap","href","rel","maxWidth","displayAssets","CraftEssenceReferenceDescriptor","ServantMainData","cost","attribute","formatNumber","hpBase","hpMax","atkBase","atkMax","cards","bondEquip","frameBgMap","ZERO","BRONZE","SILVER","GOLD","QUEST_CLEAR_QP_REWARD","ItemIcon","quantity","int","quantityHeight","fontSize","item","background","getQuantity","qpItem","QP","ServantMaterialBreakdown","counts","materials","items","max","count","getMaxMaterialCount","populateRemainingCells","verticalAlign","qp","itemAndQuantity","buffIconPath","deathChanceIcon","hitCountIcon","starGenIcon","showHits","hits","ServantMiscData","md","BuffIcon","hitsDistribution","starAbsorb","starGen","instantDeathChance","hitsColumn","miscColumn","ServantPicker","history","servants","reverse","servantLabels","padStart","Form","Group","Label","changeServant","withRouter","ServantPortrait","charaGraph","assetKey","assetArray","targetReference","find","assetReference","updatePortraitCallback","getAssetArray","getArrow","getAssetLocation","ServantProfileStats","stats","strength","endurance","agility","magic","luck","ServantStatGrowth","width","lvMax","hpGrowth","atkGrowth","ServantTraits","ServantPage","loading","loadServant","Promise","all","servantList","traitMap","ErrorStatus","Loading","span","order","updatePortrait","tab","replace","skills","num","noblePhantasms","classPassive","ascensionMaterials","skillMaterials","profile"],"mappings":"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","file":"static/js/8.385c4351.chunk.js","sourcesContent":["import Buff from \"./Buff\";\nimport NoblePhantasm from \"./NoblePhantasm\";\nimport Skill from \"./Skill\";\nimport Trait from \"./Trait\";\n\nexport enum FuncType {\n    NONE = \"none\",\n    ADD_STATE = \"addState\",\n    SUB_STATE = \"subState\",\n    DAMAGE = \"damage\",\n    DAMAGE_NP = \"damageNp\",\n    GAIN_STAR = \"gainStar\",\n    GAIN_HP = \"gainHp\",\n    GAIN_NP = \"gainNp\",\n    LOSS_NP = \"lossNp\",\n    SHORTEN_SKILL = \"shortenSkill\",\n    EXTEND_SKILL = \"extendSkill\",\n    RELEASE_STATE = \"releaseState\",\n    LOSS_HP = \"lossHp\",\n    INSTANT_DEATH = \"instantDeath\",\n    DAMAGE_NP_PIERCE = \"damageNpPierce\",\n    DAMAGE_NP_INDIVIDUAL = \"damageNpIndividual\",\n    ADD_STATE_SHORT = \"addStateShort\",\n    GAIN_HP_PER = \"gainHpPer\",\n    DAMAGE_NP_STATE_INDIVIDUAL = \"damageNpStateIndividual\",\n    HASTEN_NPTURN = \"hastenNpturn\",\n    DELAY_NPTURN = \"delayNpturn\",\n    DAMAGE_NP_HPRATIO_HIGH = \"damageNpHpratioHigh\",\n    DAMAGE_NP_HPRATIO_LOW = \"damageNpHpratioLow\",\n    CARD_RESET = \"cardReset\",\n    REPLACE_MEMBER = \"replaceMember\",\n    LOSS_HP_SAFE = \"lossHpSafe\",\n    DAMAGE_NP_COUNTER = \"damageNpCounter\",\n    DAMAGE_NP_STATE_INDIVIDUAL_FIX = \"damageNpStateIndividualFix\",\n    DAMAGE_NP_SAFE = \"damageNpSafe\",\n    CALL_SERVANT = \"callServant\",\n    PT_SHUFFLE = \"ptShuffle\",\n    LOSS_STAR = \"lossStar\",\n    CHANGE_SERVANT = \"changeServant\",\n    CHANGE_BG = \"changeBg\",\n    DAMAGE_VALUE = \"damageValue\",\n    WITHDRAW = \"withdraw\",\n    FIX_COMMANDCARD = \"fixCommandcard\",\n    SHORTEN_BUFFTURN = \"shortenBuffturn\",\n    EXTEND_BUFFTURN = \"extendBuffturn\",\n    SHORTEN_BUFFCOUNT = \"shortenBuffcount\",\n    EXTEND_BUFFCOUNT = \"extendBuffcount\",\n    CHANGE_BGM = \"changeBgm\",\n    DISPLAY_BUFFSTRING = \"displayBuffstring\",\n    RESURRECTION = \"resurrection\",\n    GAIN_NP_BUFF_INDIVIDUAL_SUM = \"gainNpBuffIndividualSum\",\n    SET_SYSTEM_ALIVE_FLAG = \"setSystemAliveFlag\",\n    FORCE_INSTANT_DEATH = \"forceInstantDeath\",\n    DAMAGE_NP_RARE = \"damageNpRare\",\n    GAIN_NP_FROM_TARGETS = \"gainNpFromTargets\",\n    GAIN_HP_FROM_TARGETS = \"gainHpFromTargets\",\n    LOSS_HP_PER = \"lossHpPer\",\n    LOSS_HP_PER_SAFE = \"lossHpPerSafe\",\n    SHORTEN_USER_EQUIP_SKILL = \"shortenUserEquipSkill\",\n    QUICK_CHANGE_BG = \"quickChangeBg\",\n    SHIFT_SERVANT = \"shiftServant\",\n    DAMAGE_NP_AND_CHECK_INDIVIDUALITY = \"damageNpAndCheckIndividuality\",\n    ABSORB_NPTURN = \"absorbNpturn\",\n    OVERWRITE_DEAD_TYPE = \"overwriteDeadType\",\n    FORCE_ALL_BUFF_NOACT = \"forceAllBuffNoact\",\n    BREAK_GAUGE_UP = \"breakGaugeUp\",\n    BREAK_GAUGE_DOWN = \"breakGaugeDown\",\n    EXP_UP = \"expUp\",\n    QP_UP = \"qpUp\",\n    DROP_UP = \"dropUp\",\n    FRIEND_POINT_UP = \"friendPointUp\",\n    EVENT_DROP_UP = \"eventDropUp\",\n    EVENT_DROP_RATE_UP = \"eventDropRateUp\",\n    EVENT_POINT_UP = \"eventPointUp\",\n    EVENT_POINT_RATE_UP = \"eventPointRateUp\",\n    TRANSFORM_SERVANT = \"transformServant\",\n    QP_DROP_UP = \"qpDropUp\",\n    SERVANT_FRIENDSHIP_UP = \"servantFriendshipUp\",\n    USER_EQUIP_EXP_UP = \"userEquipExpUp\",\n    CLASS_DROP_UP = \"classDropUp\",\n    ENEMY_ENCOUNT_COPY_RATE_UP = \"enemyEncountCopyRateUp\",\n    ENEMY_ENCOUNT_RATE_UP = \"enemyEncountRateUp\",\n    ENEMY_PROB_DOWN = \"enemyProbDown\",\n    GET_REWARD_GIFT = \"getRewardGift\",\n    SEND_SUPPORT_FRIEND_POINT = \"sendSupportFriendPoint\",\n    MOVE_POSITION = \"movePosition\",\n    REVIVAL = \"revival\",\n    DAMAGE_NP_INDIVIDUAL_SUM = \"damageNpIndividualSum\",\n}\n\nexport enum FuncTargetType {\n    SELF = \"self\",\n    PT_ONE = \"ptOne\",\n    PT_ANOTHER = \"ptAnother\",\n    PT_ALL = \"ptAll\",\n    ENEMY = \"enemy\",\n    ENEMY_ANOTHER = \"enemyAnother\",\n    ENEMY_ALL = \"enemyAll\",\n    PT_FULL = \"ptFull\",\n    ENEMY_FULL = \"enemyFull\",\n    PT_OTHER = \"ptOther\",\n    PT_ONE_OTHER = \"ptOneOther\",\n    PT_RANDOM = \"ptRandom\",\n    ENEMY_OTHER = \"enemyOther\",\n    ENEMY_RANDOM = \"enemyRandom\",\n    PT_OTHER_FULL = \"ptOtherFull\",\n    ENEMY_OTHER_FULL = \"enemyOtherFull\",\n    PTSELECT_ONE_SUB = \"ptselectOneSub\",\n    PTSELECT_SUB = \"ptselectSub\",\n    PT_ONE_ANOTHER_RANDOM = \"ptOneAnotherRandom\",\n    PT_SELF_ANOTHER_RANDOM = \"ptSelfAnotherRandom\",\n    ENEMY_ONE_ANOTHER_RANDOM = \"enemyOneAnotherRandom\",\n    PT_SELF_ANOTHER_FIRST = \"ptSelfAnotherFirst\",\n    PT_SELF_BEFORE = \"ptSelfBefore\",\n    PT_SELF_AFTER = \"ptSelfAfter\",\n    PT_SELF_ANOTHER_LAST = \"ptSelfAnotherLast\",\n    COMMAND_TYPE_SELF_TREASURE_DEVICE = \"commandTypeSelfTreasureDevice\",\n}\n\nexport enum FuncTargetTeam {\n    PLAYER = \"player\",\n    ENEMY = \"enemy\",\n    PLAYER_AND_ENEMY = \"playerAndEnemy\",\n}\n\nexport enum DataValField {\n    RATE = \"Rate\",\n    TURN = \"Turn\",\n    COUNT = \"Count\",\n    VALUE = \"Value\",\n    VALUE2 = \"Value2\",\n    USE_RATE = \"UseRate\",\n    TARGET = \"Target\",\n    CORRECTION = \"Correction\",\n    PARAM_ADD = \"ParamAdd\",\n    PARAM_MAX = \"ParamMax\",\n    HIDE_MISS = \"HideMiss\",\n    ON_FIELD = \"OnField\",\n    HIDE_NO_EFFECT = \"HideNoEffect\",\n    UNAFFECTED = \"Unaffected\",\n    SHOW_STATE = \"ShowState\",\n    AURA_EFFECT_ID = \"AuraEffectId\",\n    ACT_SET = \"ActSet\",\n    ACT_SET_WEIGHT = \"ActSetWeight\",\n    SHOW_QUEST_NO_EFFECT = \"ShowQuestNoEffect\",\n    CHECK_DEAD = \"CheckDead\",\n    RATIO_HP_HIGH = \"RatioHPHigh\",\n    RATIO_HP_LOW = \"RatioHPLow\",\n    SET_PASSIVE_FRAME = \"SetPassiveFrame\",\n    PROC_PASSIVE = \"ProcPassive\",\n    PROC_ACTIVE = \"ProcActive\",\n    HIDE_PARAM = \"HideParam\",\n    SKILL_ID = \"SkillID\",\n    SKILL_LV = \"SkillLV\",\n    SHOW_CARD_ONLY = \"ShowCardOnly\",\n    EFFECT_SUMMON = \"EffectSummon\",\n    RATIO_HP_RANGE_HIGH = \"RatioHPRangeHigh\",\n    RATIO_HP_RANGE_LOW = \"RatioHPRangeLow\",\n    TARGET_LIST = \"TargetList\",\n    OPPONENT_ONLY = \"OpponentOnly\",\n    STATUS_EFFECT_ID = \"StatusEffectId\",\n    END_BATTLE = \"EndBattle\",\n    LOSE_BATTLE = \"LoseBattle\",\n    ADD_INDIVIDUALTY = \"AddIndividualty\",\n    ADD_LINKAGE_TARGET_INDIVIDUALTY = \"AddLinkageTargetIndividualty\",\n    SAME_BUFF_LIMIT_TARGET_INDIVIDUALITY = \"SameBuffLimitTargetIndividuality\",\n    SAME_BUFF_LIMIT_NUM = \"SameBuffLimitNum\",\n    CHECK_DUPLICATE = \"CheckDuplicate\",\n    ON_FIELD_COUNT = \"OnFieldCount\",\n    TARGET_RARITY_LIST = \"TargetRarityList\",\n    DEPEND_FUNC_ID = \"DependFuncId\",\n    INVALID_HIDE = \"InvalidHide\",\n    OUT_ENEMY_NPC_ID = \"OutEnemyNpcId\",\n    IN_ENEMY_NPC_ID = \"InEnemyNpcId\",\n    OUT_ENEMY_POSITION = \"OutEnemyPosition\",\n    IGNORE_INDIVIDUALITY = \"IgnoreIndividuality\",\n    STAR_HIGHER = \"StarHigher\",\n    CHANGE_TD_COMMAND_TYPE = \"ChangeTDCommandType\",\n    SHIFT_NPC_ID = \"ShiftNpcId\",\n    DISPLAY_LAST_FUNC_INVALID_TYPE = \"DisplayLastFuncInvalidType\",\n    AND_CHECK_INDIVIDUALITY_LIST = \"AndCheckIndividualityList\",\n    WIN_BATTLE_NOT_RELATED_SURVIVAL_STATUS = \"WinBattleNotRelatedSurvivalStatus\",\n    FORCE_SELF_INSTANT_DEATH = \"ForceSelfInstantDeath\",\n    CHANGE_MAX_BREAK_GAUGE = \"ChangeMaxBreakGauge\",\n    PARAM_ADD_MAX_VALUE = \"ParamAddMaxValue\",\n    PARAM_ADD_MAX_COUNT = \"ParamAddMaxCount\",\n    LOSS_HP_NO_CHANGE_DAMAGE = \"LossHpNoChangeDamage\",\n    INCLUDE_PASSIVE_INDIVIDUALITY = \"IncludePassiveIndividuality\",\n    INDIVIDUALITY = \"Individuality\",\n    EVENT_ID = \"EventId\",\n    ADD_COUNT = \"AddCount\",\n    RATE_COUNT = \"RateCount\",\n}\n\ntype BaseDataVal = { [key in DataValField]?: number | string; };\n\nexport type DataVal = (\n    BaseDataVal\n    & { FriendshipTarget?: FuncTargetType, DependFuncVals?: BaseDataVal; }\n    );\n\nexport default interface Func {\n    funcId: number;\n    funcType: FuncType;\n    funcTargetType: FuncTargetType;\n    funcTargetTeam: FuncTargetTeam;\n    funcPopupText: string;\n    funcPopupIcon?: string;\n    functvals: Trait[];\n    funcquestTvals: number[];\n    traitVals?: Trait[];\n    buffs: Buff[];\n    svals?: DataVal[];\n    svals2?: DataVal[];\n    svals3?: DataVal[];\n    svals4?: DataVal[];\n    svals5?: DataVal[];\n    followerVals?: DataVal[];\n    reverseSkills: Skill[];\n    reverseTds: NoblePhantasm[];\n}\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\n\nimport \"./DataTable.css\";\nimport {Renderable} from \"../Helper/OutputHelper\";\n\ninterface IProp {\n    header?: JSX.Element | string,\n    data: {\n        [key: string]: Renderable | object;\n    }\n}\n\nclass DataTable extends React.Component<IProp> {\n    private static dumpValue(value: Renderable | object): Renderable {\n        if (typeof value === \"object\") {\n            const element = value as JSX.Element;\n            if (element.key !== undefined && element.props !== undefined && element.type !== undefined) {\n                return element;\n            } else {\n                return JSON.stringify(value);\n            }\n        }\n\n        return value;\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.header ? (\n                    <div className={'data-header'}>\n                        {this.props.header}\n                    </div>\n                ) : null}\n\n                <Table bordered hover className={'data-table'}>\n                    <tbody>\n                    {Object.keys(this.props.data).map((key, index) => {\n                        return (\n                            <tr key={index}>\n                                <th>{key}</th>\n                                <td>{DataTable.dumpValue(this.props.data[key])}</td>\n                            </tr>\n                        );\n                    })}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default DataTable;\n","import {faSearchPlus} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport copy from 'copy-to-clipboard';\nimport React from \"react\";\nimport {Modal} from \"react-bootstrap\";\nimport ReactJson from \"react-json-view\";\n\ninterface IProps {\n    data: object | string;\n}\n\ninterface IState {\n    data?: object;\n    showing: boolean;\n}\n\nclass RawDataViewer extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            showing: false\n        };\n    }\n\n    hide() {\n        this.setState({showing: false});\n    }\n\n    async show() {\n        if (this.state.data) {\n            this.setState({showing: true});\n        } else if (typeof this.props.data === \"object\") {\n            this.setState({showing: true, data: this.props.data});\n        } else {\n            try {\n                this.setState({\n                    showing: true,\n                    data: (await axios.get(this.props.data)).data,\n                });\n            } catch (e) {\n                this.setState({\n                    showing: true,\n                    data: {error: e}\n                });\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <span className={'text-primary'}\n                      style={{cursor: \"pointer\"}}\n                      onClick={() => {\n                          this.show();\n                      }}>\n                    View\n                    &nbsp;\n                    <FontAwesomeIcon icon={faSearchPlus}/>\n                </span>\n\n                <Modal size={\"lg\"} show={this.state.showing} onHide={() => this.hide()}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Raw Data Viewer</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        {this.state.data ? (\n                            <ReactJson src={this.state.data} collapsed={1}\n                                       enableClipboard={clipboard => {\n                                           if (typeof clipboard.src === \"string\") {\n                                               copy(clipboard.src);\n                                           }\n                                       }}/>\n                        ) : null}\n                    </Modal.Body>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default RawDataViewer;\n","import React from \"react\";\nimport EntityType from \"../Api/Data/EntityType\";\n\ninterface IProps {\n    type?: EntityType;\n    rarity?: number;\n    location: string;\n    height?: number | string;\n}\n\nclass FaceIcon extends React.Component<IProps> {\n\n    render() {\n        return (\n            <img alt={''} src={this.props.location}\n                 style={{height: this.props.height ?? '2em'}}/>\n        );\n    }\n\n}\n\nexport default FaceIcon;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import React from \"react\";\nimport {BuffType} from \"../Api/Data/Buff\";\nimport Func, {DataVal, DataValField, FuncType} from \"../Api/Data/Func\";\nimport Region from \"../Api/Data/Region\";\nimport FuncValueDescriptor from \"../Descriptor/FuncValueDescriptor\";\nimport {Renderable} from \"./OutputHelper\";\n\nconst hasChangingDataVals = function (vals: DataVal[]): boolean {\n    if (!vals.length)\n        return false;\n\n    let previous = vals[0];\n    for (let i = 1; i < vals.length; i++) {\n        if (JSON.stringify(previous) !== JSON.stringify(vals[i]))\n            return true;\n\n        previous = vals[i];\n    }\n\n    return false;\n};\n\nconst hasUniqueValues = function (values: (number | string | undefined)[]): boolean {\n    return new Set(values).size > 1;\n};\n\nexport function describeMutators(region: Region, func: Func): Renderable[] {\n    const dataVals = getDataValList(func),\n        staticVals = getStaticFieldValues(dataVals),\n        mutatingVals = getMutatingFieldValues(dataVals);\n\n    return mutatingVals\n        .map(mutatingVal => <FuncValueDescriptor region={region} func={func} staticDataVal={staticVals}\n                                                 dataVal={mutatingVal}/>);\n}\n\nexport function funcUpdatesByLevel(func: Func): boolean {\n    return hasChangingDataVals(getLevelDataValList(func));\n}\n\nexport function funcUpdatesByOvercharge(func: Func): boolean {\n    return hasChangingDataVals(getOverchargeDataValList(func));\n}\n\nexport function getDataValList(func: Func): DataVal[] {\n    const isLevel = funcUpdatesByLevel(func),\n        isOvercharge = funcUpdatesByOvercharge(func);\n\n    return isLevel && isOvercharge\n        ? getMixedDataValList(func)\n        : (isOvercharge ? getOverchargeDataValList(func) : getLevelDataValList(func));\n}\n\nexport function getFollowerDataValList(func: Func): DataVal[] {\n    return func.followerVals ?? [];\n}\n\nexport function getLevelDataValList(func: Func): DataVal[] {\n    return func.svals ?? [];\n}\n\nexport function getMixedDataValList(func: Func): DataVal[] {\n    const dataVals = [];\n\n    for (let i = 1; i <= 5; i++) {\n        let dataVal = getTargetVersionValues(func, i, i);\n        if (dataVal !== undefined)\n            dataVals.push(dataVal);\n    }\n\n    return dataVals;\n}\n\nexport function getMutatingFieldNames(vals: DataVal[]): DataValField[] {\n    return Object.values(DataValField).filter(field => {\n        const values = vals.map(val => val[field]);\n\n        return hasUniqueValues(values);\n    });\n}\n\nexport function getMutatingFieldValues(vals: DataVal[]): DataVal[] {\n    if (!vals.length)\n        return [];\n\n    const fields = getMutatingFieldNames(vals),\n        hasDependingVals = vals.filter(val => val.DependFuncVals !== undefined).length > 0,\n        dependingVals: (DataVal[] | undefined) = (\n            hasDependingVals\n                ? vals.map(val => (val.DependFuncVals ?? {}) as DataVal)\n                : undefined\n        ),\n        dependingMutatingValues = dependingVals ? getMutatingFieldValues(dependingVals) : [],\n        staticValues = getStaticFieldValues(vals);\n\n    return vals.map((val, index) => {\n        const mutatingVals: DataVal = {};\n\n        for (let x in fields) {\n            mutatingVals[fields[x]] = val[fields[x]];\n        }\n\n        if (staticValues.DependFuncId && dependingMutatingValues[index]) {\n            mutatingVals.DependFuncId = staticValues.DependFuncId;\n            mutatingVals.DependFuncVals = dependingMutatingValues[index];\n        }\n\n        return mutatingVals;\n    });\n}\n\nexport function getOverchargeDataValList(func: Func): DataVal[] {\n    const dataVals = [];\n\n    for (let i = 1; i <= 5; i++) {\n        let dataVal = getTargetVersionValues(func, 1, i);\n        if (dataVal !== undefined)\n            dataVals.push(dataVal);\n    }\n\n    return dataVals;\n}\n\nexport function getRelatedSkillIds(func: Func): number[] {\n    if (func.funcType !== FuncType.ADD_STATE && func.funcType !== FuncType.ADD_STATE_SHORT)\n        return [];\n\n    const buff = func.buffs[0];\n    if (\n        buff.type === BuffType.ATTACK_FUNCTION\n        || buff.type === BuffType.COMMANDATTACK_FUNCTION\n        || buff.type === BuffType.COMMANDATTACK_BEFORE_FUNCTION\n        || buff.type === BuffType.COMMANDCODEATTACK_FUNCTION\n        || buff.type === BuffType.DAMAGE_FUNCTION\n        || buff.type === BuffType.DEAD_FUNCTION\n        || buff.type === BuffType.DELAY_FUNCTION\n        || buff.type === BuffType.SELFTURNEND_FUNCTION\n    ) {\n        const dataVals = getDataValList(func),\n            dataVal = dataVals[0];\n\n        return typeof dataVal.Value === \"number\" ? [dataVal.Value] : [];\n    }\n\n    if (buff.type === BuffType.NPATTACK_PREV_BUFF) {\n        const dataVals = getDataValList(func),\n            dataVal = dataVals[0];\n\n        return typeof dataVal.SkillID === \"number\" ? [dataVal.SkillID] : [];\n    }\n\n    return [];\n}\n\nexport function getStaticFieldNames(vals: DataVal[]): DataValField[] {\n    return Object.values(DataValField).filter(field => {\n        const values = vals.map(val => val[field]);\n\n        return !hasUniqueValues(values);\n    });\n}\n\nexport function getStaticFieldValues(vals: DataVal[]): DataVal {\n    if (!vals.length)\n        return {};\n\n    const fields = getStaticFieldNames(vals),\n        staticVals: DataVal = {},\n        hasDependingVals = vals.filter(val => val.DependFuncVals !== undefined).length > 0,\n        dependingVals: (DataVal[] | undefined) = (\n            hasDependingVals\n                ? vals.map(val => (val.DependFuncVals ?? {}) as DataVal)\n                : undefined\n        ),\n        dependingStaticValues = dependingVals ? getStaticFieldValues(dependingVals) : undefined;\n\n    for (let x in fields) {\n        staticVals[fields[x]] = vals[0][fields[x]];\n    }\n\n    if (hasDependingVals)\n        staticVals.DependFuncVals = dependingStaticValues;\n\n    return staticVals;\n}\n\nexport function getTargetFollowerVersionValues(func: Func, level: number): DataVal | undefined {\n    if (func.followerVals === undefined)\n        return undefined;\n\n    return func.followerVals[level - 1];\n}\n\nexport function getTargetVersionValues(func: Func, level: number, overcharge: number = 1): DataVal | undefined {\n    if (func.svals === undefined)\n        return undefined;\n\n    let dataVals;\n\n    if (overcharge === 2 && func.svals2)\n        dataVals = func.svals2;\n    else if (overcharge === 3 && func.svals3)\n        dataVals = func.svals3;\n    else if (overcharge === 4 && func.svals4)\n        dataVals = func.svals4;\n    else if (overcharge === 5 && func.svals5)\n        dataVals = func.svals5;\n    else\n        dataVals = func.svals;\n\n    return dataVals[level - 1];\n}\n\nexport function hasFollowerDataVals(func: Func): boolean {\n    return func.followerVals !== undefined;\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","enum Card {\n    BUSTER = 'buster',\n    ARTS = 'arts',\n    QUICK = 'quick',\n    EXTRA = 'extra',\n}\n\nexport default Card;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Region from \"../Api/Data/Region\";\nimport Skill from \"../Api/Data/Skill\";\nimport BuffIcon from \"../Component/BuffIcon\";\n\ninterface IProps {\n    region: Region;\n    skill: Skill;\n    iconHeight?: number;\n}\n\nclass SkillDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <Link to={`/${this.props.region}/skill/${this.props.skill.id}`}>\n                <BuffIcon location={this.props.skill.icon} height={this.props.iconHeight}/>\n                {' '}\n                [{this.props.skill.name ? this.props.skill.name : `Skill: ${this.props.skill.id}`}]\n            </Link>\n        );\n    }\n}\n\nexport default SkillDescriptor;\n","import React from \"react\";\n\nconst assetMap = new Map<number, string>([\n    [1, './assets/star1.png'],\n    [2, './assets/star2.png'],\n    [3, './assets/star3.png'],\n    [4, './assets/star4.png'],\n    [5, './assets/star5.png'],\n]);\n\ninterface IProps {\n    rarity: number;\n    height?: number;\n}\n\nclass RarityDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <span>\n                {assetMap.has(this.props.rarity) ? (\n                    <img alt={`${this.props.rarity} star(s)`}\n                         src={assetMap.get(this.props.rarity)}\n                         style={{height: this.props.height ?? 18}}/>\n                ) : null}\n            </span>\n        );\n    }\n}\n\nexport default RarityDescriptor;\n","import React, { useMemo } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport TabContext from './TabContext';\nimport SelectableContext from './SelectableContext';\n/* eslint-disable react/no-unused-prop-types */\n\nvar TabContainer = function TabContainer(props) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      id = _useUncontrolled.id,\n      generateCustomChildId = _useUncontrolled.generateChildId,\n      onSelect = _useUncontrolled.onSelect,\n      activeKey = _useUncontrolled.activeKey,\n      transition = _useUncontrolled.transition,\n      mountOnEnter = _useUncontrolled.mountOnEnter,\n      unmountOnExit = _useUncontrolled.unmountOnExit,\n      children = _useUncontrolled.children;\n\n  var generateChildId = useMemo(function () {\n    return generateCustomChildId || function (key, type) {\n      return id ? id + \"-\" + type + \"-\" + key : null;\n    };\n  }, [id, generateCustomChildId]);\n  var tabContext = useMemo(function () {\n    return {\n      onSelect: onSelect,\n      activeKey: activeKey,\n      transition: transition,\n      mountOnEnter: mountOnEnter,\n      unmountOnExit: unmountOnExit,\n      getControlledId: function getControlledId(key) {\n        return generateChildId(key, 'tabpane');\n      },\n      getControllerId: function getControllerId(key) {\n        return generateChildId(key, 'tab');\n      }\n    };\n  }, [onSelect, activeKey, transition, mountOnEnter, unmountOnExit, generateChildId]);\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: tabContext\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: onSelect\n  }, children));\n};\n\nexport default TabContainer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar TabContent = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"as\", \"className\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'tab-content');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix)\n  }));\n});\nexport default TabContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport TabContext from './TabContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport Fade from './Fade';\n\nfunction useTabContext(props) {\n  var context = useContext(TabContext);\n  if (!context) return props;\n\n  var activeKey = context.activeKey,\n      getControlledId = context.getControlledId,\n      getControllerId = context.getControllerId,\n      rest = _objectWithoutPropertiesLoose(context, [\"activeKey\", \"getControlledId\", \"getControllerId\"]);\n\n  var shouldTransition = props.transition !== false && rest.transition !== false;\n  var key = makeEventKey(props.eventKey);\n  return _extends({}, props, {\n    active: props.active == null && key != null ? makeEventKey(activeKey) === key : props.active,\n    id: getControlledId(props.eventKey),\n    'aria-labelledby': getControllerId(props.eventKey),\n    transition: shouldTransition && (props.transition || rest.transition || Fade),\n    mountOnEnter: props.mountOnEnter != null ? props.mountOnEnter : rest.mountOnEnter,\n    unmountOnExit: props.unmountOnExit != null ? props.unmountOnExit : rest.unmountOnExit\n  });\n}\n\nvar TabPane = React.forwardRef(function (props, ref) {\n  var _useTabContext = useTabContext(props),\n      bsPrefix = _useTabContext.bsPrefix,\n      className = _useTabContext.className,\n      active = _useTabContext.active,\n      onEnter = _useTabContext.onEnter,\n      onEntering = _useTabContext.onEntering,\n      onEntered = _useTabContext.onEntered,\n      onExit = _useTabContext.onExit,\n      onExiting = _useTabContext.onExiting,\n      onExited = _useTabContext.onExited,\n      mountOnEnter = _useTabContext.mountOnEnter,\n      unmountOnExit = _useTabContext.unmountOnExit,\n      Transition = _useTabContext.transition,\n      _useTabContext$as = _useTabContext.as,\n      Component = _useTabContext$as === void 0 ? 'div' : _useTabContext$as,\n      _ = _useTabContext.eventKey,\n      rest = _objectWithoutPropertiesLoose(_useTabContext, [\"bsPrefix\", \"className\", \"active\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"mountOnEnter\", \"unmountOnExit\", \"transition\", \"as\", \"eventKey\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'tab-pane');\n  if (!active && !Transition && unmountOnExit) return null;\n  var pane = /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    role: \"tabpanel\",\n    \"aria-hidden\": !active,\n    className: classNames(className, prefix, {\n      active: active\n    })\n  }));\n  if (Transition) pane = /*#__PURE__*/React.createElement(Transition, {\n    in: active,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, pane); // We provide an empty the TabContext so `<Nav>`s in `<TabPane>`s don't\n  // conflict with the top level one.\n\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: null\n  }, pane));\n});\nTabPane.displayName = 'TabPane';\nexport default TabPane;","import {faShare} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Region from \"../Api/Data/Region\";\n\ninterface IProps {\n    region: Region;\n    questId: number;\n    questPhase: number;\n}\n\nclass QuestDescriptor extends React.Component<IProps>{\n    render() {\n        const prefix = Math.floor(this.props.questId / 1000000);\n        let type = \"\";\n\n        switch (prefix) {\n            case 91:\n                type = 'Interlude';\n                break;\n            case 94:\n                type = 'Strengthening';\n                break;\n            default:\n                type = 'Main';\n                break;\n        }\n\n        return (\n            <Link to={`/${this.props.region}/quest/${this.props.questId}/${this.props.questPhase}`}>\n                {type} Quest <FontAwesomeIcon icon={faShare} />\n            </Link>\n        );\n    }\n}\n\nexport default QuestDescriptor;\n","enum ClassName {\n    SABER = \"saber\",\n    ARCHER = \"archer\",\n    LANCER = \"lancer\",\n    RIDER = \"rider\",\n    CASTER = \"caster\",\n    ASSASSIN = \"assassin\",\n    BERSERKER = \"berserker\",\n    SHIELDER = \"shielder\",\n    RULER = \"ruler\",\n    ALTER_EGO = \"alterEgo\",\n    AVENGER = \"avenger\",\n    GRAND_CASTER = \"grandCaster\",\n    BEAST_II = \"beastII\",\n    BEAST_I = \"beastI\",\n    MOON_CANCER = \"moonCancer\",\n    BEAST_IIIR = \"beastIIIR\",\n    FOREIGNER = \"foreigner\",\n    BEAST_IIIL = \"beastIIIL\",\n    BEAST_UNKNOWN = \"beastUnknown\",\n    ALL = \"ALL\",\n    EXTRA = \"EXTRA\",\n}\n\nexport default ClassName;\n","import {Renderable} from \"../../Helper/OutputHelper\";\n\nexport class FuncDescriptorSection {\n    public showing: boolean = true;\n    public parts: Renderable[] = [];\n    public preposition?: string;\n\n    constructor(preposition?: string) {\n        this.preposition = preposition;\n    }\n}\n\nexport class FuncDescriptorSections {\n    public team = new FuncDescriptorSection();\n    public chance = new FuncDescriptorSection();\n    public action = new FuncDescriptorSection();\n    public affects = new FuncDescriptorSection();\n    public amount = new FuncDescriptorSection('of');\n    public target = new FuncDescriptorSection('to');\n    public duration = new FuncDescriptorSection();\n    public scaling = new FuncDescriptorSection();\n}\n","import React from \"react\";\nimport {BuffType} from \"../../Api/Data/Buff\";\nimport Func, {DataVal, FuncType} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport BuffValueDescriptor from \"../BuffValueDescriptor\";\nimport FuncValueDescriptor from \"../FuncValueDescriptor\";\nimport SkillReferenceDescriptor from \"../SkillReferenceDescriptor\";\nimport TraitDescriptor from \"../TraitDescriptor\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal, support?: boolean): void {\n    const section = sections.amount,\n        parts = section.parts;\n\n    if (support) {\n        parts.push('( Support only:');\n    }\n\n    if (func.buffs[0]?.type === BuffType.ADD_INDIVIDUALITY && typeof dataVal.Value === \"number\") {\n        parts.push(\n            <TraitDescriptor region={region} trait={dataVal.Value}/>\n        );\n    } else if (\n        (\n            func.buffs[0]?.type === BuffType.ATTACK_FUNCTION\n            || func.buffs[0]?.type === BuffType.COMMANDATTACK_FUNCTION\n            || func.buffs[0]?.type === BuffType.COMMANDATTACK_BEFORE_FUNCTION\n            || func.buffs[0]?.type === BuffType.COMMANDCODEATTACK_FUNCTION\n            || func.buffs[0]?.type === BuffType.DAMAGE_FUNCTION\n            || func.buffs[0]?.type === BuffType.DEAD_FUNCTION\n            || func.buffs[0]?.type === BuffType.DELAY_FUNCTION\n            || func.buffs[0]?.type === BuffType.SELFTURNEND_FUNCTION\n        )\n        && typeof dataVal.Value === \"number\"\n    ) {\n        section.preposition = undefined;\n        parts.push('that triggers');\n        parts.push(\n            <SkillReferenceDescriptor region={region} id={dataVal.Value}/>\n        );\n    } else if (func.funcType === FuncType.CARD_RESET && dataVal.Value) {\n        section.preposition = undefined;\n        parts.push(`${dataVal.Value} time${dataVal.Value > 1 ? 's' : ''}`);\n    } else if (func.funcType === FuncType.DAMAGE_NP_INDIVIDUAL_SUM) {\n        parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal} dataVal={dataVal}\n                                        hideRate={true}/>);\n    } else if (\n        (\n            func.funcType === FuncType.ABSORB_NPTURN\n            || func.funcType === FuncType.GAIN_HP_FROM_TARGETS\n            || func.funcType === FuncType.GAIN_NP_FROM_TARGETS\n        ) && dataVal.DependFuncId\n    ) {\n        if (dataVal.DependFuncVals?.Value) {\n            section.parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal}\n                                                    dataVal={dataVal} hideRate={true}/>);\n        } else {\n            section.showing = false;\n        }\n    } else if (dataVal.AddCount && (\n        func.funcType === FuncType.EVENT_DROP_UP\n        || func.funcType === FuncType.EXP_UP\n        || func.funcType === FuncType.QP_UP\n        || func.funcType === FuncType.USER_EQUIP_EXP_UP\n    )) {\n        parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal} dataVal={dataVal}/>);\n    } else if (dataVal.RateCount && (\n        func.funcType === FuncType.QP_DROP_UP\n        || func.funcType === FuncType.SERVANT_FRIENDSHIP_UP\n        || func.funcType === FuncType.USER_EQUIP_EXP_UP\n    )) {\n        parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal} dataVal={dataVal}/>);\n    } else if (func.buffs[0]?.type === BuffType.NPATTACK_PREV_BUFF) {\n        if (typeof dataVal.SkillID !== \"number\") {\n            section.showing = false;\n            return;\n        }\n\n        section.preposition = undefined;\n        parts.push('that triggers');\n        parts.push(\n            <SkillReferenceDescriptor region={region} id={dataVal.SkillID}/>\n        );\n    } else if (func.buffs[0] && dataVal.Value) {\n        parts.push(<BuffValueDescriptor region={region} buff={func.buffs[0]} dataVal={dataVal}/>);\n    } else if (dataVal.Value) {\n        parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal} dataVal={dataVal}\n                                        hideRate={true}/>);\n    } else if (!dataVal.Value && dataVal.Correction) {\n        section.preposition = 'with';\n        parts.push('bonus');\n        parts.push(<FuncValueDescriptor region={region} func={func} staticDataVal={dataVal} dataVal={dataVal}\n                                        hideRate={true}/>);\n    } else {\n        section.showing = false;\n    }\n\n    if (support) {\n        parts.push(')');\n    }\n}\n","import {faShare} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Func, {DataVal} from \"../Api/Data/Func\";\nimport Region from \"../Api/Data/Region\";\nimport {\n    getDataValList, getFollowerDataValList,\n    getStaticFieldValues,\n    getTargetFollowerVersionValues,\n    getTargetVersionValues,\n    hasFollowerDataVals\n} from \"../Helper/FuncHelper\";\nimport {joinElements, Renderable} from \"../Helper/OutputHelper\";\nimport {FuncDescriptorSections} from \"./Func/FuncDescriptorSections\";\nimport handleActionSection from \"./Func/handleActionSection\";\nimport handleAffectsSection from \"./Func/handleAffectsSection\";\nimport handleAmountSection from \"./Func/handleAmountSection\";\nimport handleChanceSection from \"./Func/handleChanceSection\";\nimport handleDurationSection from \"./Func/handleDurationSection\";\nimport handleScalingSection from \"./Func/handleScalingSection\";\nimport handleTargetSection from \"./Func/handleTargetSection\";\nimport handleTeamSection from \"./Func/handleTeamSection\";\n\ninterface IProps {\n    region: Region;\n    func: Func;\n    level?: number;\n    overcharge?: number;\n}\n\nclass FuncDescriptor extends React.Component<IProps> {\n    getDataVal(): DataVal {\n        const func = this.props.func;\n\n        if (this.props.level) {\n            return getTargetVersionValues(func, this.props.level, this.props.overcharge ?? 1) ?? {};\n        } else {\n            const dataVals = getDataValList(func);\n\n            return getStaticFieldValues(dataVals);\n        }\n    }\n\n    getFollowerDataVal(): DataVal | undefined {\n        const func = this.props.func;\n\n        if (!hasFollowerDataVals(func))\n            return undefined;\n\n        if (this.props.level) {\n            return getTargetFollowerVersionValues(func, this.props.level) ?? {};\n        } else {\n            const dataVals = getFollowerDataValList(func);\n\n            return getStaticFieldValues(dataVals);\n        }\n    }\n\n    render() {\n        const region = this.props.region,\n            func = this.props.func,\n            dataVal = this.getDataVal(),\n            followerDataVal = this.getFollowerDataVal();\n\n        const sections = new FuncDescriptorSections();\n\n        handleTeamSection(region, sections, func, dataVal);\n        handleChanceSection(region, sections, func, dataVal);\n        handleActionSection(region, sections, func, dataVal);\n        handleAffectsSection(region, sections, func, dataVal);\n        handleAmountSection(region, sections, func, dataVal);\n        if (followerDataVal) {\n            handleAmountSection(region, sections, func, followerDataVal, true);\n        }\n        handleTargetSection(region, sections, func, dataVal);\n        handleDurationSection(region, sections, func, dataVal);\n        handleScalingSection(region, sections, func, dataVal);\n\n        let parts: Renderable[] = [];\n\n        Object.values(sections).forEach(section => {\n            if (!section.showing)\n                return;\n\n            if (section.preposition)\n                parts.push(section.preposition);\n\n            parts = parts.concat(section.parts);\n        });\n\n        parts.push(\n            <Link to={`/${region}/func/${func.funcId}`}>\n                <FontAwesomeIcon icon={faShare}/>\n            </Link>\n        );\n\n        parts = joinElements(parts, ' ');\n\n        return (\n            <span>\n                {parts.map((element, index) => {\n                    return <React.Fragment key={index}>{element}</React.Fragment>;\n                })}\n            </span>\n        );\n    }\n}\n\nexport default FuncDescriptor;\n","import Func, {DataVal, FuncTargetTeam} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.team,\n        parts = section.parts;\n\n    if (func.funcTargetTeam === FuncTargetTeam.PLAYER)\n        parts.push('[Player]');\n    else if (func.funcTargetTeam === FuncTargetTeam.ENEMY)\n        parts.push('[Enemy]');\n    else\n        section.showing = false;\n}\n","import Func, {DataVal, FuncType} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {asPercent} from \"../../Helper/OutputHelper\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.chance,\n        parts = section.parts;\n\n    if (dataVal.Rate && dataVal.Rate < 0) {\n        parts.push('Guaranteed to');\n    } else if (typeof dataVal.Rate === \"number\" && dataVal.Rate !== 1000) {\n        parts.push((dataVal.Rate / 10) + '% Chance to');\n    } else if (dataVal.RateCount && (\n        func.funcType === FuncType.ENEMY_ENCOUNT_COPY_RATE_UP\n        || func.funcType === FuncType.ENEMY_ENCOUNT_RATE_UP\n    )) {\n        parts.push(asPercent(dataVal.RateCount, 1) + ' Chance per Target to');\n    } else if (!dataVal.Rate && func.funcType !== FuncType.NONE) {\n        parts.push('Chance to');\n    } else {\n        section.showing = false;\n    }\n}\n","import React from \"react\";\nimport Func, {DataVal, FuncType} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {mergeElements} from \"../../Helper/OutputHelper\";\nimport TraitDescriptor from \"../TraitDescriptor\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.affects,\n        parts = section.parts;\n\n    if (func.funcType === FuncType.DAMAGE_NP_HPRATIO_LOW) {\n        parts.push('(additional for low HP)');\n    } else if (typeof dataVal.Target === \"number\"\n        && (\n            func.funcType === FuncType.DAMAGE_NP_INDIVIDUAL\n            || func.funcType === FuncType.DAMAGE_NP_STATE_INDIVIDUAL_FIX\n        )\n    ) {\n        parts.push(\n            <span>(additional to targets with {\n                <TraitDescriptor region={region} trait={dataVal.Target}/>\n            })</span>\n        );\n    } else if (\n        (typeof dataVal.TargetList === \"number\" || typeof dataVal.TargetList === \"string\")\n        && func.funcType === FuncType.DAMAGE_NP_INDIVIDUAL_SUM\n    ) {\n        const traitIds = typeof dataVal.TargetList === \"number\"\n            ? [dataVal.TargetList]\n            : dataVal.TargetList.split('/').map(v => parseInt(v)),\n            traits = traitIds.map(id => <TraitDescriptor region={region} trait={id}/>);\n\n        parts.push(\n            <span>(bonus per trait of {mergeElements(traits, ' or ')}{\n                dataVal.ParamAddMaxCount ? `[Limit ${dataVal.ParamAddMaxCount}]` : null\n            })</span>\n        );\n    } else if (typeof dataVal.TargetRarityList === \"string\" && func.funcType === FuncType.DAMAGE_NP_RARE) {\n        parts.push(\n            <span>(bonus to {dataVal.TargetRarityList} {\n                dataVal.TargetRarityList.split('/').length > 1 ? 'rarities' : 'rarity'\n            })</span>\n        )\n    } else if (func.funcType === FuncType.DAMAGE_NP_PIERCE) {\n        parts.push('(that pierces defense)');\n    }\n\n    if (\n        func.funcType === FuncType.ENEMY_ENCOUNT_COPY_RATE_UP\n        || func.funcType === FuncType.ENEMY_ENCOUNT_RATE_UP\n        || func.funcType === FuncType.EVENT_DROP_UP\n    ) {\n        if (dataVal.Individuality) {\n            parts.push(\n                <span>with <TraitDescriptor region={region} trait={Number(dataVal.Individuality)}/></span>\n            )\n        }\n\n        if (dataVal.EventId) {\n            parts.push(\n                <span>during event <TraitDescriptor region={region} trait={Number(dataVal.EventId)}/></span>\n            )\n        }\n    }\n\n    if (func.funcquestTvals.length) {\n        parts.push('if on field');\n        parts.push(\n            mergeElements(\n                func.funcquestTvals.map(trait => <TraitDescriptor region={region} trait={trait}/>),\n                ' & '\n            )\n        );\n    }\n\n    if (func.functvals.length) {\n        parts.push('for targets');\n\n        if (func.functvals.length > 1) {\n            parts.push('all');\n        }\n\n        func.functvals.forEach((trait, index) => {\n            if (index > 0)\n                parts.push('&');\n\n            parts.push(<TraitDescriptor region={region} trait={trait}/>);\n        });\n    }\n\n    if (!parts.length) {\n        section.showing = false;\n    }\n\n}\n","import Func, {DataVal} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.duration,\n        parts = section.parts;\n\n    if (dataVal.Count && dataVal.Count > 0 && dataVal.Turn && dataVal.Turn > 0) {\n        const countDesc = dataVal.Count === 1 ? '1 Time' : `${dataVal.Count} Times`,\n            turnDesc = dataVal.Turn === 1 ? '1 Turn' : `${dataVal.Turn} Turns`;\n\n        parts.push(`(${turnDesc}, ${countDesc})`);\n    } else if (dataVal.Turn && dataVal.Turn > 0) {\n        parts.push(dataVal.Turn === 1 ? '(1 Turn)' : `(${dataVal.Turn} Turns)`);\n    } else if (dataVal.Count && dataVal.Count > 0) {\n        parts.push(dataVal.Count === 1 ? '(1 Time)' : `(${dataVal.Count} Times)`);\n    } else {\n        section.showing = false;\n    }\n}\n","import Func, {DataVal} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {funcUpdatesByLevel, funcUpdatesByOvercharge} from \"../../Helper/FuncHelper\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.scaling,\n        parts = section.parts,\n        isLevel = funcUpdatesByLevel(func),\n        isOvercharge = funcUpdatesByOvercharge(func);\n\n    if (!isLevel && !isOvercharge) {\n        section.showing = false;\n        return;\n    }\n\n    if (isLevel) {\n        parts.push('<LEVEL>');\n    }\n\n    if (isOvercharge) {\n        parts.push('<OVERCHARGE>');\n    }\n}\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Connection from \"../Api/Connection\";\nimport Region from \"../Api/Data/Region\";\nimport Skill from \"../Api/Data/Skill\";\nimport SkillDescriptor from \"./SkillDescriptor\";\n\ninterface IProps {\n    region: Region;\n    id: number;\n}\n\ninterface IState {\n    skill?: Skill;\n}\n\nclass SkillReferenceDescriptor extends React.Component<IProps, IState> {\n    constructor(props:IProps) {\n        super(props);\n\n        this.state = {};\n    }\n\n    async componentDidMount() {\n        try {\n            this.setState({\n                skill: await Connection.skill(this.props.region, this.props.id)\n            });\n        } catch (e) {\n            // do nothing\n        }\n    }\n\n    render() {\n        const route = `/${this.props.region}/skill/${this.props.id}`;\n\n        if (this.state.skill === undefined) {\n            return <Link to={route}>[Skill: {this.props.id}]</Link>;\n        }\n\n        return (\n            <SkillDescriptor region={this.props.region} skill={this.state.skill}/>\n        );\n    }\n}\n\nexport default SkillReferenceDescriptor;\n","import React from \"react\";\nimport ClassName from \"../Api/Data/ClassName\";\n\nconst classTypes = new Map<number, number>([\n    [0, 0],\n    [1, 1],\n    [2, 1],\n    [3, 2],\n    [4, 3],\n    [5, 3],\n]);\nconst unknownClassType = 3;\nconst classIds = new Map<ClassName, number>([\n    [ClassName.SABER, 1],\n    [ClassName.ARCHER, 2],\n    [ClassName.LANCER, 3],\n    [ClassName.RIDER, 4],\n    [ClassName.CASTER, 5],\n    [ClassName.ASSASSIN, 6],\n    [ClassName.BERSERKER, 7],\n    [ClassName.SHIELDER, 8],\n    [ClassName.RULER, 9],\n    [ClassName.ALTER_EGO, 10],\n    [ClassName.AVENGER, 11],\n    [ClassName.MOON_CANCER, 23],\n    [ClassName.FOREIGNER, 25],\n    [ClassName.GRAND_CASTER, 5],\n    [ClassName.BEAST_I, 20],\n    [ClassName.BEAST_II, 20],\n    [ClassName.BEAST_IIIL, 20],\n    [ClassName.BEAST_IIIR, 20],\n    [ClassName.BEAST_UNKNOWN, 20],\n\n    [ClassName.ALL, 1001],\n    [ClassName.EXTRA, 1002],\n]);\nconst unknownClassId = 12;\n\ninterface IProps {\n    className: ClassName;\n    rarity?: number;\n    height?: number;\n}\n\nclass ClassIcon extends React.Component<IProps> {\n    render() {\n        return (\n            <img alt={''} src={this.location()}\n                 style={{height: this.props.height ?? 24}}/>\n        );\n    }\n\n    private location(): string {\n        let classId = classIds.has(this.props.className) ? classIds.get(this.props.className) : unknownClassId,\n            rarity = this.props.rarity ?? 5,\n            type = classTypes.has(rarity) ? classTypes.get(rarity) : unknownClassType;\n\n        return `https://assets.atlasacademy.io/GameData/NA/ClassIcons/class${type}_${classId}.png`;\n    }\n}\n\nexport default ClassIcon;\n","import React from \"react\";\nimport {BuffType} from \"../Api/Data/Buff\";\nimport Func, {DataVal, FuncType} from \"../Api/Data/Func\";\nimport Region from \"../Api/Data/Region\";\nimport {asPercent, mergeElements, Renderable} from \"../Helper/OutputHelper\";\nimport BuffValueDescriptor from \"./BuffValueDescriptor\";\n\ninterface IProps {\n    region: Region;\n    func: Func;\n    staticDataVal: DataVal;\n    dataVal: DataVal;\n    hideRate?: boolean;\n}\n\nclass FuncValueDescriptor extends React.Component<IProps> {\n    render() {\n        const region = this.props.region,\n            func = this.props.func,\n            dataVal = this.props.dataVal,\n            parts: Renderable[] = [];\n\n        if (func.funcType === FuncType.ABSORB_NPTURN) {\n            switch (this.props.staticDataVal.DependFuncId) {\n                case 469:\n                    const npAbsorbParts = [];\n                    if (dataVal.DependFuncVals?.Value) {\n                        npAbsorbParts.push(`${asPercent(dataVal.DependFuncVals.Value, 2)}`);\n                    }\n\n                    if (typeof dataVal.DependFuncVals?.Value2 === \"number\") {\n                        npAbsorbParts.push(`${dataVal.DependFuncVals.Value2 / 100} Charge`);\n                    }\n\n                    if (npAbsorbParts.length) {\n                        parts.push(<React.Fragment>\n                            ({mergeElements(npAbsorbParts, ' => ')})\n                        </React.Fragment>);\n                    }\n                    break;\n                case 5061:\n                    if (dataVal.DependFuncVals?.Value)\n                        parts.push(dataVal.DependFuncVals.Value.toString());\n                    break;\n            }\n        }\n\n        if (func.funcType === FuncType.GAIN_HP_FROM_TARGETS) {\n            switch (this.props.staticDataVal.DependFuncId) {\n                case 711:\n                    if (dataVal.DependFuncVals?.Value)\n                        parts.push(dataVal.DependFuncVals?.Value.toString());\n                    break;\n            }\n        }\n\n        if (func.funcType === FuncType.GAIN_NP_FROM_TARGETS) {\n            switch (this.props.staticDataVal.DependFuncId) {\n                case 474:\n                    const npAbsorbParts = [];\n                    if (dataVal.DependFuncVals?.Value) {\n                        npAbsorbParts.push(`${dataVal.DependFuncVals.Value} Charge`);\n                    }\n\n                    if (dataVal.DependFuncVals?.Value2) {\n                        npAbsorbParts.push(`${asPercent(dataVal.DependFuncVals.Value2, 2)}`);\n                    }\n\n                    if (npAbsorbParts.length) {\n                        parts.push(<React.Fragment>\n                            ({mergeElements(npAbsorbParts, ' => ')})\n                        </React.Fragment>);\n                    }\n                    break;\n                case 3962:\n                    if (dataVal.DependFuncVals?.Value)\n                        parts.push(asPercent(dataVal.DependFuncVals?.Value, 2));\n                    break;\n            }\n        }\n\n        if (\n            (func.funcType === FuncType.ADD_STATE || func.funcType === FuncType.ADD_STATE_SHORT)\n            && func.buffs[0]\n            && (\n                dataVal.Value\n                || (func.buffs[0].type === BuffType.DAMAGE_FUNCTION && dataVal.Value2)\n                || (func.buffs[0].type === BuffType.DEAD_FUNCTION && dataVal.Value2)\n                || (func.buffs[0].type === BuffType.DELAY_FUNCTION && dataVal.Value2)\n                || (func.buffs[0].type === BuffType.NPATTACK_PREV_BUFF && dataVal.SkillID)\n                || (func.buffs[0].type === BuffType.SELFTURNEND_FUNCTION && dataVal.Value2)\n            )\n        ) {\n            return <BuffValueDescriptor region={region} buff={func.buffs[0]} dataVal={dataVal}/>;\n        }\n\n        if (!this.props.hideRate && dataVal.Rate !== undefined) {\n            parts.push(asPercent(dataVal.Rate, 1));\n        }\n\n        if (dataVal.Value !== undefined) {\n            switch (func.funcType) {\n                case FuncType.DAMAGE_NP:\n                case FuncType.DAMAGE_NP_HPRATIO_LOW:\n                case FuncType.DAMAGE_NP_INDIVIDUAL:\n                case FuncType.DAMAGE_NP_INDIVIDUAL_SUM:\n                case FuncType.DAMAGE_NP_PIERCE:\n                case FuncType.DAMAGE_NP_RARE:\n                case FuncType.DAMAGE_NP_STATE_INDIVIDUAL_FIX:\n                case FuncType.GAIN_HP_PER:\n                case FuncType.QP_DROP_UP:\n                    parts.push(asPercent(dataVal.Value, 1));\n                    break;\n                case FuncType.GAIN_NP:\n                case FuncType.GAIN_NP_BUFF_INDIVIDUAL_SUM:\n                case FuncType.LOSS_NP:\n                    parts.push(asPercent(dataVal.Value, 2));\n                    break;\n                default:\n                    parts.push(dataVal.Value.toString());\n            }\n        }\n\n        if (dataVal.Value2 !== undefined) {\n            switch (func.funcType) {\n                case FuncType.GAIN_NP_FROM_TARGETS:\n                    parts.push(asPercent(dataVal.Value2, 2));\n                    break;\n                case FuncType.DAMAGE_NP_INDIVIDUAL_SUM:\n                    parts.push(\"additional \" + asPercent(dataVal.Value2, 1));\n            }\n        }\n\n        if (dataVal.Correction) {\n            switch (func.funcType) {\n                case FuncType.DAMAGE_NP_INDIVIDUAL:\n                case FuncType.DAMAGE_NP_RARE:\n                case FuncType.DAMAGE_NP_STATE_INDIVIDUAL_FIX:\n                    parts.push(asPercent(dataVal.Correction, 1));\n                    break;\n                case FuncType.DAMAGE_NP_INDIVIDUAL_SUM:\n                    parts.push(\"(\" + asPercent(dataVal.Correction, 1) + \" x count)\");\n                    break;\n                default:\n                    parts.push(dataVal.Correction.toString());\n            }\n        }\n\n        if (dataVal.Target !== undefined) {\n            switch (func.funcType) {\n                case FuncType.DAMAGE_NP_HPRATIO_LOW:\n                    parts.push(asPercent(dataVal.Target, 1));\n                    break;\n                // default:\n                //     parts.push(dataVal.Target.toString());\n            }\n        }\n\n        if (dataVal.AddCount !== undefined) {\n            switch (func.funcType) {\n                default:\n                    parts.push(dataVal.AddCount);\n            }\n        }\n\n        if (dataVal.RateCount) {\n            switch (func.funcType) {\n                case FuncType.QP_DROP_UP:\n                case FuncType.SERVANT_FRIENDSHIP_UP:\n                case FuncType.USER_EQUIP_EXP_UP:\n                    parts.push(asPercent(dataVal.RateCount, 1));\n                    break;\n                default:\n                    parts.push(dataVal.RateCount);\n            }\n        }\n\n        if (!parts.length)\n            return <span>-</span>;\n\n        return <span>{mergeElements(parts, ' + ')}</span>;\n    }\n}\n\nexport default FuncValueDescriptor;\n","import React from \"react\";\nimport Buff, {BuffType} from \"../Api/Data/Buff\";\nimport {DataVal} from \"../Api/Data/Func\";\nimport Region from \"../Api/Data/Region\";\nimport {asPercent} from \"../Helper/OutputHelper\";\nimport TraitDescriptor from \"./TraitDescriptor\";\n\ninterface IProps {\n    region: Region;\n    buff: Buff;\n    dataVal: DataVal;\n}\n\nclass BuffValueDescriptor extends React.Component<IProps> {\n    render() {\n        let value: JSX.Element | string | null = null;\n\n        switch (this.props.buff.type) {\n            case BuffType.UP_ATK:\n            case BuffType.DOWN_ATK:\n            case BuffType.UP_COMMANDALL:\n            case BuffType.DOWN_COMMANDALL:\n            case BuffType.UP_CRITICALDAMAGE:\n            case BuffType.DOWN_CRITICALDAMAGE:\n            case BuffType.UP_CRITICALPOINT:\n            case BuffType.DOWN_CRITICALPOINT:\n            case BuffType.UP_CRITICALRATE:\n            case BuffType.DOWN_CRITICALRATE:\n            case BuffType.UP_CRITICAL_RATE_DAMAGE_TAKEN:\n            case BuffType.DOWN_CRITICAL_RATE_DAMAGE_TAKEN:\n            case BuffType.UP_DAMAGE:\n            case BuffType.DOWN_DAMAGE:\n            case BuffType.UP_DAMAGEDROPNP:\n            case BuffType.DOWN_DAMAGEDROPNP:\n            case BuffType.UP_DEFENCE:\n            case BuffType.DOWN_DEFENCE:\n            case BuffType.UP_DEFENCECOMMANDALL:\n            case BuffType.DOWN_DEFENCECOMMANDALL:\n            case BuffType.UP_DROPNP:\n            case BuffType.DOWN_DROPNP:\n            case BuffType.UP_FUNC_HP_REDUCE:\n            case BuffType.DOWN_FUNC_HP_REDUCE:\n            case BuffType.UP_HATE:\n            case BuffType.UP_NONRESIST_INSTANTDEATH:\n            case BuffType.UP_NPDAMAGE:\n            case BuffType.DOWN_NPDAMAGE:\n            case BuffType.UP_SPECIALDEFENCE:\n            case BuffType.DOWN_SPECIALDEFENCE:\n            case BuffType.UP_STARWEIGHT:\n            case BuffType.DOWN_STARWEIGHT:\n            case BuffType.UP_TOLERANCE:\n            case BuffType.DOWN_TOLERANCE:\n            case BuffType.UP_TOLERANCE_SUBSTATE:\n            case BuffType.DOWN_TOLERANCE_SUBSTATE:\n                value = asPercent(this.props.dataVal.Value, 1);\n                break;\n            case BuffType.REGAIN_NP:\n                value = asPercent(this.props.dataVal.Value, 2);\n                break;\n            case BuffType.ATTACK_FUNCTION:\n            case BuffType.COMMANDATTACK_FUNCTION:\n            case BuffType.COMMANDATTACK_BEFORE_FUNCTION:\n            case BuffType.DAMAGE_FUNCTION:\n            case BuffType.DEAD_FUNCTION:\n            case BuffType.DELAY_FUNCTION:\n            case BuffType.SELFTURNEND_FUNCTION:\n                if (this.props.dataVal.Value2)\n                    value = 'Lv. ' + this.props.dataVal.Value2;\n                break;\n            case BuffType.NPATTACK_PREV_BUFF:\n                if (this.props.dataVal.SkillLV)\n                    value = 'Lv. ' + this.props.dataVal.SkillLV;\n                break;\n            case BuffType.FIELD_INDIVIDUALITY:\n                if (typeof this.props.dataVal.Value === \"number\")\n                    value = <TraitDescriptor region={this.props.region} trait={this.props.dataVal.Value}/>;\n                break;\n            default:\n                value = this.props.dataVal.Value?.toString() ?? \"\";\n        }\n\n        return value;\n    }\n}\n\nexport default BuffValueDescriptor;\n","import React from \"react\";\nimport Card from \"../Api/Data/Card\";\n\nimport \"./CardType.css\";\n\nconst supportedCardTypes = [\n    Card.ARTS,\n    Card.BUSTER,\n    Card.QUICK,\n    Card.EXTRA,\n];\n\ninterface IProps {\n    card: Card;\n    height?: string | number;\n}\n\nclass CardType extends React.Component<IProps> {\n    render() {\n        if (supportedCardTypes.indexOf(this.props.card) === -1) {\n            return `[Card: ${this.props.card}]`;\n        }\n\n        const height = this.props.height ?? '2em',\n            classNames = ['card-type'];\n\n        let icon = undefined,\n            txt = undefined;\n\n        switch (this.props.card) {\n            case Card.ARTS:\n                icon = 'assets/card_icon_arts.png';\n                txt = 'assets/card_txt_arts.png';\n                break;\n            case Card.BUSTER:\n                icon = 'assets/card_icon_buster.png';\n                txt = 'assets/card_txt_buster.png';\n                break;\n            case Card.QUICK:\n                icon = 'assets/card_icon_quick.png';\n                txt = 'assets/card_txt_quick.png';\n                break;\n            case Card.EXTRA:\n                classNames.push('extra');\n                txt = 'assets/card_txt_extra.png';\n                break;\n        }\n\n        return <span className={classNames.join(' ')} style={{height: height}}>\n            <img alt={''} className={'card-type-ratio'}\n                 src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/>\n            {icon ? <img alt={''} className={'card-type-icon'} src={icon}/> : null}\n            <img alt={''} className={'card-type-text'} src={txt}/>\n        </span>;\n    }\n}\n\nexport default CardType;\n","import React from \"react\";\nimport Connection from \"../Api/Connection\";\nimport Region from \"../Api/Data/Region\";\nimport Skill from \"../Api/Data/Skill\";\nimport EffectBreakdownLines from \"./EffectBreakdownLines\";\n\ninterface IProps {\n    region: Region;\n    levels?: number;\n    skillId: number;\n}\n\ninterface IState {\n    skill?: Skill;\n}\n\nclass AdditionalEffectBreakdown extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {};\n    }\n\n    async componentDidMount() {\n        try {\n            this.setState({\n                skill: await Connection.skill(this.props.region, this.props.skillId)\n            });\n        } catch (e) {\n            // do nothing on failure\n        }\n    }\n\n    render() {\n        if (this.state.skill === undefined) {\n            return null;\n        }\n\n        return (\n            <EffectBreakdownLines region={this.props.region}\n                                  funcs={this.state.skill.functions}\n                                  levels={this.props.levels}\n                                  relatedSkillId={this.state.skill.id}/>\n        );\n    }\n}\n\nexport default AdditionalEffectBreakdown;\n","import React from \"react\";\nimport Region from \"../Api/Data/Region\";\nimport {SkillScript} from \"../Api/Data/Skill\";\nimport {asPercent, Renderable} from \"../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    scripts: SkillScript;\n    levels?: number;\n}\n\nclass ScriptBreakdown extends React.Component<IProps> {\n    private displayRequirement(detail: string, values: Renderable[]): JSX.Element {\n        return <tr>\n            <td className={'effect'}>[Requirement] {detail}</td>\n            {\n                this.props.levels\n                    ? Array(this.props.levels).fill(null).map((_, i) => {\n                        return <td key={i}>{values[i] ?? '-'}</td>;\n                    })\n                    : values.map((value, i) => {\n                        return <td key={i}>{value}</td>;\n                    })\n            }\n        </tr>\n    }\n\n    private hpPerLowerRequirements(): JSX.Element | undefined {\n        if (!this.props.scripts.HP_PER_LOWER)\n            return undefined;\n\n        return this.displayRequirement(\n            'Health Percent Below',\n            this.props.scripts.HP_PER_LOWER.map(value => asPercent(value, 1))\n        );\n    }\n\n    private hpRequirements(): JSX.Element | undefined {\n        if (!this.props.scripts.HP_VAL_HIGHER)\n            return undefined;\n\n        return this.displayRequirement('Health', this.props.scripts.HP_VAL_HIGHER);\n    }\n\n    private npRequirements(): JSX.Element | undefined {\n        if (!this.props.scripts.NP_HIGHER)\n            return undefined;\n\n        return this.displayRequirement(\n            'NP Gauge',\n            this.props.scripts.NP_HIGHER.map(value => asPercent(value, 0))\n        );\n    }\n\n    private starRequirements(): JSX.Element | undefined {\n        if (!this.props.scripts.STAR_HIGHER)\n            return undefined;\n\n        return this.displayRequirement('Critical Stars', this.props.scripts.STAR_HIGHER);\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.hpPerLowerRequirements()}\n                {this.hpRequirements()}\n                {this.npRequirements()}\n                {this.starRequirements()}\n            </React.Fragment>\n        );\n    }\n}\n\nexport default ScriptBreakdown;\n","import React from \"react\";\nimport Card from \"../Api/Data/Card\";\nimport Func from \"../Api/Data/Func\";\nimport {NoblePhantasmGain} from \"../Api/Data/NoblePhantasm\";\nimport Region from \"../Api/Data/Region\";\nimport {SkillScript} from \"../Api/Data/Skill\";\nimport CardType from \"../Component/CardType\";\nimport FuncDescriptor from \"../Descriptor/FuncDescriptor\";\nimport SkillReferenceDescriptor from \"../Descriptor/SkillReferenceDescriptor\";\nimport {describeMutators, getRelatedSkillIds} from \"../Helper/FuncHelper\";\nimport {asPercent} from \"../Helper/OutputHelper\";\nimport AdditionalEffectBreakdown from \"./AdditionalEffectBreakdown\";\nimport ScriptBreakdown from \"./ScriptBreakdown\";\n\ninterface IProps {\n    region: Region;\n    cooldowns?: number[];\n    funcs: Func[];\n    gain?: NoblePhantasmGain;\n    levels?: number;\n    scripts?: SkillScript;\n    relatedSkillId?: number;\n}\n\nclass EffectBreakdownLines extends React.Component<IProps> {\n    render() {\n        return (\n            <React.Fragment>\n                {this.props.cooldowns ? (\n                    <tr>\n                        <td className={'effect'}>Cooldown</td>\n                        {this.props.cooldowns.map((cooldown, index) => {\n                            return <td key={index}>{cooldown}</td>;\n                        })}\n                    </tr>\n                ) : null}\n                {this.props.scripts\n                    ? <ScriptBreakdown region={this.props.region} scripts={this.props.scripts}/>\n                    : null}\n                {this.props.gain ? (\n                    <tr>\n                        <td className={'effect'}>NP Gain</td>\n                        {[...Array(this.props.levels)].map((_, key) => {\n                            return <td key={key}>\n                                {asPercent(this.props.gain?.buster[key], 2)} <CardType card={Card.BUSTER}/><br/>\n                                {asPercent(this.props.gain?.arts[key], 2)} <CardType card={Card.ARTS}/><br/>\n                                {asPercent(this.props.gain?.quick[key], 2)} <CardType card={Card.QUICK}/><br/>\n                                {asPercent(this.props.gain?.extra[key], 2)} <CardType card={Card.EXTRA}/><br/>\n                                {asPercent(this.props.gain?.np[key], 2)} NP<br/>\n                                {asPercent(this.props.gain?.defence[key], 2)} Def\n                            </td>;\n                        })}\n                    </tr>\n                ) : null}\n                {this.props.funcs.map((func, index) => {\n                    let mutatingDescriptions = describeMutators(this.props.region, func),\n                        relatedSkillIds = getRelatedSkillIds(func);\n\n                    for (let i = 0; i < (this.props.levels ?? 0); i++) {\n                        if (!mutatingDescriptions[i])\n                            mutatingDescriptions.push('-');\n                    }\n\n                    return (\n                        <React.Fragment key={index}>\n                            <tr>\n                                <td className={'effect'}>\n                                    {\n                                        this.props.relatedSkillId\n                                            ? <SkillReferenceDescriptor region={this.props.region}\n                                                                        id={this.props.relatedSkillId}/>\n                                            : null\n                                    }\n                                    {this.props.relatedSkillId ? ' ' : ''}\n                                    <FuncDescriptor region={this.props.region} func={func}/>\n                                </td>\n                                {this.props.levels ? mutatingDescriptions.map((description, index) => {\n                                    return (\n                                        <td key={index}>{description}</td>\n                                    );\n                                }) : null}\n                            </tr>\n                            {relatedSkillIds.map((skillId, index) => {\n                                return <AdditionalEffectBreakdown key={skillId}\n                                                                  region={this.props.region}\n                                                                  skillId={skillId}\n                                                                  levels={this.props.levels}/>\n                            })}\n                        </React.Fragment>\n                    );\n                })}\n            </React.Fragment>\n        );\n    }\n}\n\nexport default EffectBreakdownLines;\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\nimport Func from \"../Api/Data/Func\";\nimport {NoblePhantasmGain} from \"../Api/Data/NoblePhantasm\";\nimport Region from \"../Api/Data/Region\";\nimport {SkillScript} from \"../Api/Data/Skill\";\nimport EffectBreakdownLines from \"./EffectBreakdownLines\";\n\nimport \"./EffectBreakdown.css\";\n\ninterface IProps {\n    region: Region;\n    cooldowns?: number[];\n    funcs: Func[];\n    gain?: NoblePhantasmGain;\n    levels?: number;\n    scripts?: SkillScript;\n}\n\nclass EffectBreakdown extends React.Component<IProps> {\n    render() {\n        return (\n            <Table responsive className={'effect-breakdown'}>\n                <thead>\n                <tr>\n                    <th>Effect</th>\n                    {this.props.levels ? Array.from(Array(this.props.levels).keys()).map(level => {\n                        return <td key={level}>{level + 1}</td>;\n                    }) : null}\n                </tr>\n                </thead>\n                <tbody>\n                <EffectBreakdownLines region={this.props.region}\n                                      cooldowns={this.props.cooldowns}\n                                      funcs={this.props.funcs}\n                                      gain={this.props.gain}\n                                      levels={this.props.levels}\n                                      scripts={this.props.scripts}/>\n                </tbody>\n            </Table>\n        );\n    }\n}\n\nexport default EffectBreakdown;\n","import {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React, {RefObject} from \"react\";\nimport {Typeahead} from \"react-bootstrap-typeahead\";\n\nimport \"./SearchableSelect.css\";\n\ninterface Option<T> {\n    label: string,\n    value?: T,\n}\n\ninterface IProps<T> {\n    id: string,\n    options: T[],\n    labels: Map<T, string>,\n    onChange: Function,\n    selected?: T,\n    hideAll?: boolean,\n    hideReset?: boolean,\n    disableLabelStyling?: boolean,\n    maxResults?: number,\n}\n\ninterface IState<T> {\n    ref: RefObject<any>,\n    selected?: T,\n    focused: boolean,\n    results: boolean,\n}\n\nclass SearchableSelect<T> extends React.Component<IProps<T>, IState<T>> {\n    constructor(props: IProps<T>) {\n        super(props);\n\n        this.state = {\n            ref: React.createRef(),\n            selected: props.selected,\n            focused: false,\n            results: false,\n        };\n    }\n\n    private async clearSelection() {\n        await this.setState({selected: undefined, results: true});\n        this.state.ref.current.clear();\n    }\n\n    private getDescription(value?: T): string {\n        if (value === undefined)\n            return 'All';\n\n        const description = this.props.labels.get(value);\n\n        if (this.props.disableLabelStyling) {\n            if (description)\n                return description;\n\n            return typeof value === 'string' ? value : 'Unknown';\n        }\n\n        return description\n            ? `${description} - ${value}`\n            : `(${value})`;\n    }\n\n    private getOption(value?: T): Option<T> {\n        const label = this.getDescription(value);\n\n        return {label, value};\n    }\n\n    private getOptions(): Option<T>[] {\n        return (this.props.hideAll ? [] : [this.getOption()])\n            .concat(\n                this.props.options.map(value => this.getOption(value))\n            );\n    }\n\n    private resetInput() {\n        this.setState({focused: false, results: false});\n    }\n\n    private async selectOption(options: Option<T>[]) {\n        if (options.length === 0) {\n            this.setState({results: false});\n        } else {\n            const selected = options[0].value;\n\n            await this.setState({selected, results: true});\n            this.props.onChange(selected);\n        }\n    }\n\n    render() {\n        return (\n            <Typeahead ref={this.state.ref}\n                       id={this.props.id}\n                       options={this.getOptions()}\n                       placeholder={this.getDescription(this.state.selected)}\n                       selected={this.state.focused && this.state.results ? [this.getOption(this.state.selected)] : []}\n                       ignoreDiacritics={true}\n                       maxResults={this.props.maxResults ?? 1000}\n                       onBlur={() => {\n                           this.resetInput();\n                       }}\n                       onChange={(selected) => {\n                           this.selectOption(selected);\n                       }}\n                       onFocus={() => {\n                           this.setState({focused: true});\n                       }}>\n\n                {this.props.hideReset ? null : (\n                    <button className='searchable-select-clear'\n                            onClick={e => {\n                                e.preventDefault();\n                                this.clearSelection();\n                            }}\n                            onMouseDown={e => {\n                                // Prevent input from losing focus.\n                                e.preventDefault();\n                            }}>\n                        <FontAwesomeIcon icon={faTimes}/>\n                    </button>\n                )}\n            </Typeahead>\n        );\n    }\n}\n\nexport default SearchableSelect;\n","import React from \"react\";\nimport {Alert} from \"react-bootstrap\";\nimport Region from \"../Api/Data/Region\";\nimport Skill from \"../Api/Data/Skill\";\nimport QuestDescriptor from \"../Descriptor/QuestDescriptor\";\nimport SkillDescriptor from \"../Descriptor/SkillDescriptor\";\nimport {handleNewLine} from \"../Helper/OutputHelper\";\nimport EffectBreakdown from \"./EffectBreakdown\";\n\ninterface IProps {\n    region: Region;\n    skill: Skill;\n    cooldowns: boolean;\n    levels?: number;\n}\n\nclass SkillBreakdown extends React.Component<IProps> {\n    render() {\n        const skill = this.props.skill;\n        return (\n            <div>\n                <h3>\n                    <SkillDescriptor region={this.props.region} skill={skill} iconHeight={33}/>\n                </h3>\n\n                {skill.condQuestId && skill.condQuestPhase ? (\n                    <Alert variant={'primary'}>\n                        Available after <QuestDescriptor region={this.props.region}\n                                                         questId={skill.condQuestId}\n                                                         questPhase={skill.condQuestPhase}/>\n                    </Alert>\n                ) : null}\n\n                <p>{handleNewLine(skill.detail)}</p>\n\n                <EffectBreakdown region={this.props.region}\n                                 cooldowns={this.props.cooldowns ? skill.coolDown : undefined}\n                                 funcs={this.props.skill.functions}\n                                 levels={this.props.levels}\n                                 scripts={this.props.skill.script}/>\n            </div>\n        );\n    }\n}\n\nexport default SkillBreakdown;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar defaultProps = {\n  noGutters: false\n};\nvar Row = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      noGutters = _ref.noGutters,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"noGutters\", \"as\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  var sizePrefix = decoratedBsPrefix + \"-cols\";\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      cols = propValue.cols;\n    } else {\n      cols = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (cols != null) classes.push(\"\" + sizePrefix + infix + \"-\" + cols);\n  });\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames.apply(void 0, [className, decoratedBsPrefix, noGutters && 'no-gutters'].concat(classes))\n  }));\n});\nRow.displayName = 'Row';\nRow.defaultProps = defaultProps;\nexport default Row;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isRequiredForA11y;\nfunction isRequiredForA11y(validator) {\n  return function validate(props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (props[propName] == null) {\n      return new Error('The ' + location + ' `' + propFullNameSafe + '` is required to make ' + ('`' + componentNameSafe + '` accessible for users of assistive ') + 'technologies such as screen readers.');\n    }\n\n    for (var _len = arguments.length, args = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      args[_key - 5] = arguments[_key];\n    }\n\n    return validator.apply(undefined, [props, propName, componentName, location, propFullName].concat(args));\n  };\n}\nmodule.exports = exports['default'];","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport {BuffType} from \"../../Api/Data/Buff\";\nimport Func, {DataVal, FuncType} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport BuffDescriptor from \"../BuffDescriptor\";\nimport TraitDescriptor from \"../TraitDescriptor\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport const funcDescriptions = new Map<FuncType, string>([\n    [FuncType.ABSORB_NPTURN, 'Absorb Charge'],\n    [FuncType.ADD_STATE, 'Apply Buff'],\n    [FuncType.ADD_STATE_SHORT, 'Apply Buff'],\n    [FuncType.CARD_RESET, 'Shuffle Cards'],\n    [FuncType.DAMAGE_NP, 'Deal Damage'],\n    [FuncType.DAMAGE_NP_HPRATIO_LOW, 'Deal Damage with Bonus for Low Health'],\n    [FuncType.DAMAGE_NP_INDIVIDUAL, 'Deal Damage with Bonus to Trait'],\n    [FuncType.DAMAGE_NP_INDIVIDUAL_SUM, 'Deal Damage with Bonus per Trait'],\n    [FuncType.DAMAGE_NP_PIERCE, 'Deal Damage that pierces defense'],\n    [FuncType.DAMAGE_NP_RARE, 'Deal Damage with Bonus to Rarity'],\n    [FuncType.DAMAGE_NP_STATE_INDIVIDUAL_FIX, 'Deal Damage with Bonus to Trait'],\n    [FuncType.DELAY_NPTURN, 'Drain Charge'],\n    [FuncType.EVENT_DROP_UP, 'Increase Drop Amount'],\n    [FuncType.ENEMY_ENCOUNT_COPY_RATE_UP, 'Create Clone of Enemy'],\n    [FuncType.ENEMY_ENCOUNT_RATE_UP, 'Improve Appearance Rate of Enemy'],\n    [FuncType.EXP_UP, 'Increase Master Exp'],\n    [FuncType.EXTEND_SKILL, 'Increase Cooldowns'],\n    [FuncType.FIX_COMMANDCARD, 'Lock Command Cards'],\n    [FuncType.FORCE_INSTANT_DEATH, 'Force Instant Death'],\n    [FuncType.GAIN_HP, 'Restore HP'],\n    [FuncType.GAIN_HP_FROM_TARGETS, 'Absorb HP'],\n    [FuncType.GAIN_HP_PER, 'Restore HP to Percent'],\n    [FuncType.GAIN_NP, 'Charge NP'],\n    [FuncType.GAIN_NP_BUFF_INDIVIDUAL_SUM, 'Charge NP per Trait'],\n    [FuncType.GAIN_NP_FROM_TARGETS, 'Absorb NP'],\n    [FuncType.GAIN_STAR, 'Gain Critical Stars'],\n    [FuncType.HASTEN_NPTURN, 'Increase Charge'],\n    [FuncType.INSTANT_DEATH, 'Apply Death'],\n    [FuncType.LOSS_HP, 'Drain HP'],\n    [FuncType.LOSS_HP_SAFE, 'Drain HP without killing'],\n    [FuncType.LOSS_NP, 'Drain NP'],\n    [FuncType.LOSS_STAR, 'Remove Critical Stars'],\n    [FuncType.NONE, 'No Effect'],\n    [FuncType.QP_DROP_UP, 'Increase QP Reward'],\n    [FuncType.QP_UP, 'Increase QP Reward'],\n    [FuncType.REPLACE_MEMBER, 'Swap members'],\n    [FuncType.SERVANT_FRIENDSHIP_UP, 'Increase Bond Gain'],\n    [FuncType.SHORTEN_SKILL, 'Reduce Cooldowns'],\n    [FuncType.SUB_STATE, 'Remove Effects'],\n    [FuncType.USER_EQUIP_EXP_UP, 'Increase Mystic Code Exp'],\n]);\n\nfunction handleBuffActionSection(region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.action,\n        parts = section.parts;\n\n    parts.push('Apply');\n    func.buffs.forEach((buff, index) => {\n        if (index > 0)\n            parts.push('&');\n\n        parts.push(<BuffDescriptor region={region} buff={buff}/>);\n    });\n\n    if (func.buffs[0]?.type === BuffType.FIELD_INDIVIDUALITY) {\n        sections.amount.preposition = 'to';\n    }\n\n    sections.target.preposition = 'on';\n    if (\n        func.buffs[0]?.type === BuffType.COMMANDATTACK_FUNCTION\n        || func.buffs[0]?.type === BuffType.NPATTACK_PREV_BUFF\n    ) {\n        sections.target.preposition = 'for';\n    }\n}\n\nfunction handleCleanseActionSection(region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.action,\n        parts = section.parts;\n\n    parts.push(funcDescriptions.get(func.funcType) ?? func.funcType);\n\n    if (func.traitVals?.length) {\n        parts.push('with');\n\n        func.traitVals.forEach((trait, index) => {\n            if (index > 0)\n                parts.push('or');\n\n            parts.push(<TraitDescriptor region={region} trait={trait}/>);\n        });\n    }\n\n    sections.target.preposition = 'on';\n}\n\nfunction handleChargeNpPerTraitActionSection(region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.action,\n        parts = section.parts;\n\n    parts.push('Charge NP per');\n\n    if (func.traitVals?.length) {\n        func.traitVals.forEach((trait, index) => {\n            if (index > 0)\n                parts.push('&');\n\n            parts.push(<TraitDescriptor region={region} trait={trait}/>);\n        });\n    }\n\n    parts.push('traits');\n\n    sections.amount.preposition = 'by';\n    sections.target.preposition = 'for';\n}\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.action,\n        parts = section.parts;\n\n    if (func.funcType === FuncType.ADD_STATE || func.funcType === FuncType.ADD_STATE_SHORT) {\n        handleBuffActionSection(region, sections, func, dataVal);\n\n        return;\n    } else if (func.funcType === FuncType.SUB_STATE) {\n        handleCleanseActionSection(region, sections, func, dataVal);\n\n        return;\n    } else if (func.funcType === FuncType.GAIN_NP_BUFF_INDIVIDUAL_SUM) {\n        handleChargeNpPerTraitActionSection(region, sections, func, dataVal);\n\n        return;\n    } else if (\n        func.funcType === FuncType.DAMAGE_NP\n        || func.funcType === FuncType.DAMAGE_NP_HPRATIO_LOW\n        || func.funcType === FuncType.DAMAGE_NP_INDIVIDUAL\n        || func.funcType === FuncType.DAMAGE_NP_INDIVIDUAL_SUM\n        || func.funcType === FuncType.DAMAGE_NP_PIERCE\n        || func.funcType === FuncType.DAMAGE_NP_RARE\n        || func.funcType === FuncType.DAMAGE_NP_STATE_INDIVIDUAL_FIX\n    ) {\n        parts.push('Deal damage');\n        sections.amount.preposition = 'of';\n\n        return;\n    }\n\n    switch (func.funcType) {\n        case FuncType.ABSORB_NPTURN:\n        case FuncType.GAIN_HP_FROM_TARGETS:\n        case FuncType.GAIN_NP_FROM_TARGETS:\n            sections.amount.preposition = 'of';\n            sections.target.preposition = 'from';\n            break;\n        case FuncType.CARD_RESET:\n        case FuncType.GAIN_STAR:\n        case FuncType.LOSS_STAR:\n        case FuncType.NONE:\n            sections.target.showing = false;\n            break;\n        case FuncType.DELAY_NPTURN:\n        case FuncType.LOSS_HP:\n        case FuncType.LOSS_HP_SAFE:\n        case FuncType.LOSS_NP:\n            sections.amount.preposition = 'by';\n            sections.target.preposition = 'from';\n            break;\n        case FuncType.ENEMY_ENCOUNT_COPY_RATE_UP:\n        case FuncType.ENEMY_ENCOUNT_RATE_UP:\n        case FuncType.FIX_COMMANDCARD:\n            sections.amount.showing = false;\n            sections.target.showing = false;\n            break;\n        case FuncType.EVENT_DROP_UP:\n        case FuncType.EXP_UP:\n        case FuncType.QP_DROP_UP:\n        case FuncType.QP_UP:\n        case FuncType.SERVANT_FRIENDSHIP_UP:\n        case FuncType.USER_EQUIP_EXP_UP:\n            sections.chance.showing = false;\n            sections.amount.preposition = 'by';\n            sections.target.showing = false;\n            break;\n        case FuncType.EXTEND_SKILL:\n        case FuncType.GAIN_HP:\n        case FuncType.GAIN_NP:\n        case FuncType.HASTEN_NPTURN:\n        case FuncType.SHORTEN_SKILL:\n            sections.amount.preposition = 'by';\n            sections.target.preposition = 'for';\n            break;\n        case FuncType.FORCE_INSTANT_DEATH:\n        case FuncType.INSTANT_DEATH:\n            sections.amount.showing = false;\n            sections.target.preposition = 'on';\n            break;\n        case FuncType.GAIN_HP_PER:\n            sections.amount.preposition = 'of';\n            sections.target.preposition = 'for';\n            break;\n        case FuncType.REPLACE_MEMBER:\n            sections.amount.showing = false;\n            sections.target.preposition = 'with';\n            break;\n    }\n\n    parts.push(funcDescriptions.get(func.funcType) ?? func.funcType);\n}\n","import Func, {DataVal, FuncTargetType, FuncType} from \"../../Api/Data/Func\";\nimport Region from \"../../Api/Data/Region\";\nimport {FuncDescriptorSections} from \"./FuncDescriptorSections\";\n\nexport const targetDescriptions = new Map<FuncTargetType, string>([\n    [FuncTargetType.SELF, 'self'],\n    [FuncTargetType.PT_ONE, 'party member'],\n    // PT_ANOTHER\n    [FuncTargetType.PT_ALL, 'party'],\n    [FuncTargetType.ENEMY, 'enemy'],\n    // ENEMY_ANOTHER\n    [FuncTargetType.ENEMY_ALL, 'enemies'],\n    [FuncTargetType.PT_FULL, 'party (including reserve)'],\n    [FuncTargetType.ENEMY_FULL, 'enemies (including reserve)'],\n    [FuncTargetType.PT_OTHER, 'party except self'],\n    [FuncTargetType.PT_ONE_OTHER, 'other party members besides target'],\n    [FuncTargetType.PT_RANDOM, 'random party member'],\n    [FuncTargetType.ENEMY_OTHER, 'other enemies besides target'],\n    [FuncTargetType.ENEMY_RANDOM, 'random enemy'],\n    [FuncTargetType.PT_OTHER_FULL, 'party except self (including reserve)'],\n    [FuncTargetType.ENEMY_OTHER_FULL, 'other enemies (including reserve)'],\n    [FuncTargetType.PTSELECT_ONE_SUB, 'active party member and reserve party member'],\n    [FuncTargetType.PTSELECT_SUB, 'reserve party member'],\n    // PT_ONE_ANOTHER_RANDOM\n    [FuncTargetType.PT_ONE_ANOTHER_RANDOM, 'other random party member'],\n    [FuncTargetType.PT_SELF_ANOTHER_RANDOM, 'other random party member (except self)'],\n    [FuncTargetType.ENEMY_ONE_ANOTHER_RANDOM, 'other random enemy'],\n    [FuncTargetType.PT_SELF_ANOTHER_FIRST, 'first other party member (except self)'],\n    // PT_SELF_BEFORE\n    // PT_SELF_AFTER\n    // PT_SELF_ANOTHER_LAST\n    [FuncTargetType.COMMAND_TYPE_SELF_TREASURE_DEVICE, 'target noble phantasm version'],\n]);\n\nexport default function (region: Region, sections: FuncDescriptorSections, func: Func, dataVal: DataVal): void {\n    const section = sections.target,\n        parts = section.parts;\n\n    let targetType: FuncTargetType | undefined = func.funcTargetType;\n\n    if (func.funcType === FuncType.ABSORB_NPTURN) {\n        switch (dataVal.DependFuncId) {\n            case 469:\n                targetType = FuncTargetType.ENEMY_ALL;\n                break;\n            case 5061:\n                targetType = FuncTargetType.PT_OTHER;\n                break;\n        }\n    } else if (func.funcType === FuncType.GAIN_HP_FROM_TARGETS) {\n        switch (dataVal.DependFuncId) {\n            case 711:\n                targetType = FuncTargetType.ENEMY_ALL;\n                break;\n            default:\n                targetType = undefined;\n                section.showing = false;\n                break;\n        }\n    } else if (func.funcType === FuncType.GAIN_NP_FROM_TARGETS) {\n        switch (dataVal.DependFuncId) {\n            case 474:\n                targetType = FuncTargetType.ENEMY_ALL;\n                break;\n            case 3962:\n                targetType = FuncTargetType.PT_OTHER;\n                break;\n        }\n    }\n\n    if (targetType) {\n        parts.push(targetDescriptions.get(targetType) ?? targetType);\n    }\n}\n","import {faShare} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport CraftEssence from \"../Api/Data/CraftEssence\";\nimport Region from \"../Api/Data/Region\";\nimport FaceIcon from \"../Component/FaceIcon\";\n\ninterface IProps {\n    region: Region;\n    craftEssence: CraftEssence;\n}\n\nclass CraftEssenceDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <Link to={`/${this.props.region}/craft-essence/${this.props.craftEssence.collectionNo}`}>\n                <FaceIcon type={this.props.craftEssence.type}\n                          rarity={this.props.craftEssence.rarity}\n                          location={this.props.craftEssence.extraAssets.faces.equip[this.props.craftEssence.id] ?? ''}\n                          height={'2em'}/>\n                {' '}\n                {this.props.craftEssence.name}\n                {' '}\n                <FontAwesomeIcon icon={faShare}/>\n            </Link>\n        );\n    }\n}\n\nexport default CraftEssenceDescriptor;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nvar controllables = {\n  show: 'onClose'\n};\nvar Alert = React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, controllables),\n      bsPrefix = _useUncontrolled.bsPrefix,\n      show = _useUncontrolled.show,\n      closeLabel = _useUncontrolled.closeLabel,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      variant = _useUncontrolled.variant,\n      onClose = _useUncontrolled.onClose,\n      dismissible = _useUncontrolled.dismissible,\n      Transition = _useUncontrolled.transition,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, [\"bsPrefix\", \"show\", \"closeLabel\", \"className\", \"children\", \"variant\", \"onClose\", \"dismissible\", \"transition\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  var handleClose = useEventCallback(function (e) {\n    onClose(false, e);\n  });\n  var alert = /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"alert\"\n  }, Transition ? props : undefined, {\n    ref: ref,\n    className: classNames(className, prefix, variant && prefix + \"-\" + variant, dismissible && prefix + \"-dismissible\")\n  }), dismissible && /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: handleClose,\n    label: closeLabel\n  }), children);\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/React.createElement(Transition, _extends({\n    unmountOnExit: true\n  }, props, {\n    in: show\n  }), alert);\n});\nvar DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nAlert.Link = createWithBsPrefix('alert-link', {\n  Component: SafeAnchor\n});\nAlert.Heading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nexport default Alert;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\n/* eslint-disable react/require-render-return, react/no-unused-prop-types */\n\nvar Tab = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tab, _React$Component);\n\n  function Tab() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.render = function render() {\n    throw new Error('ReactBootstrap: The `Tab` component is not meant to be rendered! ' + \"It's an abstract component that is only valid as a direct Child of the `Tabs` Component. \" + 'For custom tabs components use TabPane and TabsContainer directly');\n  };\n\n  return Tab;\n}(React.Component);\n\nTab.Container = TabContainer;\nTab.Content = TabContent;\nTab.Pane = TabPane;\nexport default Tab;","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport NoblePhantasm from \"../Api/Data/NoblePhantasm\";\nimport Region from \"../Api/Data/Region\";\n\ninterface IProps {\n    region: Region;\n    noblePhantasm: NoblePhantasm;\n}\n\nclass NoblePhantasmDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <Link to={`/${this.props.region}/noble-phantasm/${this.props.noblePhantasm.id}`}>\n                [{this.props.noblePhantasm.name}]\n            </Link>\n        );\n    }\n}\n\nexport default NoblePhantasmDescriptor;\n","export interface ProfileStats {\n    strength: string;\n    endurance: string;\n    agility: string;\n    magic: string;\n    luck: string;\n    np: string;\n}\n\nexport enum CommentConditionType {\n    NONE = \"none\",\n    QUEST_CLEAR = \"questClear\",\n    ITEM_GET = \"itemGet\",\n    USE_ITEM_ETERNITY = \"useItemEternity\",\n    USE_ITEM_TIME = \"useItemTime\",\n    USE_ITEM_COUNT = \"useItemCount\",\n    SVT_LEVEL = \"svtLevel\",\n    SVT_LIMIT = \"svtLimit\",\n    SVT_GET = \"svtGet\",\n    SVT_FRIENDSHIP = \"svtFriendship\",\n    SVT_GROUP = \"svtGroup\",\n    EVENT = \"event\",\n    DATE = \"date\",\n    WEEKDAY = \"weekday\",\n    PURCHASE_QP_SHOP = \"purchaseQpShop\",\n    PURCHASE_STONE_SHOP = \"purchaseStoneShop\",\n    WAR_CLEAR = \"warClear\",\n    FLAG = \"flag\",\n    SVT_COUNT_STOP = \"svtCountStop\",\n    BIRTH_DAY = \"birthDay\",\n    EVENT_END = \"eventEnd\",\n    SVT_EVENT_JOIN = \"svtEventJoin\",\n    MISSION_CONDITION_DETAIL = \"missionConditionDetail\",\n    EVENT_MISSION_CLEAR = \"eventMissionClear\",\n    EVENT_MISSION_ACHIEVE = \"eventMissionAchieve\",\n    QUEST_CLEAR_NUM = \"questClearNum\",\n    NOT_QUEST_GROUP_CLEAR = \"notQuestGroupClear\",\n    RAID_ALIVE = \"raidAlive\",\n    RAID_DEAD = \"raidDead\",\n    RAID_DAMAGE = \"raidDamage\",\n    QUEST_CHALLENGE_NUM = \"questChallengeNum\",\n    MASTER_MISSION = \"masterMission\",\n    QUEST_GROUP_CLEAR = \"questGroupClear\",\n    SUPER_BOSS_DAMAGE = \"superBossDamage\",\n    SUPER_BOSS_DAMAGE_ALL = \"superBossDamageAll\",\n    PURCHASE_SHOP = \"purchaseShop\",\n    QUEST_NOT_CLEAR = \"questNotClear\",\n    NOT_SHOP_PURCHASE = \"notShopPurchase\",\n    NOT_SVT_GET = \"notSvtGet\",\n    NOT_EVENT_SHOP_PURCHASE = \"notEventShopPurchase\",\n    SVT_HAVING = \"svtHaving\",\n    NOT_SVT_HAVING = \"notSvtHaving\",\n    QUEST_CHALLENGE_NUM_EQUAL = \"questChallengeNumEqual\",\n    QUEST_CHALLENGE_NUM_BELOW = \"questChallengeNumBelow\",\n    QUEST_CLEAR_NUM_EQUAL = \"questClearNumEqual\",\n    QUEST_CLEAR_NUM_BELOW = \"questClearNumBelow\",\n    QUEST_CLEAR_PHASE = \"questClearPhase\",\n    NOT_QUEST_CLEAR_PHASE = \"notQuestClearPhase\",\n    EVENT_POINT_GROUP_WIN = \"eventPointGroupWin\",\n    EVENT_NORMA_POINT_CLEAR = \"eventNormaPointClear\",\n    QUEST_AVAILABLE = \"questAvailable\",\n    QUEST_GROUP_AVAILABLE_NUM = \"questGroupAvailableNum\",\n    EVENT_NORMA_POINT_NOT_CLEAR = \"eventNormaPointNotClear\",\n    NOT_ITEM_GET = \"notItemGet\",\n    COSTUME_GET = \"costumeGet\",\n    QUEST_RESET_AVAILABLE = \"questResetAvailable\",\n    SVT_GET_BEFORE_EVENT_END = \"svtGetBeforeEventEnd\",\n    QUEST_CLEAR_RAW = \"questClearRaw\",\n    QUEST_GROUP_CLEAR_RAW = \"questGroupClearRaw\",\n    EVENT_GROUP_POINT_RATIO_IN_TERM = \"eventGroupPointRatioInTerm\",\n    EVENT_GROUP_RANK_IN_TERM = \"eventGroupRankInTerm\",\n    NOT_EVENT_RACE_QUEST_OR_NOT_ALL_GROUP_GOAL = \"notEventRaceQuestOrNotAllGroupGoal\",\n    EVENT_GROUP_TOTAL_WIN_EACH_PLAYER = \"eventGroupTotalWinEachPlayer\",\n    EVENT_SCRIPT_PLAY = \"eventScriptPlay\",\n    SVT_COSTUME_RELEASED = \"svtCostumeReleased\",\n    QUEST_NOT_CLEAR_AND = \"questNotClearAnd\",\n    SVT_RECOVERD = \"svtRecoverd\",\n    SHOP_RELEASED = \"shopReleased\",\n    EVENT_POINT = \"eventPoint\",\n    EVENT_REWARD_DISP_COUNT = \"eventRewardDispCount\",\n    EQUIP_WITH_TARGET_COSTUME = \"equipWithTargetCostume\",\n    RAID_GROUP_DEAD = \"raidGroupDead\",\n    NOT_SVT_GROUP = \"notSvtGroup\",\n    NOT_QUEST_RESET_AVAILABLE = \"notQuestResetAvailable\",\n    NOT_QUEST_CLEAR_RAW = \"notQuestClearRaw\",\n    NOT_QUEST_GROUP_CLEAR_RAW = \"notQuestGroupClearRaw\",\n    NOT_EVENT_MISSION_CLEAR = \"notEventMissionClear\",\n    NOT_EVENT_MISSION_ACHIEVE = \"notEventMissionAchieve\",\n    NOT_COSTUME_GET = \"notCostumeGet\",\n    NOT_SVT_COSTUME_RELEASED = \"notSvtCostumeReleased\",\n    NOT_EVENT_RACE_QUEST_OR_NOT_TARGET_RANK_GOAL = \"notEventRaceQuestOrNotTargetRankGoal\",\n    PLAYER_GENDER_TYPE = \"playerGenderType\",\n    SHOP_GROUP_LIMIT_NUM = \"shopGroupLimitNum\",\n    EVENT_GROUP_POINT = \"eventGroupPoint\",\n    EVENT_GROUP_POINT_BELOW = \"eventGroupPointBelow\",\n    EVENT_TOTAL_POINT = \"eventTotalPoint\",\n    EVENT_TOTAL_POINT_BELOW = \"eventTotalPointBelow\",\n    EVENT_VALUE = \"eventValue\",\n    EVENT_VALUE_BELOW = \"eventValueBelow\",\n    EVENT_FLAG = \"eventFlag\",\n    EVENT_STATUS = \"eventStatus\",\n    NOT_EVENT_STATUS = \"notEventStatus\",\n    FORCE_FALSE = \"forceFalse\",\n    SVT_HAVING_LIMIT_MAX = \"svtHavingLimitMax\",\n    EVENT_POINT_BELOW = \"eventPointBelow\",\n    SVT_EQUIP_FRIENDSHIP_HAVING = \"svtEquipFriendshipHaving\",\n    MOVIE_NOT_DOWNLOAD = \"movieNotDownload\",\n    MULTIPLE_DATE = \"multipleDate\",\n    SVT_FRIENDSHIP_ABOVE = \"svtFriendshipAbove\",\n    SVT_FRIENDSHIP_BELOW = \"svtFriendshipBelow\",\n    MOVIE_DOWNLOADED = \"movieDownloaded\",\n    ROUTE_SELECT = \"routeSelect\",\n    NOT_ROUTE_SELECT = \"notRouteSelect\",\n    LIMIT_COUNT = \"limitCount\",\n    LIMIT_COUNT_ABOVE = \"limitCountAbove\",\n    LIMIT_COUNT_BELOW = \"limitCountBelow\",\n    BAD_END_PLAY = \"badEndPlay\",\n    COMMAND_CODE_GET = \"commandCodeGet\",\n    NOT_COMMAND_CODE_GET = \"notCommandCodeGet\",\n    ALL_USERS_BOX_GACHA_COUNT = \"allUsersBoxGachaCount\",\n    TOTAL_TD_LEVEL = \"totalTdLevel\",\n    TOTAL_TD_LEVEL_ABOVE = \"totalTdLevelAbove\",\n    TOTAL_TD_LEVEL_BELOW = \"totalTdLevelBelow\",\n    COMMON_RELEASE = \"commonRelease\",\n    BATTLE_RESULT_WIN = \"battleResultWin\",\n    BATTLE_RESULT_LOSE = \"battleResultLose\",\n    EVENT_VALUE_EQUAL = \"eventValueEqual\",\n    BOARD_GAME_TOKEN_HAVING = \"boardGameTokenHaving\",\n    BOARD_GAME_TOKEN_GROUP_HAVING = \"boardGameTokenGroupHaving\",\n    EVENT_FLAG_ON = \"eventFlagOn\",\n    EVENT_FLAG_OFF = \"eventFlagOff\",\n    QUEST_STATUS_FLAG_ON = \"questStatusFlagOn\",\n    QUEST_STATUS_FLAG_OFF = \"questStatusFlagOff\",\n    EVENT_VALUE_NOT_EQUAL = \"eventValueNotEqual\",\n    LIMIT_COUNT_MAX_EQUAL = \"limitCountMaxEqual\",\n    LIMIT_COUNT_MAX_ABOVE = \"limitCountMaxAbove\",\n    LIMIT_COUNT_MAX_BELOW = \"limitCountMaxBelow\",\n    BOARD_GAME_TOKEN_GET_NUM = \"boardGameTokenGetNum\",\n    BATTLE_LINE_WIN_ABOVE = \"battleLineWinAbove\",\n    BATTLE_LINE_LOSE_ABOVE = \"battleLineLoseAbove\",\n    BATTLE_LINE_CONTINUE_WIN = \"battleLineContinueWin\",\n    BATTLE_LINE_CONTINUE_LOSE = \"battleLineContinueLose\",\n    BATTLE_LINE_CONTINUE_WIN_BELOW = \"battleLineContinueWinBelow\",\n    BATTLE_LINE_CONTINUE_LOSE_BELOW = \"battleLineContinueLoseBelow\",\n    BATTLE_GROUP_WIN_AVOVE = \"battleGroupWinAvove\",\n    BATTLE_GROUP_LOSE_AVOVE = \"battleGroupLoseAvove\",\n}\n\nexport interface ProfileComment {\n    id: number;\n    priority: number;\n    condMessage: string;\n    comment: string;\n    condType: CommentConditionType;\n    condValues: number[];\n    condValue2: number;\n}\n\ninterface Profile {\n    stats: ProfileStats;\n    comments: ProfileComment[];\n}\n\nexport default Profile;\n","import React from \"react\";\nimport {CommentConditionType, ProfileComment} from \"../Api/Data/Profile\";\nimport Region from \"../Api/Data/Region\";\nimport QuestDescriptor from \"./QuestDescriptor\";\n\ninterface IProps {\n    region: Region;\n    comment: ProfileComment;\n}\n\nclass ProfileConditionDescriptor extends React.Component<IProps> {\n    render() {\n        const comment = this.props.comment;\n\n        let condition: JSX.Element | string = this.props.comment.condMessage;\n\n        if (!condition) {\n            if (comment.condType === CommentConditionType.NONE) {\n                condition = \"None\";\n            } else if (\n                comment.condType === CommentConditionType.QUEST_CLEAR\n                && comment.condValues.length > 0\n            ) {\n                condition = <React.Fragment>\n                    <QuestDescriptor region={this.props.region}\n                                     questId={comment.condValues[0]}\n                                     questPhase={comment.condValue2}/>\n                    &nbsp;Cleared\n                </React.Fragment>;\n            } else if (\n                comment.condType === CommentConditionType.SVT_FRIENDSHIP\n                && comment.condValues.length > 0\n            ) {\n                condition = `Bond Level ${comment.condValues[0]}`;\n            }\n        }\n\n        return (\n            <span>{condition}</span>\n        );\n    }\n}\n\nexport default ProfileConditionDescriptor;\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\nimport {ProfileComment} from \"../../Api/Data/Profile\";\nimport Region from \"../../Api/Data/Region\";\nimport ProfileConditionDescriptor from \"../../Descriptor/ProfileConditionDescriptor\";\nimport {handleNewLine} from \"../../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    comments: ProfileComment[];\n}\n\nclass ServantProfileComments extends React.Component<IProps> {\n    render() {\n        return (\n            <div>\n                <h3>Profile</h3>\n\n                <Table>\n                    <thead>\n                    <tr>\n                        <th>Condition</th>\n                        <th>Message</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {this.props.comments.map((comment, index) => {\n                        return (\n                            <tr key={index}>\n                                <td>\n                                    <ProfileConditionDescriptor region={this.props.region} comment={comment}/>\n                                </td>\n                                <td>{handleNewLine(comment.comment)}</td>\n                            </tr>\n                        )\n                    })}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default ServantProfileComments;\n","import React from 'react';\n/**\n * Iterates through children that are typically specified as `props.children`,\n * but only maps over children that are \"valid elements\".\n *\n * The mapFunction provided index will be normalised to the components mapped,\n * so an invalid component would not increase the index.\n *\n */\n\nfunction map(children, func) {\n  var index = 0;\n  return React.Children.map(children, function (child) {\n    return React.isValidElement(child) ? func(child, index++) : child;\n  });\n}\n/**\n * Iterates through children that are \"valid elements\".\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child with the index reflecting the position relative to \"valid components\".\n */\n\n\nfunction forEach(children, func) {\n  var index = 0;\n  React.Children.forEach(children, function (child) {\n    if (React.isValidElement(child)) func(child, index++);\n  });\n}\n\nexport { map, forEach };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport requiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useUncontrolled } from 'uncontrollable';\nimport Nav from './Nav';\nimport NavLink from './NavLink';\nimport NavItem from './NavItem';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\nimport { forEach, map } from './ElementChildren';\nvar defaultProps = {\n  variant: 'tabs',\n  mountOnEnter: false,\n  unmountOnExit: false\n};\n\nfunction getDefaultActiveKey(children) {\n  var defaultActiveKey;\n  forEach(children, function (child) {\n    if (defaultActiveKey == null) {\n      defaultActiveKey = child.props.eventKey;\n    }\n  });\n  return defaultActiveKey;\n}\n\nfunction renderTab(child) {\n  var _child$props = child.props,\n      title = _child$props.title,\n      eventKey = _child$props.eventKey,\n      disabled = _child$props.disabled,\n      tabClassName = _child$props.tabClassName,\n      id = _child$props.id;\n\n  if (title == null) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(NavItem, {\n    as: NavLink,\n    eventKey: eventKey,\n    disabled: disabled,\n    id: id,\n    className: tabClassName\n  }, title);\n}\n\nvar Tabs = React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      id = _useUncontrolled.id,\n      onSelect = _useUncontrolled.onSelect,\n      transition = _useUncontrolled.transition,\n      mountOnEnter = _useUncontrolled.mountOnEnter,\n      unmountOnExit = _useUncontrolled.unmountOnExit,\n      children = _useUncontrolled.children,\n      _useUncontrolled$acti = _useUncontrolled.activeKey,\n      activeKey = _useUncontrolled$acti === void 0 ? getDefaultActiveKey(children) : _useUncontrolled$acti,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, [\"id\", \"onSelect\", \"transition\", \"mountOnEnter\", \"unmountOnExit\", \"children\", \"activeKey\"]);\n\n  return /*#__PURE__*/React.createElement(TabContainer, {\n    ref: ref,\n    id: id,\n    activeKey: activeKey,\n    onSelect: onSelect,\n    transition: transition,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, /*#__PURE__*/React.createElement(Nav, _extends({}, controlledProps, {\n    role: \"tablist\",\n    as: \"nav\"\n  }), map(children, renderTab)), /*#__PURE__*/React.createElement(TabContent, null, map(children, function (child) {\n    var childProps = _extends({}, child.props);\n\n    delete childProps.title;\n    delete childProps.disabled;\n    delete childProps.tabClassName;\n    return /*#__PURE__*/React.createElement(TabPane, childProps);\n  })));\n});\nTabs.defaultProps = defaultProps;\nTabs.displayName = 'Tabs';\nexport default Tabs;","export enum ItemType {\n    QP = \"qp\",\n    STONE = \"stone\",\n    AP_RECOVER = \"apRecover\",\n    AP_ADD = \"apAdd\",\n    MANA = \"mana\",\n    KEY = \"key\",\n    GACHA_CLASS = \"gachaClass\",\n    GACHA_RELIC = \"gachaRelic\",\n    GACHA_TICKET = \"gachaTicket\",\n    LIMIT = \"limit\",\n    SKILL_LV_UP = \"skillLvUp\",\n    TD_LV_UP = \"tdLvUp\",\n    FRIEND_POINT = \"friendPoint\",\n    EVENT_POINT = \"eventPoint\",\n    EVENT_ITEM = \"eventItem\",\n    QUEST_REWARD_QP = \"questRewardQp\",\n    CHARGE_STONE = \"chargeStone\",\n    RP_ADD = \"rpAdd\",\n    BOOST_ITEM = \"boostItem\",\n    STONE_FRAGMENTS = \"stoneFragments\",\n    ANONYMOUS = \"anonymous\",\n    RARE_PRI = \"rarePri\",\n    COSTUME_RELEASE = \"costumeRelease\",\n    ITEM_SELECT = \"itemSelect\",\n    COMMAND_CARD_PRM_UP = \"commandCardPrmUp\",\n    DICE = \"dice\",\n}\n\nexport enum ItemBackgroundType {\n    ZERO = \"zero\",\n    BRONZE = \"bronze\",\n    SILVER = \"silver\",\n    GOLD = \"gold\",\n    QUEST_CLEAR_QP_REWARD = \"questClearQPReward\",\n}\n\ninterface Item {\n    id: number;\n    name: string;\n    type: ItemType;\n    icon: string;\n    background: ItemBackgroundType;\n}\n\nexport default Item;\n","import React from \"react\";\nimport Card from \"../Api/Data/Card\";\nimport Servant from \"../Api/Data/Servant\";\n\nimport \"./CommandCard.css\";\n\nconst supportedCardTypes = [\n    Card.ARTS,\n    Card.BUSTER,\n    Card.QUICK,\n];\n\ninterface IProps {\n    card: Card;\n    servant: Servant;\n    npText?: string;\n    npTextBottom?: boolean;\n    height?: string | number;\n    assetType?: string;\n    assetId?: string;\n}\n\nclass CommandCard extends React.Component<IProps> {\n    private getPortrait(): string | undefined {\n        if (this.props.assetType && this.props.assetId) {\n            const assetMap = this.props.servant.extraAssets.commands[this.props.assetType];\n            if (assetMap !== undefined) {\n                const asset = assetMap[this.props.assetId];\n\n                return asset ? asset : Object.values(assetMap).pop();\n            }\n        }\n\n        const commandBundle = this.props.servant.extraAssets.commands,\n            ascensionMap = commandBundle.ascension;\n\n        if (ascensionMap) {\n            const assets = Object.values(ascensionMap);\n\n            if (assets.length > 0) {\n                return assets[0];\n            }\n        }\n\n        const firstMap = Object.values(commandBundle).shift();\n        if (!firstMap) {\n            return undefined;\n        }\n\n        return Object.values(firstMap).shift();\n    }\n\n    render() {\n        if (supportedCardTypes.indexOf(this.props.card) === -1) {\n            return <span>[Card: {this.props.card}]</span>;\n        }\n\n        const height = this.props.height ?? '1em',\n            portrait = this.getPortrait();\n\n        let bg, icon, txt, np = false;\n\n        switch (this.props.card) {\n            case Card.ARTS:\n                bg = 'assets/card_bg_arts.png';\n                icon = 'assets/card_icon_arts.png';\n                txt = 'assets/card_txt_arts.png';\n                break;\n            case Card.BUSTER:\n                bg = 'assets/card_bg_buster.png';\n                icon = 'assets/card_icon_buster.png';\n                txt = 'assets/card_txt_buster.png';\n                break;\n            case Card.QUICK:\n                bg = 'assets/card_bg_quick.png';\n                icon = 'assets/card_icon_quick.png';\n                txt = 'assets/card_txt_quick.png';\n                break;\n        }\n\n        if (this.props.npText) {\n            txt = this.props.npText;\n            np = true;\n        }\n\n        return <span className={'command-card'} style={{height: height}}>\n            <img alt={''} className={'command-card-ratio'}\n                 src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/>\n            <img alt={''} className={'command-card-bg'} src={bg}/>\n            <img alt={''} className={'command-card-portrait'} src={portrait}/>\n            <img alt={''} className={'command-card-icon'} src={icon}/>\n            {\n                np\n                    ? <div className={'command-card-text-np' + (this.props.npTextBottom ? ' bottom' : '')}>\n                        <img alt={''} src={txt}/>\n                    </div>\n                    : <img className={'command-card-text-card'} alt={''} src={txt}/>\n            }\n        </span>;\n    }\n}\n\nexport default CommandCard;\n","import React from \"react\";\nimport {Alert, Col, Row} from \"react-bootstrap\";\nimport {default as ServantNoblePhantasmData} from \"../Api/Data/NoblePhantasm\";\nimport Region from \"../Api/Data/Region\";\nimport Servant from \"../Api/Data/Servant\";\nimport CardType from \"../Component/CardType\";\nimport CommandCard from \"../Component/CommandCard\";\nimport NoblePhantasmDescriptor from \"../Descriptor/NoblePhantasmDescriptor\";\nimport QuestDescriptor from \"../Descriptor/QuestDescriptor\";\nimport {asPercent, handleNewLine, mergeElements} from \"../Helper/OutputHelper\";\nimport EffectBreakdown from \"./EffectBreakdown\";\n\ninterface IProps {\n    region: Region;\n    servant: Servant;\n    noblePhantasm: ServantNoblePhantasmData;\n    assetType?: string;\n    assetId?: string;\n}\n\nclass NoblePhantasmBreakdown extends React.Component<IProps> {\n    private npCommandCard() {\n        return <CommandCard height={200}\n                            card={this.props.noblePhantasm.card}\n                            servant={this.props.servant}\n                            npText={this.props.noblePhantasm.icon}\n                            npTextBottom={this.props.servant.id === 800100 && this.props.noblePhantasm.id === 800101}\n                            assetType={this.props.assetType}\n                            assetId={this.props.assetId}/>;\n    }\n\n    render() {\n        const np = this.props.noblePhantasm;\n\n        return (\n            <div>\n                <Row>\n                    <Col lg={3} className={'text-center d-block d-sm-block d-md-block d-lg-none'}>\n                        {this.npCommandCard()}\n                        <br/>\n                    </Col>\n\n                    <Col xs={12} lg={9}>\n                        <h3>\n                            <NoblePhantasmDescriptor region={this.props.region} noblePhantasm={np}/>\n                        </h3>\n\n                        {np.condQuestId && np.condQuestPhase ? (\n                            <Alert variant={'primary'}>\n                                Available after <QuestDescriptor region={this.props.region}\n                                                                 questId={np.condQuestId}\n                                                                 questPhase={np.condQuestPhase}/>\n                            </Alert>\n                        ) : null}\n\n                        <p>{handleNewLine(np.detail)}</p>\n\n                        <p>\n                            Card: <CardType card={np.card} height={60}/><br/>\n                            Hits: {np.npDistribution.length} Hits\n                            - {mergeElements(np.npDistribution.map(hit => asPercent(hit, 0)), ', ')}\n                        </p>\n                    </Col>\n\n                    <Col lg={3} className={'text-right d-none d-lg-block d-xl-block'}>\n                        {this.npCommandCard()}\n                        <br/>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col>\n                        <EffectBreakdown region={this.props.region}\n                                         funcs={np.functions}\n                                         gain={np.npGain}\n                                         levels={5}/>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default NoblePhantasmBreakdown;\n","import React from \"react\";\nimport Region from \"../../Api/Data/Region\";\nimport Servant from \"../../Api/Data/Servant\";\nimport {mergeElements} from \"../../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    servant: Servant;\n}\n\nclass ServantAssets extends React.Component<IProps>{\n    private flattenAssetMap(type: string): string[] {\n        const assetBundle = this.props.servant.extraAssets[type];\n        if (!assetBundle)\n            return [];\n\n        const assets : string[] = [];\n\n        Object.values(assetBundle).forEach(assetMap => {\n            if (!assetMap)\n                return;\n\n            Object.values(assetMap).forEach(asset => {\n                if (!asset)\n                    return;\n\n                assets.push(asset)\n            });\n        });\n\n        return assets;\n    }\n\n    private displayAssets(key: string) {\n        const assets = this.flattenAssetMap(key);\n\n        return mergeElements(\n            assets.map(asset => <a href={asset} target={'_blank'} rel={'noopener noreferrer'}>\n                <img alt={''} src={asset} style={{maxWidth: \"100%\"}}/>\n            </a>),\n            ''\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <h3>Portraits</h3>\n                <div>\n                    {this.displayAssets('charaGraph')}\n                </div>\n\n                <hr/>\n\n                <h3>Status</h3>\n                <div>\n                    {this.displayAssets('status')}\n                </div>\n\n                <hr/>\n\n                <h3>Command</h3>\n                <div>\n                    {this.displayAssets('commands')}\n                </div>\n\n                <hr/>\n\n                <h3>Thumbnail</h3>\n                <div>\n                    {this.displayAssets('faces')}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ServantAssets;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Connection from \"../Api/Connection\";\nimport CraftEssence from \"../Api/Data/CraftEssence\";\nimport Region from \"../Api/Data/Region\";\nimport CraftEssenceDescriptor from \"./CraftEssenceDescriptor\";\n\ninterface IProps {\n    region: Region;\n    id: number;\n}\n\ninterface IState {\n    craftEssence?: CraftEssence;\n}\n\nclass CraftEssenceReferenceDescriptor extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {};\n    }\n\n    async componentDidMount() {\n        try {\n            this.setState({\n                craftEssence: await Connection.craftEssence(this.props.region, this.props.id)\n            });\n        } catch (e) {\n            // do nothing\n        }\n    }\n\n    render() {\n        const route = `/${this.props.region}/craft-essence/${this.props.id}`;\n\n        if (this.state.craftEssence === undefined) {\n            return <Link to={route}>[Craft Essence: {this.props.id}]</Link>;\n        }\n\n        return (\n            <CraftEssenceDescriptor region={this.props.region} craftEssence={this.state.craftEssence}/>\n        );\n    }\n}\n\nexport default CraftEssenceReferenceDescriptor;\n","import React from \"react\";\nimport Region from \"../../Api/Data/Region\";\nimport Servant from \"../../Api/Data/Servant\";\nimport ClassIcon from \"../../Component/ClassIcon\";\nimport CommandCard from \"../../Component/CommandCard\";\nimport DataTable from \"../../Component/DataTable\";\nimport RawDataViewer from \"../../Component/RawDataViewer\";\nimport CraftEssenceReferenceDescriptor from \"../../Descriptor/CraftEssenceReferenceDescriptor\";\nimport RarityDescriptor from \"../../Descriptor/RarityDescriptor\";\nimport {formatNumber} from \"../../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    servant: Servant;\n    assetType?: string;\n    assetId?: string;\n}\n\nclass ServantMainData extends React.Component<IProps> {\n    render() {\n        const servant = this.props.servant;\n\n        return (\n            <div>\n                <h1>\n                    <ClassIcon className={servant.className} rarity={servant.rarity} height={50}/>\n                    &nbsp;\n                    {servant.name}\n                </h1>\n\n                <DataTable data={{\n                    \"Data\": <RawDataViewer data={servant}/>,\n                    \"Raw\": <RawDataViewer\n                        data={`https://api.atlasacademy.io/raw/${this.props.region}/servant/${this.props.servant.id}?expand=true&lore=true`}/>,\n                    \"ID\": servant.id,\n                    \"Collection\": servant.collectionNo,\n                    \"Name\": servant.name,\n                    \"Class\": servant.className,\n                    \"Rarity\": <RarityDescriptor rarity={servant.rarity}/>,\n                    \"Cost\": servant.cost,\n                    \"Attribute\": servant.attribute,\n                    \"Hp\": <div>\n                        Base: {formatNumber(servant.hpBase)}\n                        &nbsp;&nbsp;&nbsp;&nbsp;\n                        Max: {formatNumber(servant.hpMax)}\n                    </div>,\n                    \"Atk\": <div>\n                        Base: {formatNumber(servant.atkBase)}\n                        &nbsp;&nbsp;&nbsp;&nbsp;\n                        Max: {formatNumber(servant.atkMax)}\n                    </div>,\n                    \"Cards\": <div>\n                        {servant.cards.map((card, index) => {\n                            return <CommandCard key={index}\n                                                height={60}\n                                                card={card}\n                                                servant={servant}\n                                                assetType={this.props.assetType}\n                                                assetId={this.props.assetId}/>;\n                        })}\n                    </div>,\n                    \"Bond CE\": (\n                        servant.bondEquip\n                            ? <CraftEssenceReferenceDescriptor region={this.props.region} id={servant.bondEquip}/>\n                            : ''\n                    )\n                }}/>\n            </div>\n        );\n    }\n}\n\nexport default ServantMainData;\n","import React from \"react\";\nimport Item, {ItemBackgroundType} from \"../Api/Data/Item\";\nimport Region from \"../Api/Data/Region\";\nimport {formatNumber} from \"../Helper/OutputHelper\";\n\nimport \"./ItemIcon.css\";\n\nconst frameBgMap = new Map<ItemBackgroundType, string>([\n    [ItemBackgroundType.ZERO, 'assets/list/listframes0_bg.png'],\n    [ItemBackgroundType.BRONZE, 'assets/list/listframes1_bg.png'],\n    [ItemBackgroundType.SILVER, 'assets/list/listframes2_bg.png'],\n    [ItemBackgroundType.GOLD, 'assets/list/listframes3_bg.png'],\n    [ItemBackgroundType.QUEST_CLEAR_QP_REWARD, 'assets/list/listframes4_bg.png'],\n]);\n\ninterface IProps {\n    region: Region;\n    item: Item,\n    quantity?: number;\n    height?: string | number;\n    quantityHeight?: string | number;\n}\n\nclass ItemIcon extends React.Component<IProps> {\n    private getQuantity() {\n        if (!this.props.quantity)\n            return undefined;\n\n        const int = Math.floor(this.props.quantity),\n            quantity = formatNumber(int),\n            height = this.props.quantityHeight ?? '1em';\n\n        return <span className={'item-icon-quantity'} style={{fontSize: height}}>{quantity}</span>;\n    }\n\n    render() {\n        const bg = frameBgMap.get(this.props.item.background) ?? 'listframes0_bg.png',\n            height = this.props.height ?? '2em';\n\n        return (\n            <span className={'item-icon'} style={{height: height}}>\n                <img alt={''} className={'item-icon-ratio'}\n                     src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"/>\n                <img alt={''} className={'item-icon-bg'} src={bg}/>\n                <img alt={''} className={'item-icon-image'} src={this.props.item.icon}/>\n                {this.getQuantity()}\n            </span>\n        );\n    }\n}\n\nexport default ItemIcon;\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\nimport Item, {ItemBackgroundType, ItemType} from \"../../Api/Data/Item\";\nimport Region from \"../../Api/Data/Region\";\nimport {ServantLevelUpMaterialProgression} from \"../../Api/Data/Servant\";\nimport ItemIcon from \"../../Component/ItemIcon\";\n\nconst qpItem: Item = {\n    id: 1,\n    name: \"QP\",\n    type: ItemType.QP,\n    icon: \"https://assets.atlasacademy.io/GameData/NA/Items/5.png\",\n    background: ItemBackgroundType.ZERO\n};\n\nconst iconHeight = 75;\n\ninterface IProps {\n    region: Region;\n    materials: ServantLevelUpMaterialProgression;\n    title: string;\n}\n\nclass ServantMaterialBreakdown extends React.Component<IProps> {\n    private getMaxMaterialCount(): number {\n        const counts = Object.values(this.props.materials).map(materials => {\n            return materials.items.length;\n        });\n\n        return counts.length ? Math.max(...counts) : 0;\n    }\n\n    private populateRemainingCells(max: number, count: number) {\n        if (count >= max) {\n            return [];\n        }\n\n        return [\n            ...Array(max - count)\n        ].map((_, index) => <td key={index}></td>);\n    }\n\n    render() {\n        const count = this.getMaxMaterialCount();\n\n        return (\n            <div>\n                <h3>{this.props.title}</h3>\n\n                <Table>\n                    <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>QP</th>\n                        {this.populateRemainingCells(count, 0)}\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {Object.keys(this.props.materials).map(key => {\n                        return <tr key={key}>\n                            <td style={{verticalAlign: 'middle'}}>{key}</td>\n                            <td>\n                                <ItemIcon region={this.props.region}\n                                          item={qpItem}\n                                          quantity={this.props.materials[key].qp}\n                                          height={iconHeight}\n                                          quantityHeight={11}/>\n                            </td>\n                            {this.props.materials[key].items.map(\n                                (itemAndQuantity, index) => {\n                                    return <td key={index}>\n                                        <ItemIcon region={this.props.region}\n                                                  item={itemAndQuantity.item}\n                                                  quantity={itemAndQuantity.amount}\n                                                  height={iconHeight}\n                                                  quantityHeight={18}/>\n                                    </td>\n                                }\n                            )}\n                            {this.populateRemainingCells(count, this.props.materials[key].items.length)}\n                        </tr>;\n                    })}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default ServantMaterialBreakdown;\n","import React from \"react\";\nimport {Col, Row} from \"react-bootstrap\";\nimport Servant from \"../../Api/Data/Servant\";\nimport BuffIcon from \"../../Component/BuffIcon\";\nimport DataTable from \"../../Component/DataTable\";\nimport {asPercent} from \"../../Helper/OutputHelper\";\n\nconst buffIconPath = 'https://assets.atlasacademy.io/GameData/JP/BuffIcons',\n    deathChanceIcon = `${buffIconPath}/bufficon_337.png`,\n    hitCountIcon = `${buffIconPath}/bufficon_349.png`,\n    starGenIcon = `${buffIconPath}/bufficon_320.png`,\n    showHits = function (hits: number[] | undefined): JSX.Element | string {\n        if (hits === undefined)\n            return '';\n\n        return <span>\n            {hits.map((hit, index) => {\n                return (index > 0 ? ', ' : '') + asPercent(hit, 0);\n            })}\n            &nbsp;-&nbsp;\n            {hits.length} Hits\n        </span>\n    };\n\ninterface IProps {\n    servant: Servant;\n}\n\nclass ServantMiscData extends React.Component<IProps> {\n    private hitsColumn() {\n        return (\n            <Col xs={12} md={12} lg={6}>\n                <DataTable\n                    header={(\n                        <div>\n                            <BuffIcon location={hitCountIcon}/>\n                            &nbsp;\n                            Hit Count\n                        </div>\n                    )}\n                    data={{\n                        \"Buster\": showHits(this.props.servant.hitsDistribution.buster),\n                        \"Arts\": showHits(this.props.servant.hitsDistribution.arts),\n                        \"Quick\": showHits(this.props.servant.hitsDistribution.quick),\n                        \"Extra\": showHits(this.props.servant.hitsDistribution.extra),\n                    }}/>\n            </Col>\n        );\n    }\n\n    private miscColumn() {\n        return (\n            <Col xs={12} md={12} lg={6}>\n                <DataTable\n                    header={(\n                        <div>\n                            <BuffIcon location={starGenIcon}/>&nbsp;Crit Stars\n                        </div>\n                    )}\n                    data={{\n                        \"Star Absorb\": this.props.servant.starAbsorb,\n                        \"Star Gen\": asPercent(this.props.servant.starGen, 1),\n                    }}/>\n\n                <DataTable\n                    header={(\n                        <div>\n                            <BuffIcon location={deathChanceIcon}/>&nbsp;Instant Death\n                        </div>\n                    )}\n                    data={{\n                        \"Death Chance\": asPercent(this.props.servant.instantDeathChance, 1),\n                    }}/>\n            </Col>\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                    {this.hitsColumn()}\n                    {this.miscColumn()}\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default ServantMiscData;\n","import React from \"react\";\nimport {Form} from \"react-bootstrap\";\nimport {withRouter} from \"react-router\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport BasicListEntity from \"../../Api/Data/BasicListEntity\";\nimport Region from \"../../Api/Data/Region\";\nimport SearchableSelect from \"../../Component/SearchableSelect\";\n\ninterface Event extends React.ChangeEvent<HTMLInputElement> {\n\n}\n\ninterface IProps extends RouteComponentProps {\n    region: Region;\n    id: number;\n    servants: BasicListEntity[];\n}\n\nclass ServantPicker extends React.Component<IProps> {\n    private changeServant(id: number) {\n        this.props.history.push(`/${this.props.region}/servant/${id}`);\n    }\n\n    render() {\n        const servants = this.props.servants.slice().reverse(),\n            servantLabels = new Map<number, string>(servants.map(servant => [\n                servant.collectionNo,\n                `${servant.collectionNo.toString().padStart(3, '0')} - ${servant.name}`\n            ]));\n\n        return (\n            <div>\n                <form>\n                    <Form.Group>\n                        <Form.Label>Jump to:</Form.Label>\n                        <SearchableSelect<number> id='servantPicker'\n                                                  options={servants.map(servant => servant.collectionNo)}\n                                                  labels={servantLabels}\n                                                  selected={this.props.id}\n                                                  hideAll={true}\n                                                  hideReset={true}\n                                                  disableLabelStyling={true}\n                                                  maxResults={20}\n                                                  onChange={(value?: number) => {\n                                                      if (value) {\n                                                          this.changeServant(value);\n                                                      }\n                                                  }}/>\n                    </Form.Group>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ServantPicker);\n","import React from \"react\";\nimport {AssetMap} from \"../../Api/Data/AssetCollection\";\nimport Servant from \"../../Api/Data/Servant\";\n\nimport \"./ServantPortrait.css\";\n\nconst arrowImage = 'assets/img_arrow_load.png';\n\ninterface AssetReference {\n    assetType: string;\n    assetId: string;\n}\n\ninterface IProps {\n    servant: Servant;\n    assetType?: string;\n    assetId?: string;\n    updatePortraitCallback: Function;\n}\n\ninterface IState {\n    assetMap?: AssetMap;\n    assetKey?: string;\n}\n\nclass ServantPortrait extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        const assetMap = (\n                props.servant.extraAssets.charaGraph.ascension\n                ?? Object.values(props.servant.extraAssets.charaGraph).shift()\n            ),\n            assetKey = assetMap === undefined ? undefined : Object.keys(assetMap).shift();\n\n        this.state = {assetMap, assetKey};\n    }\n\n    private getAssetArray(): AssetReference[] {\n        if (!this.props.servant.extraAssets.charaGraph)\n            return [];\n\n        const assetArray: AssetReference[] = [];\n\n        Object.keys(this.props.servant.extraAssets.charaGraph).forEach(assetType => {\n            const assetMap = this.props.servant.extraAssets.charaGraph[assetType];\n            if (!assetMap)\n                return;\n\n            Object.keys(assetMap).forEach(assetId => {\n                assetArray.push({assetType, assetId});\n            });\n        });\n\n        return assetArray;\n    }\n\n    private getAssetLocation(): string | undefined {\n        if (!this.props.assetType || !this.props.assetId)\n            return undefined;\n\n        const assetMap = this.props.servant.extraAssets.charaGraph[this.props.assetType];\n        if (!assetMap)\n            return undefined;\n\n        return assetMap[this.props.assetId];\n    }\n\n    private getArrow(assetArray: AssetReference[], next: boolean) {\n        let index: number | undefined = undefined;\n\n        assetArray.find((assetReference, i) => {\n            if (assetReference.assetType === this.props.assetType\n                && assetReference.assetId === this.props.assetId) {\n                index = i;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        if (index === undefined)\n            return undefined;\n\n        let targetReference: AssetReference | undefined;\n        if (next && index + 1 < assetArray.length)\n            targetReference = assetArray[index + 1];\n        if (!next && index > 0)\n            targetReference = assetArray[index - 1];\n\n        if (targetReference === undefined)\n            return undefined;\n\n        return <img alt={''}\n                    className={`arrow ${next ? '' : 'back'}`}\n                    src={arrowImage}\n                    onClick={() => {\n                        this.props.updatePortraitCallback.call(\n                            null,\n                            targetReference?.assetType,\n                            targetReference?.assetId\n                        );\n                    }}/>;\n    }\n\n    render() {\n        const assetArray = this.getAssetArray();\n\n        return (\n            <div>\n                <div id={'servant-portrait'}>\n                    {this.getArrow(assetArray, false)}\n                    {this.getArrow(assetArray, true)}\n                    <img alt={this.props.servant.name}\n                         id={'servant-portrait-image'}\n                         src={this.getAssetLocation()}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ServantPortrait;\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\nimport {ProfileStats} from \"../../Api/Data/Profile\";\nimport Region from \"../../Api/Data/Region\";\n\ninterface IProps {\n    region: Region;\n    stats: ProfileStats;\n}\n\nclass ServantProfileStats extends React.Component<IProps> {\n    render() {\n        const stats = this.props.stats;\n\n        return (\n            <div>\n                <h3>Stats</h3>\n\n                <Table responsive>\n                    <thead>\n                    <tr>\n                        <th>Strength</th>\n                        <th>Endurance</th>\n                        <th>Agility</th>\n                        <th>Magic</th>\n                        <th>Luck</th>\n                        <th>NP</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td>{stats.strength}</td>\n                        <td>{stats.endurance}</td>\n                        <td>{stats.agility}</td>\n                        <td>{stats.magic}</td>\n                        <td>{stats.luck}</td>\n                        <td>{stats.np}</td>\n                    </tr>\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default ServantProfileStats;\n","import React from \"react\";\nimport {Table} from \"react-bootstrap\";\nimport Region from \"../../Api/Data/Region\";\nimport Servant from \"../../Api/Data/Servant\";\nimport BuffIcon from \"../../Component/BuffIcon\";\nimport {formatNumber} from \"../../Helper/OutputHelper\";\n\nconst grailIcon = 'https://assets.atlasacademy.io/GameData/NA/Items/7999.png';\n\ninterface IProps {\n    region: Region;\n    servant: Servant;\n}\n\nclass ServantStatGrowth extends React.Component<IProps> {\n    render() {\n        return (\n            <div>\n                <Table responsive>\n                    <thead>\n                    <tr>\n                        <th style={{width: 1}}>&nbsp;</th>\n                        <th>Level</th>\n                        <th>HP</th>\n                        <th>ATK</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {[...Array(100)].map((_, i) => {\n                        const index = 100 - i - 1;\n\n                        return (\n                            <tr key={i}>\n                                <td>\n                                    {index >= this.props.servant.lvMax ? <BuffIcon location={grailIcon}/> : null}\n                                </td>\n                                <td>{index + 1}</td>\n                                <td>{formatNumber(this.props.servant.hpGrowth[index])}</td>\n                                <td>{formatNumber(this.props.servant.atkGrowth[index])}</td>\n                            </tr>\n                        );\n                    })}\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default ServantStatGrowth;\n","import React from \"react\";\nimport Region from \"../../Api/Data/Region\";\nimport Trait from \"../../Api/Data/Trait\";\nimport TraitDescriptor from \"../../Descriptor/TraitDescriptor\";\nimport {joinElements} from \"../../Helper/OutputHelper\";\n\ninterface IProps {\n    region: Region;\n    traits: Trait[];\n}\n\nclass ServantTraits extends React.Component<IProps> {\n    render() {\n        return (\n            <div>\n                {joinElements(\n                    this.props.traits.map(trait => <TraitDescriptor region={this.props.region} trait={trait}/>),\n                    ', '\n                ).map(\n                    (element, index) => <span key={index}>{element}</span>\n                )}\n\n                <br/>\n                <br/>\n                <br/>\n            </div>\n        );\n    }\n}\n\nexport default ServantTraits;\n","import {AxiosError} from \"axios\";\nimport React from \"react\";\nimport {Col, Row, Tab, Tabs} from \"react-bootstrap\";\nimport {withRouter} from \"react-router\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport Connection from \"../Api/Connection\";\nimport BasicListEntity from \"../Api/Data/BasicListEntity\";\nimport Region from \"../Api/Data/Region\";\nimport Servant from \"../Api/Data/Servant\";\nimport TraitMap from \"../Api/Data/TraitMap\";\nimport NoblePhantasmBreakdown from \"../Breakdown/NoblePhantasmBreakdown\";\nimport SkillBreakdown from \"../Breakdown/SkillBreakdown\";\nimport ErrorStatus from \"../Component/ErrorStatus\";\nimport Loading from \"../Component/Loading\";\nimport ServantAssets from \"./Servant/ServantAssets\";\nimport ServantMainData from \"./Servant/ServantMainData\";\nimport ServantMaterialBreakdown from \"./Servant/ServantMaterialBreakdown\";\nimport ServantMiscData from \"./Servant/ServantMiscData\";\nimport ServantPicker from \"./Servant/ServantPicker\";\nimport ServantPortrait from \"./Servant/ServantPortrait\";\nimport ServantProfileComments from \"./Servant/ServantProfileComments\";\nimport ServantProfileStats from \"./Servant/ServantProfileStats\";\nimport ServantStatGrowth from \"./Servant/ServantStatGrowth\";\nimport ServantTraits from \"./Servant/ServantTraits\";\n\ninterface IProps extends RouteComponentProps {\n    region: Region;\n    id: number;\n    tab?: string;\n}\n\ninterface IState {\n    error?: AxiosError;\n    loading: boolean;\n    id: number;\n    servants: BasicListEntity[];\n    servant?: Servant;\n    assetType?: string;\n    assetId?: string;\n}\n\nclass ServantPage extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            id: this.props.id,\n            servants: [],\n        };\n    }\n\n    componentDidMount() {\n        this.loadServant();\n    }\n\n    async loadServant() {\n        try {\n            let [servants, servant] = await Promise.all<BasicListEntity[], Servant, TraitMap>([\n                Connection.servantList(this.props.region),\n                Connection.servant(this.props.region, this.state.id),\n                Connection.traitMap(this.props.region)\n            ]);\n\n            const assetType = Object.keys(servant.extraAssets.charaGraph)[0],\n                assetMap = assetType ? servant.extraAssets.charaGraph[assetType] : undefined,\n                assetId = assetMap ? Object.keys(assetMap)[0] : undefined;\n\n            this.setState({\n                loading: false,\n                servants,\n                servant,\n                assetType,\n                assetId\n            });\n        } catch (e) {\n            this.setState({\n                error: e\n            });\n        }\n    }\n\n    private updatePortrait(assetType: string, assetId: string) {\n        this.setState({assetType, assetId});\n    }\n\n    render() {\n        if (this.state.error)\n            return <ErrorStatus error={this.state.error}/>;\n\n        if (this.state.loading || !this.state.servant)\n            return <Loading/>;\n\n        const servant = this.state.servant;\n\n        return (\n            <div id={'servant'}>\n                <ServantPicker region={this.props.region}\n                               servants={this.state.servants}\n                               id={this.state.servant.collectionNo}/>\n                <hr/>\n\n                <Row>\n                    <Col xs={{span: 12, order: 2}} lg={{span: 6, order: 1}}>\n                        <ServantMainData region={this.props.region}\n                                         servant={this.state.servant}\n                                         assetType={this.state.assetType}\n                                         assetId={this.state.assetId}/>\n                    </Col>\n                    <Col xs={{span: 12, order: 1}} lg={{span: 6, order: 2}}>\n                        <ServantPortrait servant={this.state.servant}\n                                         assetType={this.state.assetType}\n                                         assetId={this.state.assetId}\n                                         updatePortraitCallback={\n                                             (assetType: string, assetId: string) => {\n                                                 this.updatePortrait(assetType, assetId)\n                                             }\n                                         }/>\n                    </Col>\n                </Row>\n\n                <Tabs id={'servant-tabs'} defaultActiveKey={this.props.tab ?? 'skill-1'} transition={false}\n                      onSelect={(key: string) => {\n                          this.props.history.replace(`/${this.props.region}/servant/${this.props.id}/${key}`);\n                      }}>\n                    <Tab eventKey={'skill-1'} title={'Skill 1'}>\n                        <br/>\n                        {this.state.servant.skills\n                            .filter(skill => skill.num === 1)\n                            .map((skill, index) => {\n                                return <SkillBreakdown region={this.props.region}\n                                                       key={index}\n                                                       skill={skill}\n                                                       cooldowns={true}\n                                                       levels={10}/>;\n                            })}\n                    </Tab>\n                    <Tab eventKey={'skill-2'} title={'Skill 2'}>\n                        <br/>\n                        {this.state.servant.skills\n                            .filter(skill => skill.num === 2)\n                            .map((skill, index) => {\n                                return <SkillBreakdown region={this.props.region}\n                                                       key={index}\n                                                       skill={skill}\n                                                       cooldowns={true}\n                                                       levels={10}/>;\n                            })}\n                    </Tab>\n                    <Tab eventKey={'skill-3'} title={'Skill 3'}>\n                        <br/>\n                        {this.state.servant.skills\n                            .filter(skill => skill.num === 3)\n                            .map((skill, index) => {\n                                return <SkillBreakdown region={this.props.region}\n                                                       key={index}\n                                                       skill={skill}\n                                                       cooldowns={true}\n                                                       levels={10}/>;\n                            })}\n                    </Tab>\n                    <Tab eventKey={'noble-phantasms'} title={'Noble Phantasms'}>\n                        <br/>\n                        {this.state.servant.noblePhantasms\n                            .filter(noblePhantasm => noblePhantasm.functions.length > 0)\n                            .map((noblePhantasm, index) => {\n                                return <NoblePhantasmBreakdown key={index}\n                                                               region={this.props.region}\n                                                               servant={servant}\n                                                               noblePhantasm={noblePhantasm}\n                                                               assetType={this.state.assetType}\n                                                               assetId={this.state.assetId}/>;\n                            })}\n                    </Tab>\n                    <Tab eventKey={'passives'} title={'Passives'}>\n                        <br/>\n                        <Row>\n                            {servant.classPassive.map((skill, index) => {\n                                return (\n                                    <Col xs={12}\n                                         lg={(servant.classPassive.length ?? 1) > 1 ? 6 : 12}\n                                         key={index}>\n                                        <SkillBreakdown region={this.props.region} skill={skill} cooldowns={false}/>\n                                    </Col>\n                                );\n                            })}\n                        </Row>\n                    </Tab>\n                    <Tab eventKey={'traits'} title={'Traits'}>\n                        <br/>\n                        <ServantTraits region={this.props.region} traits={this.state.servant.traits}/>\n                    </Tab>\n                    <Tab eventKey={'materials'} title={'Materials'}>\n                        <br/>\n                        <Row>\n                            <Col xs={12} lg={6}>\n                                <ServantMaterialBreakdown region={this.props.region}\n                                                          materials={servant.ascensionMaterials}\n                                                          title={'Ascension Materials'}/>\n                            </Col>\n                            <Col xs={12} lg={6}>\n                                <ServantMaterialBreakdown region={this.props.region}\n                                                          materials={servant.skillMaterials}\n                                                          title={'Skill Materials'}/>\n                            </Col>\n                        </Row>\n                    </Tab>\n                    <Tab eventKey={'stat-growth'} title={'Stat Growth'}>\n                        <br/>\n                        <ServantStatGrowth region={this.props.region} servant={servant}/>\n                    </Tab>\n                    <Tab eventKey={'misc'} title={'Misc'}>\n                        <br/>\n                        <ServantMiscData servant={this.state.servant}/>\n                    </Tab>\n                    <Tab eventKey={'lore'} title={'Profile'}>\n                        <br/>\n                        <ServantProfileStats region={this.props.region} stats={servant.profile.stats}/>\n                        <hr/>\n                        <ServantProfileComments region={this.props.region} comments={servant.profile.comments}/>\n                    </Tab>\n                    <Tab eventKey={'assets'} title={'Assets'}>\n                        <br/>\n                        <ServantAssets region={this.props.region} servant={servant}/>\n                    </Tab>\n                </Tabs>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ServantPage);\n"],"sourceRoot":""}