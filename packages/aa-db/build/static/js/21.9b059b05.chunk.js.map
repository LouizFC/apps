{"version":3,"sources":["Component/FaceIcon.tsx","Descriptor/RarityDescriptor.tsx","Page/CommandCodesPage.tsx"],"names":["FaceIcon","alt","src","this","props","location","style","height","React","Component","assetMap","Map","RarityDescriptor","has","rarity","get","CommandCodesPage","state","loading","commandCodes","Manager","setRegion","region","Api","commandCodeList","then","list","setState","e","error","slice","reverse","search","glob","diacritics","remove","toLowerCase","split","filter","word","join","entity","normalizedName","name","minimatch","id","inline","justifyContent","Control","marginLeft","placeholder","value","onChange","ev","target","striped","bordered","hover","responsive","textAlign","width","map","commandCode","index","route","key","align","to","collectionNo","extraAssets","faces","cc"],"mappings":"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","file":"static/js/21.9b059b05.chunk.js","sourcesContent":["import EntityType from \"@atlasacademy/api-connector/dist/Enum/EntityType\";\nimport React from \"react\";\n\ninterface IProps {\n    type?: EntityType;\n    rarity?: number;\n    location: string;\n    height?: number | string;\n}\n\nclass FaceIcon extends React.Component<IProps> {\n\n    render() {\n        return (\n            <img alt={''} src={this.props.location}\n                 style={{height: this.props.height ?? '2em'}}/>\n        );\n    }\n\n}\n\nexport default FaceIcon;\n","import React from \"react\";\n\nconst assetMap = new Map<number, string>([\n    [1, './assets/star1.png'],\n    [2, './assets/star2.png'],\n    [3, './assets/star3.png'],\n    [4, './assets/star4.png'],\n    [5, './assets/star5.png'],\n]);\n\ninterface IProps {\n    rarity: number;\n    height?: number;\n}\n\nclass RarityDescriptor extends React.Component<IProps> {\n    render() {\n        return (\n            <span>\n                {assetMap.has(this.props.rarity) ? (\n                    <img alt={`${this.props.rarity} star(s)`}\n                         src={assetMap.get(this.props.rarity)}\n                         style={{height: this.props.height ?? 18}}/>\n                ) : null}\n            </span>\n        );\n    }\n}\n\nexport default RarityDescriptor;\n","import {CommandCode, Region} from \"@atlasacademy/api-connector\";\nimport {AxiosError} from \"axios\";\nimport minimatch from \"minimatch\";\nimport React from \"react\";\nimport {Form, Table} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\nimport Api from \"../Api\";\nimport ErrorStatus from \"../Component/ErrorStatus\";\nimport FaceIcon from \"../Component/FaceIcon\";\nimport Loading from \"../Component/Loading\";\nimport RarityDescriptor from \"../Descriptor/RarityDescriptor\";\nimport diacritics from 'diacritics';\n\nimport \"./CommandCodesPage.css\";\nimport Manager from \"../Setting/Manager\";\n\ninterface ChangeEvent extends React.ChangeEvent<HTMLInputElement> {\n\n}\n\ninterface IProps {\n    region: Region;\n}\n\ninterface IState {\n    error?: AxiosError;\n    loading: boolean;\n    commandCodes: CommandCode[];\n    search?: string;\n}\n\nclass CommandCodesPage extends React.Component<IProps, IState> {\n    constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            commandCodes: [],\n        };\n    }\n\n    componentDidMount() {\n        try {\n            Manager.setRegion(this.props.region);\n            Api.commandCodeList().then(list => {\n                this.setState({\n                    loading: false,\n                    commandCodes: list\n                });\n            });\n        } catch (e) {\n            this.setState({\n                error: e\n            });\n        }\n    }\n\n    private commandCodes(): CommandCode[] {\n        let list = this.state.commandCodes.slice().reverse();\n\n        if (this.state.search) {\n            const glob = diacritics.remove(this.state.search.toLowerCase())\n                .split(' ')\n                .filter(word => word)\n                .join('*');\n\n            list = list.filter(\n                entity => {\n                    const normalizedName = diacritics.remove(entity.name.toLowerCase());\n\n                    return minimatch(normalizedName, `*${glob}*`);\n                }\n            );\n        }\n\n        return list;\n    }\n\n    render() {\n        if (this.state.error)\n            return <ErrorStatus error={this.state.error}/>;\n\n        if (this.state.loading)\n            return <Loading/>;\n\n        return (\n            <div id={'command-codes'}>\n                <Form inline style={{justifyContent: 'center'}}>\n                    <Form.Control style={{marginLeft: 'auto'}} placeholder={'Search'} value={this.state.search ?? ''}\n                                  onChange={(ev: ChangeEvent) => {\n                                      this.setState({search: ev.target.value});\n                                  }}/>\n                </Form>\n\n                <hr/>\n\n                <Table striped bordered hover responsive>\n                    <thead>\n                    <tr>\n                        <th style={{textAlign: \"center\", width: '1px'}}>#</th>\n                        <th style={{textAlign: \"center\", width: '1px'}}>Thumbnail</th>\n                        <th>Name</th>\n                        <th>Rarity</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {this.commandCodes()\n                        .map((commandCode, index) => {\n                            const route = `/${this.props.region}/command-code/${commandCode.id}`;\n\n                            return <tr key={index}>\n                                <td align={\"center\"}>\n                                    <Link to={route}>\n                                        {commandCode.collectionNo}\n                                    </Link>\n                                </td>\n                                <td align={\"center\"}>\n                                    <Link to={route}>\n                                        <FaceIcon rarity={commandCode.rarity}\n                                                  location={(\n                                                      commandCode.extraAssets.faces.cc\n                                                          ? commandCode.extraAssets.faces.cc[commandCode.id] ?? ''\n                                                          : ''\n                                                  )}\n                                                  height={50}/>\n                                    </Link>\n                                </td>\n                                <td>\n                                    <Link to={route}>\n                                        {commandCode.name}\n                                    </Link>\n                                </td>\n                                <td>\n                                    <RarityDescriptor rarity={commandCode.rarity}/>\n                                </td>\n                            </tr>\n                        })\n                    }\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nexport default CommandCodesPage;\n"],"sourceRoot":""}